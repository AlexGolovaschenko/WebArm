(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a(1),n=a.n(c),i=a(32),l=a.n(i),r=(a(41),a(11));a(42);function j(){return Object(s.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark bg-color-indigo header-height m-0",children:[Object(s.jsx)("a",{className:"navbar-brand",href:"#",children:"WebArm"}),Object(s.jsxs)("ul",{className:"navbar-nav",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"\u041e\u0431\u044c\u0435\u043a\u0442\u044b"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})})]}),Object(s.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(s.jsx)("li",{className:"nav-item ml-auto",children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})}function d(){return Object(s.jsx)("div",{className:"col-2 m-0 p-0",children:Object(s.jsx)("div",{className:"bg-dark bg-color-pale-indigo p-3 h-100",children:Object(s.jsxs)("div",{className:"nav flex-column nav-pills ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(s.jsx)("a",{className:"nav-link active",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"\u041e\u0431\u0437\u043e\u0440"}),Object(s.jsx)("a",{className:"nav-link",id:"v-pills-profile-tab","data-toggle":"pill",href:"#v-pills-profile",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(s.jsx)("a",{className:"nav-link",id:"v-pills-messages-tab","data-toggle":"pill",href:"#v-pills-messages",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false",children:"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"}),Object(s.jsx)("a",{className:"nav-link",id:"v-pills-settings-tab","data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false",children:"\u0416\u0443\u0440\u043d\u0430\u043b"})]})})})}a(43);function b(){return Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}var o=function(e){var t=e.tag,a=e.index;return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[" ",a+1," "]}),Object(s.jsxs)("td",{children:[" ",t.code," "]}),Object(s.jsxs)("td",{children:[" ",t.name," "]}),Object(s.jsxs)("td",{children:[" ",t.value," "]})]})};var h=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"table-responsive",children:Object(s.jsxs)("table",{className:"table table-striped table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"\u2116"}),Object(s.jsx)("td",{children:"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(s.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(s.jsx)("td",{children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(s.jsx)("tbody",{children:e.tags.map((function(e,t){return Object(s.jsx)(o,{tag:e,index:t},e.code)}))})]})})})},v=(a(44),a(6));var u=function(e){var t=e.tagsHistory.map((function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,values:e.values.map((function(e){return{x:new Date(e.add_date),y:e.value}}))}}));return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(v.e,{height:400,width:1e3,xType:"time",children:[Object(s.jsx)(v.c,{}),Object(s.jsx)(v.a,{}),Object(s.jsx)(v.d,{}),Object(s.jsx)(v.f,{}),t.map((function(e,t){return Object(s.jsx)(v.b,{data:e.values},e.tag_id)}))]})})},O="http://bfcloud.space/";var x=function(){var e=n.a.useState([]),t=Object(r.a)(e,2),a=t[0],i=t[1],l=n.a.useState(""),o=Object(r.a)(l,2),v=o[0],x=o[1],m=n.a.useState(!0),f=Object(r.a)(m,2),p=f[0],g=f[1],N=n.a.useState([]),k=Object(r.a)(N,2),_=k[0],y=k[1];function S(){fetch(O+"api/v1/device/current-values").then((function(e){return e.json()})).then((function(e){return i(e)}))}return Object(c.useEffect)((function(){var e=setInterval(S,2e3);return function(){clearInterval(e)}}),[]),Object(c.useEffect)((function(){fetch(O+"api/v1/device").then((function(e){return e.json()})).then((function(e){x(e.name)}))}),[]),Object(c.useEffect)((function(){setTimeout((function(){S(),fetch(O+"api/v1/device/tags/history").then((function(e){return e.json()})).then((function(e){return y(e)})),g(!1)}),2e3)}),[]),Object(s.jsxs)(n.a.Fragment,{children:[Object(s.jsx)(j,{}),Object(s.jsxs)("div",{className:"row m-0 p-0",children:[Object(s.jsx)(d,{}),Object(s.jsx)("div",{className:"col-10 m-0 p-0",children:Object(s.jsxs)("div",{className:"content-height",children:[Object(s.jsxs)("div",{className:"p-3",children:[Object(s.jsxs)("p",{children:["\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",Object(s.jsx)("b",{children:v})]}),p?Object(s.jsx)(b,{}):Object(s.jsx)(h,{tags:a})]}),Object(s.jsx)(u,{tagsHistory:_})]})})]})]})},m=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};l.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),m()}},[[69,1,2]]]);
//# sourceMappingURL=main.ee3d5211.chunk.js.map