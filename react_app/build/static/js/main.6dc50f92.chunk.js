(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(65),c=a.n(l),o=(a(78),a(2)),i=(a(80),a(82),a(4)),s=a(5),m=a(70),u=a(3),d=a(9),f=a(17),h=a(18),p=a(66);var g=a.n(p).a.create({baseURL:"http://engine.ci-cloud.online",timeout:6e4,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});g.interceptors.response.use(function(e){return e},function(e){var t=e.config;if(401===e.response.status&&"/user/token/refresh/"===t.url)return Promise.reject(e);if("token_not_valid"===e.response.data.code&&401===e.response.status&&"Unauthorized"===e.response.statusText){var a=localStorage.getItem("refresh_token");if(a){var n=JSON.parse(atob(a.split(".")[1])),r=Math.ceil(Date.now()/1e3);if(n.exp>r)return g.post("/user/token/refresh/",{refresh:a}).then(function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),g.defaults.headers.Authorization="JWT "+e.data.access,t.headers.Authorization="JWT "+e.data.access,g(t)}).catch(function(e){console.log(e)});console.log("Refresh token is expired",n.exp,r)}else console.log("Refresh token not available.")}return Promise.reject(e)});var v=g;function b(){b=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(O){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new k(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return j()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=x(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(O){return{type:"throw",arg:O}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var h={};o(h,r,function(){return this});var p=Object.getPrototypeOf,g=p&&p(p(_([])));g&&g!==t&&a.call(g,r)&&(h=g);var v=f.prototype=u.prototype=Object.create(h);function E(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function x(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function _(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,o(v,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},E(y.prototype),o(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new y(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(v),o(v,c,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:_(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var E=new(function(){function e(){Object(f.a)(this,e),this.authenticated=!1,this.onLogin=function(){},this.onLogout=function(){},this.onUserInfoReaded=function(){}}return Object(h.a)(e,[{key:"checkAuthentication",value:function(){var e=Object(d.a)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/user/token/check/");case 3:e.sent?this._onLogin():this._onLogout(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onLogout();case 10:t();case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(d.a)(b().mark(function e(t,a,n){var r;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/user/token/obtain/",{username:t,password:a});case 3:r=e.sent,v.defaults.headers.Authorization="JWT "+r.data.access,localStorage.setItem("access_token",r.data.access),localStorage.setItem("refresh_token",r.data.refresh),this._onLogin(),n(),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(d.a)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("user/token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),v.defaults.headers.Authorization=null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:this._onLogout(),t();case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"readUserInfo",value:function(){var e=Object(d.a)(b().mark(function e(){var t;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/info/");case 2:t=e.sent,this.onUserInfoReaded(Object(u.a)({},t.data));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clearUserInfo",value:function(){this.userInfo={},this.onUserInfoReaded({})}},{key:"_onLogin",value:function(){this.authenticated=!0,this.onLogin(),this.readUserInfo()}},{key:"_onLogout",value:function(){this.authenticated=!1,this.onLogout(),this.clearUserInfo()}}]),e}()),y=function(e){var t=e.component,a=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return E.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/user/login",state:{from:e.location}}})}}))},x=a(45);function N(e){var t=e.widgets;return t?(t.sort(function(e,t){var a=parseInt(e.order),n=parseInt(t.order);return a<n?-1:a>n?1:0}),{widgets:t}):{widgets:[]}}function w(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],l=a[1],c=e.deviceId,s={outline:"none",boxShadow:"none"};return r.a.createElement("div",{className:"col-2 m-0 p-0"},r.a.createElement("div",{className:"bg-dark bg-color-gray p-2 h-100"},r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/overview/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041e\u0431\u0437\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/settings/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start "},r.a.createElement("i",{className:"far fa-edit",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/graphs/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"far fa-chart-bar",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/events/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"far fa-bell",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0416\u0443\u0440\u043d\u0430\u043b")))),r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"}},r.a.createElement("div",{className:"border-top mt-3 pt-3 border-secondary"}),r.a.createElement("button",{className:"nav-link text-light btn",style:s,onClick:function(){l(!n)}},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"\tfas fa-list py-1",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("i",{className:"fas fa-caret-down py-1 pl-1 ml-auto d-none d-lg-inline"}))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/admin/config/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041f\u0440\u0438\u0431\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/admin/widgets/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0412\u0438\u0434\u0436\u0435\u0442\u044b"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:s,activeClassName:"bg-dark",to:"/device/".concat(c,"/admin/events/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"))))))))}var k="http://engine.ci-cloud.online";function _(e){var t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.device_id;function s(){v.get(k+"/device/parameters/",{params:{id:i}}).then(function(e){e&&c(Object(u.a)({},e.data))})}return Object(n.useEffect)(function(){s();var e=setInterval(s,5e3);return function(){clearInterval(e)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex border rounded border-dark px-3 mb-1 mx-1"},r.a.createElement("h3",{className:"pt-1"},"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",r.a.createElement("b",null,l.name)),r.a.createElement("div",{className:"ml-auto mx-3 px-3 border-x border-dark"},l.is_online?r.a.createElement("div",{className:"text-success"},r.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-check text-center w-100"})):r.a.createElement("div",{className:"text-danger"},r.a.createElement("span",null,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-times text-center w-100"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"m-0 mr-1 text-right"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b: ",r.a.createElement("br",null)," ",l.verbose_last_update))))}var j=a(6),O=function(e,t){var a=function(a){e.current&&e.current.contains(a.target)&&t()};Object(n.useEffect)(function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}})};var S=function(e){var t=this,a=e.tags.filter(function(e){return!1===e.disabled}),l=e.resetZoomButton,c=r.a.useState(null),i=Object(o.a)(c,2),s=i[0],m=i[1];O(l,function(){console.log("seted onclick"),m(null)}),Object(n.useEffect)(function(){l.current.className=s?l.current.className.replace("d-none","d-block"):l.current.className.replace("d-block","d-none")},[s]);var u=!1;return a.map(function(e){e.values.length>0&&(u=!0)}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100",style:{overflow:"hidden"}},r.a.createElement(j.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:s&&[s.left,s.right],yDomain:s&&[s.bottom,s.top],yPadding:10},r.a.createElement(j.d,{style:{stroke:"#444A50"}}),r.a.createElement(j.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),r.a.createElement(j.h,{style:{line:{stroke:"#6c757d"}}}),a.map(function(e){return r.a.createElement(j.e,{data:e.values,color:e.curve_color,key:e.tag_id})}),r.a.createElement(j.c,{onBrushEnd:function(e){return m(e)},onDrag:function(e){t.setState({lastDrawLocation:{bottom:s.bottom+(e.top-e.bottom),left:s.left-(e.right-e.left),right:s.right-(e.right-e.left),top:s.top+(e.top-e.bottom)}})}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100"},r.a.createElement(j.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30}},r.a.createElement(j.d,{style:{stroke:"#444A50"}}),r.a.createElement(j.g,null),r.a.createElement(j.h,null),r.a.createElement(j.e,{data:[{x:0,y:0}]}))))};var C=function(e){var t=e.tags.filter(function(e){return!1===e.disabled}),a=e.resetZoomButton,l=r.a.useState(null),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useState([]),u=Object(o.a)(m,2),d=u[0],f=u[1];O(a,function(){console.log("seted onclick"),s(null)}),Object(n.useEffect)(function(){a.current.className=i?a.current.className.replace("d-none","d-block"):a.current.className.replace("d-block","d-none")},[i]);var h=t.map(function(e){return e.values.map(function(t){return t.title=e.tag_name,t.color=e.curve_color,t})}),p=function(e,t){var a=t.index;f(h.map(function(e){return e[a]}))},g=!1;return t.map(function(e){e.values.length>0&&(g=!0)}),g?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container  h-100",style:{overflow:"hidden"}},r.a.createElement(j.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:i&&[i.left,i.right],yDomain:i&&[i.bottom,i.top],yPadding:10,onMouseLeave:function(){f([])}},r.a.createElement(j.d,{style:{stroke:"#444A50"}}),r.a.createElement(j.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),r.a.createElement(j.h,{style:{line:{stroke:"#6c757d"}}}),t.map(function(e,t){return 0===t?r.a.createElement(j.e,{onNearestX:p,data:e.values,color:e.curve_color,key:e.tag_id}):r.a.createElement(j.e,{data:e.values,color:e.curve_color,key:e.tag_id})}),r.a.createElement(j.c,{onBrushEnd:function(e){return s(e)},onDrag:function(e){s({lastDrawLocation:{bottom:i.bottom+(e.top-e.bottom),left:i.left-(e.right-e.left),right:i.right-(e.right-e.left),top:i.top+(e.top-e.bottom)}})}}),d[0]&&d.map(function(e,t){return e?r.a.createElement(j.f,{key:t,color:e.color,size:"5",data:[e]}):null}),r.a.createElement(j.a,{values:d,style:{line:{backgroundColor:"red"}}},d[0]&&r.a.createElement("div",{className:"rounded p-1 mx-2",style:{background:"rgba(37, 37, 38, 1)"}},r.a.createElement("table",{className:"table text-light p-0 m-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",style:{fontSize:"1.2em",color:"rgb(180, 180, 180)"},className:"border-0 font-weight-bold p-1 m-0 text-center text-nowrap"},function(e){var t=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:"long",timeStyle:"medium"}).format(t)}(d[0].x)))),r.a.createElement("tbody",null,d.map(function(e,t){return e?r.a.createElement("tr",{style:{fontSize:"1.1em",color:"rgb(210, 210, 210)"},key:t},r.a.createElement("td",{style:{color:e.color,paddingTop:"4px"},className:"text-nowrap border-0 px-1 pb-0 m-0\tfas fa-minus"}),r.a.createElement("td",{className:"text-nowrap border-0 pl-1 pr-2 py-0 m-0"}," ",e.title,": "),r.a.createElement("td",{className:"text-nowrap border-0 px-1 py-0 m-0 font-weight-bold  text-right"}," ",e.y," ")):null})))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100"},r.a.createElement(j.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30}},r.a.createElement(j.d,{style:{stroke:"#444A50"}}),r.a.createElement(j.g,null),r.a.createElement(j.h,null),r.a.createElement(j.e,{data:[{x:0,y:0}]}))))},L=a(69),F=a.n(L);function T(e){var t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],l=a[1],c={onClick:e.onClick,items:e.tags.map(function(e){return{title:e.tag_name,color:e.curve_color,tag_id:e.tag_id,disabled:e.disabled}})};return r.a.createElement("div",{className:"d-block text-dark pl-3"},r.a.createElement(F.a,{height:parseInt(e.height.replace("px","")),onSearchChange:function(e){l(e)},searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",searchText:n,onItemClick:function(e){c.onClick(e.tag_id)},items:c.items}))}function I(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([!1,!0,!1,!1,!1,!1,!1,!1]),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.changeGraphInterval;function f(e){var t=m.map(function(t,a){return a===e});u(t),c(7===e)}function h(e){return m[e]?" active":""}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-left p-0 pt-2 m-0"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(0),onClick:function(){f(0),d("5m","all")}},"\u043e\u043d\u043b\u0430\u0439\u043d"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(1),onClick:function(){f(1),d("1h","1m")}},"1 \u0447\u0430\u0441"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(2),onClick:function(){f(2),d("6h","5m")}},"6 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(3),onClick:function(){f(3),d("12h","10m")}},"12 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(4),onClick:function(){f(4),d("1d","30m")}},"\u0441\u0443\u0442\u043a\u0438"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(5),onClick:function(){f(5),d("7d","2h")}},"\u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(6),onClick:function(){f(6),d("30d","12h")}},"\u043c\u0435\u0441\u044f\u0446"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+h(7),onClick:function(){f(7),d("30d","12h")}},"\u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b")),l?r.a.createElement(P,null):null)}function P(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"pt-2"},r.a.createElement("div",{className:"input-group input-group-sm "},r.a.createElement("div",{className:"input-group-prepend "},r.a.createElement("span",{className:"input-group-text bg-secondary text-light border-secondary ml-1"},"C")),r.a.createElement("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("div",{className:"input-group-prepend "},r.a.createElement("span",{className:"input-group-text bg-secondary text-light border-secondary ml-2"},"\u041f\u043e")),r.a.createElement("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary ml-2 mr-1"},"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")," ",r.a.createElement("br",null))))}a(132);function D(){return r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}var G=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useState(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useRef(null),u=r.a.useRef(null),d=r.a.useRef(null),f=r.a.useRef(null),h=r.a.useRef(null),p=r.a.useRef(null),g=e.tagsHistory,v=e.height?e.height:"300px",b=function(){var t=" full-screen-card";m.current.className.includes(t)?(m.current.className=m.current.className.replace(t,""),u.current.style.height=v,u.current.className=u.current.className.replace("col-10","col-8"),e.legend&&(h.current.className=h.current.className.replace("col-2","col-4")),d.current.className=d.current.className.replace("fa-compress","fa-expand"),d.current.className=d.current.className.replace("text-primary","text-light"),n(!1)):(m.current.className+=t,u.current.style.height="calc(100vh - 150px)",u.current.className=u.current.className.replace("col-8","col-10"),e.legend&&(h.current.className=h.current.className.replace("col-4","col-2")),d.current.className=d.current.className.replace("fa-expand","fa-compress"),d.current.className=d.current.className.replace("text-light","text-primary"),n(!0))},E=function(){i?(s(!i),f.current.className=f.current.className.replace("text-primary","text-light")):(s(!i),f.current.className=f.current.className.replace("text-light","text-primary"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:m,className:"card shadow-sm py-2 bg-dark text-light h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-2 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),r.a.createElement("button",{type:"button",ref:p,className:"btn btn-link text-primary m-0 p-0 mt-1 mr-2 fas fa-search-minus d-none",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:null}),r.a.createElement("button",{type:"button",ref:f,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-ruler-vertical",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:E}),r.a.createElement("button",{type:"button",ref:d,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:b})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement("div",{className:"row m-0 px-3 py-0"},r.a.createElement("div",{ref:u,className:"".concat(e.legend?"col-8":"col-12"," m-0 p-0"),style:{height:v}},i?r.a.createElement(C,{tags:g,resetZoomButton:p}):r.a.createElement(S,{tags:g,resetZoomButton:p})),e.legend&&r.a.createElement("div",{ref:h,className:"col-4 m-0 p-0"},r.a.createElement(T,{tags:g,onClick:e.toggleCurveDisplay,height:v})),e.toolbar&&r.a.createElement("div",{className:"col-12 align-self-start m-0 p-0"},r.a.createElement(I,{toggleModal:b,toggleCroshair:E,changeGraphInterval:e.changeGraphInterval})))))},W=["#f44336","#00BCD4","#FF9800","#E91E63","#009688","#FF5722","#9C27B0","#4CAF50","#795548","#673AB7","#8BC34A","#607D8B","#3F51B5","#CDDC39","#2196F3","#FFEB3B","#03A9F4","#FFC107"];function A(e){var t=W.length;return W[e+1>t?e%t:e]}var R="http://engine.ci-cloud.online";function z(e){var t=r.a.useState(!0),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState({interval:"1h",resolution:"1m",tags:e.widget.tags}),s=Object(o.a)(i,2),m=s[0],d=s[1],f=r.a.useState([]),h=Object(o.a)(f,2),p=h[0],g=h[1],b=e.device_id;function E(){v.get(R+"/device/tags/history/",{params:Object(u.a)({id:b},m)}).then(function(e){e&&function(e){var t=e.map(function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,disabled:!1,curve_color:A(t),values:e.values.map(function(e){return{x:new Date(e.add_date),y:e.value}})}});g(function(e){return t.map(function(t){var a=e.filter(function(e){return e.tag_id===t.tag_id}),n=a.length>0?a[0].disabled:t.disabled;return Object(u.a)({},t,{disabled:n})})})}(e.data)})}return Object(n.useEffect)(function(){E();var e,t=setTimeout(function(){c(!1)},1e3),a=setInterval(E,"5m"===(e=m.interval)?2e3:"1h"===e?3e4:"6h"===e?12e4:"12h"===e?3e5:"1d"===e?9e5:"7d"===e?36e5:"30d"===e?216e5:3e5);return function(){clearTimeout(t),clearInterval(a)}},[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{tagsHistory:p,toggleCurveDisplay:function(e){var t=p.map(function(t){return t.tag_id===e&&(t.disabled=!t.disabled),t});g(t)},title:e.widget.title,legend:e.widget.legend,loading:l,toolbar:e.widget.toolbar,height:e.widget.height,changeGraphInterval:function(e,t){d(function(a){return Object(u.a)({},a,{interval:e,resolution:t})})}}))}var B=function(e){var t=e.tag,a=e.columns,n=e.index;return r.a.createElement("tr",null,a.indexOf("#No")>=0?r.a.createElement("td",{className:"border-secondary text-secondary pl-2"}," ",n+1," "):null,a.indexOf("code")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.code," "):null,a.indexOf("name")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.name," "):null,a.indexOf("value")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.value," "):null)};var M=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useRef(null),c=r.a.useRef(null);return r.a.createElement("div",{ref:c,className:"card shadow-sm py-2 bg-dark text-light h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),r.a.createElement("button",{type:"button",ref:l,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:function(){var e=" full-screen-card";c.current.className.includes(e)?(c.current.className=c.current.className.replace(e,""),l.current.className=l.current.className.replace("fa-compress","fa-expand"),l.current.className=l.current.className.replace("text-primary","text-light"),n(!1)):(c.current.className+=e,l.current.className=l.current.className.replace("fa-expand","fa-compress"),l.current.className=l.current.className.replace("text-light","text-primary"),n(!0))}})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,e.columns?r.a.createElement("div",{className:"table-responsive px-3"},r.a.createElement("table",{className:"table table-hover table-dark table-sm text-light w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,e.columns.indexOf("#No")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold pl-2"},"\u2116"):null,e.columns.indexOf("code")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"):null,e.columns.indexOf("name")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"):null,e.columns.indexOf("value")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"):null)),r.a.createElement("tbody",null,e.tags.map(function(t,a){return r.a.createElement(B,{tag:t,columns:e.columns,key:t.code,index:a})})))):r.a.createElement("i",{className:"text-secondary ml-3"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u044b ... ")))},U="http://engine.ci-cloud.online";function H(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.device_id,f=e.widget.tags;function h(){v.get(U+"/device/tags/value/",{params:{id:d,tags:f}}).then(function(e){e&&c(e.data)})}return Object(n.useEffect)(function(){h();var e=setTimeout(function(){u(!1)},1e3),t=setInterval(h,2e3);return function(){clearTimeout(e),clearInterval(t)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{tags:l,title:e.widget.title,columns:e.widget.columns,loading:m}))}function Y(e){var t=e.tag,a=e.addTextRight,n=e.addTextLeft,l="none";return t&&(l=e.precision?t.value.toFixed(e.precision):t.value),r.a.createElement("div",{className:"card shadow-sm py-2 bg-dark text-light h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement("div",{className:"d-flex justify-content-center align-items-end h-100 px-3"},t?r.a.createElement("p",{className:"display-4 m-0 p-0"},r.a.createElement("span",null,n," "),l,r.a.createElement("span",null," ",a)):r.a.createElement("p",{className:"display-4 text-secondary m-0 p-0"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")))}var q="http://engine.ci-cloud.online";function J(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.device_id,f=e.widget.tags,h=l[0];function p(){v.get(q+"/device/tags/value/",{params:{id:d,tags:f}}).then(function(e){e&&c(e.data)})}return Object(n.useEffect)(function(){p();var e=setTimeout(function(){u(!1)},1e3),t=setInterval(p,2e3);return function(){clearTimeout(e),clearInterval(t)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{tag:h,title:e.widget.title,precision:e.widget.precision,addTextRight:e.widget.addTextRight,addTextLeft:e.widget.addTextLeft,loading:m}))}function X(e){var t=e.record,a=e.index;return r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary text-secondary pl-2 d-none d-lg-table-cell",style:{width:"5%"}}," ",a+1," "),r.a.createElement("td",{className:"border-secondary d-none d-xl-table-cell",style:{width:"15%"}}," ",Z(t.date)," "),r.a.createElement("td",{className:"border-secondary d-table-cell d-xl-none",style:{width:"15%"}}," ",Z(t.date,"short")," "),r.a.createElement("td",{className:"border-secondary",style:{width:"10%"}}," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",a=new Date(e);return new Intl.DateTimeFormat([],{timeStyle:t}).format(a)}(t.date)," "),r.a.createElement("td",{className:"border-secondary"}," ",t.message," "))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",a=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:t}).format(a)}function V(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useRef(null),c=r.a.useRef(null),i=e.toggleCategorySelection,s=e.categories;return r.a.createElement("div",{ref:c,className:"card shadow-sm py-2 bg-dark text-light h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),e.category_selection_panel&&r.a.createElement($,{toggleCategorySelection:i,categories:s}),r.a.createElement("button",{type:"button",ref:l,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:function(){var e=" full-screen-card";c.current.className.includes(e)?(c.current.className=c.current.className.replace(e,""),l.current.className=l.current.className.replace("fa-compress","fa-expand"),l.current.className=l.current.className.replace("text-primary","text-light"),n(!1)):(c.current.className+=e,l.current.className=l.current.className.replace("fa-expand","fa-compress"),l.current.className=l.current.className.replace("text-light","text-primary"),n(!0))}})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,e.records.length>0?r.a.createElement(K,{records:e.records}):r.a.createElement(Q,null),r.a.createElement(te,{readNextPage:e.readNextPage,readPreviousPage:e.readPreviousPage,changePage:e.changePage,pagination:e.pagination})))}function K(e){return r.a.createElement("div",{className:"table-responsive px-3"},r.a.createElement("table",{className:"table table-hover table-dark table-sm text-light w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold pl-2 d-none d-lg-table-cell",style:{width:"5%"}},"\u2116"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold",style:{width:"15%"}},"\u0414\u0430\u0442\u0430"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold",style:{width:"10%"}},"\u0412\u0440\u0435\u043c\u044f"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"))),r.a.createElement("tbody",null,e.records.map(function(e,t){return r.a.createElement(X,{record:e,key:t,index:t})}))))}function Q(){return r.a.createElement("i",{className:"text-secondary ml-3"},"\u0417\u0430\u043f\u0438\u0441\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 ...")}function $(e){var t=e.toggleCategorySelection,a=e.categories;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-inline mr-3"},a.map(function(e,a){return r.a.createElement(ee,{key:a,selected:e.selected,onClick:function(){t(a)}},e.name)})))}function ee(e){return r.a.createElement("button",{type:"button",className:"btn btn-link text-light ml-3 p-0 mt-1",style:{boxShadow:"none"},onClick:e.onClick},e.selected?r.a.createElement("i",{className:"fas fa-check-square text-success mr-2"}):r.a.createElement("i",{className:"far fa-square text-info mr-2"}),e.children)}function te(e){var t=Array.apply(null,Array(e.pagination.num_pages));return e.pagination.num_pages<=1?null:r.a.createElement("div",{className:"d-flex justify-content-center p-3"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-info m-1",onClick:e.readPreviousPage}," ","<<"," "),t.map(function(t,a){var n=a+1===e.pagination.page_number?" active":"";return r.a.createElement("button",{type:"button",key:a,className:"btn btn-sm btn-outline-info m-1"+n,style:{minWidth:"35px"},onClick:function(){e.changePage(a+1)}},a+1)}),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-info m-1",onClick:e.readNextPage}," ",">>"," "))}var ae="http://engine.ci-cloud.online";function ne(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],d=s[1],f=r.a.useState([{name:"\u0410\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435",code:"Alarm",selected:!0},{name:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f",code:"Warning",selected:!0},{name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435",code:"Info",selected:!0},{name:"\u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u044b\u0435",code:"Debug",selected:!1}]),h=Object(o.a)(f,2),p=h[0],g=h[1],b=e.device_id,E=r.a.useState({next:null,previous:null}),y=Object(o.a)(E,2),x=y[0],N=y[1],w=r.a.useState(1),k=Object(o.a)(w,2),_=k[0],j=k[1];function O(e){var t=p.filter(function(e){return e.selected}).map(function(e){return e.code});!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.get(e,t).then(function(e){e&&c(e.data.results),e&&N({next:e.data.next,previous:e.data.previous,num_pages:e.data.num_pages,page_number:e.data.page_number})})}(ae+"/events/log/",{params:{id:b,categories:t,page:e}})}return Object(n.useEffect)(function(){O(_);var e=setTimeout(function(){d(!1)},500),t=setInterval(function(){return function(e){1===e&&O(1)}(_)},1e4);return function(){clearTimeout(e),clearInterval(t)}},[p,_]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{records:l,title:e.widget.title,categories:p,category_selection_panel:e.widget.category_selection_panel,toggleCategorySelection:function(e){g(p.map(function(t,a){return e===a?Object(u.a)({},t,{selected:!t.selected}):t}))},readNextPage:function(){x.next&&j(_+1)},readPreviousPage:function(){x.previous&&j(_-1)},changePage:function(e){j(e)},pagination:x,loading:m}))}function re(e){var t=e.widgetsTemplate,a=e.device_id;return e.widgetsTemplate&&e.widgetsTemplate.widgets?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid row equal p-0 m-0"},t.widgets.map(function(e,t){return r.a.createElement(le,{widget:e,device_id:a,key:t})}))):null}function le(e){var t=e.widget,a=e.device_id;return"table"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(H,{device_id:a,widget:t})):"graph"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(z,{device_id:a,widget:t})):"indicator"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(J,{device_id:a,widget:t})):"eventslog"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(ne,{device_id:a,widget:t})):void 0}function ce(e){var t=Object(s.h)().device_id,a=e.widgetsTemplate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(re,{widgetsTemplate:a,device_id:t}))}function oe(){Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "))}var ie={widgets:[{type:"eventslog",width:4,title:"\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439",category_selection_panel:!0}]};function se(e){var t=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(re,{widgetsTemplate:ie,device_id:t}))}var me={widgets:[{type:"graph",width:4,height:"calc(65vh)",title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",tags:null,legend:!0,toolbar:!0}]};function ue(e){var t=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(re,{widgetsTemplate:me,device_id:t}))}function de(){de=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(j){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return _()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var h={};o(h,r,function(){return this});var p=Object.getPrototypeOf,g=p&&p(p(k([])));g&&g!==t&&a.call(g,r)&&(h=g);var v=f.prototype=u.prototype=Object.create(h);function b(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,o(v,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(v),o(v,c,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}function fe(e,t){Ne(Ee,"/device/parameters/",null,{id:e},t)}function he(e,t,a){Ne(Ee,"/device/tags/parameters/",null,{id:e,tags:t},a)}function pe(e,t,a,n){Ne(ye,"/device/tags/parameters/",t,{id:e},a,n)}function ge(e,t,a){Ne(Ee,"/events/config/",null,{id:e,events_id:t},a)}function ve(e,t,a,n){Ne(ye,"/events/config/",t,{id:e},a,n)}function be(e,t,a){Ne(xe,"/events/config/",null,{id:e,events_id:t},a)}var Ee="GET",ye="POST",xe="DELETE";function Ne(e,t,a,n,r){return we.apply(this,arguments)}function we(){return(we=Object(d.a)(de().mark(function e(t,a,n,r,l){var c,o,i,s=arguments;return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=s.length>5&&void 0!==s[5]?s[5]:null,o=null,i="http://engine.ci-cloud.online",e.t0=t,e.next=e.t0===Ee?6:e.t0===ye?11:e.t0===xe?22:27;break;case 6:return e.next=8,v.get(i+a,{params:r});case 8:return(o=e.sent)&&l(o.data),e.abrupt("break",28);case 11:return e.prev=11,e.next=14,v.post(i+a,n,{params:r});case 14:(o=e.sent)&&l(o.data),e.next=21;break;case 18:e.prev=18,e.t1=e.catch(11),e.t1.response&&c&&c(e.t1.response.data);case 21:return e.abrupt("break",28);case 22:return e.next=24,v.delete(i+a,{params:r});case 24:return(o=e.sent)&&l(o.data),e.abrupt("break",28);case 27:throw"Api method ".concat(t," not supported.");case 28:case"end":return e.stop()}},e,null,[[11,18]])}))).apply(this,arguments)}function ke(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:"text-secondary"},e.titel),r.a.createElement("input",{type:"text",className:"form-control form-control-sm bg-secondary border-secondary text-light",placeholder:e.placeholder,id:e.id,defaultValue:e.value,onChange:e.onChange}),r.a.createElement(Ce,null," ",e.errors," "),r.a.createElement(Le,null," ",e.comment," ")))}function _e(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:"text-secondary"},e.titel),r.a.createElement("input",{type:"number",className:"form-control form-control-sm bg-secondary border-secondary text-light",placeholder:e.placeholder,id:e.id,defaultValue:e.value,min:e.min,max:e.max,onChange:e.onChange}),r.a.createElement(Ce,null," ",e.errors," "),r.a.createElement(Le,null," ",e.comment," ")))}function je(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:"text-secondary"},e.titel),r.a.createElement("select",{className:"form-control form-control-sm bg-secondary border-secondary text-light",id:e.id,placeholder:e.placeholder,value:e.value?e.value:"",onChange:e.onChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"---"),e.options&&e.options.map(function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})),r.a.createElement(Ce,null," ",e.errors," "),r.a.createElement(Le,null," ",e.comment," ")))}function Oe(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:"text-secondary"},e.titel),r.a.createElement("select",{multiple:!0,className:"form-control form-control-sm bg-secondary border-secondary text-light",id:e.id,placeholder:e.placeholder,value:e.value?e.value:[],onChange:e.onChange},e.options&&e.options.map(function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})),r.a.createElement(Ce,null," ",e.errors," "),r.a.createElement(Le,null," ",e.comment," ")))}function Se(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-check pb-3"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:e.id,checked:e.checked,onChange:e.onChange}),r.a.createElement("span",null,e.titel),r.a.createElement(Ce,null," ",e.errors," "),r.a.createElement(Le,null," ",e.comment," ")))}function Ce(e){return r.a.createElement("div",{className:"text-small text-danger p-0 m-0"}," ",e.children," ")}function Le(e){return r.a.createElement("div",{className:"text-small text-info p-0 m-0"}," ",e.children," ")}function Fe(e){return r.a.createElement("div",{className:"container p-0",style:{maxWidth:"800px"}}," ",e.children," ")}function Te(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&a.push(t[n].value);return a}function Ie(){var e=Object(s.h)(),t=e.tag_id,a=e.device_id,l=Object(n.useState)({}),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),f=d[0],h=d[1],p=r.a.useState(!0),g=Object(o.a)(p,2),v=g[0],b=g[1],E=Object(s.g)();Object(n.useEffect)(function(){he(a,[t],function(e){m(e[0]),b(!1)})},[]);return r.a.createElement(r.a.Fragment,null,v?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement(Fe,null,r.a.createElement(De,{tagParameters:i,formErrors:f,submitTagParameters:function(e){pe(a,[e],function(e){m(e[0]),h(null),E.push("/device/".concat(a,"/admin/config/"))},function(e){h(e[0])})},cancelChanges:function(){E.push("/device/".concat(a,"/admin/config/"))},deleteTag:function(){!function(e,t,a){Ne(xe,"/device/tags/parameters/",null,{id:e,tags:t},a)}(a,[t],function(){E.push("/device/".concat(a,"/admin/config/"))})}})))}function Pe(){var e=Object(s.h)().device_id,t=Object(s.g)(),a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1];return r.a.createElement(Fe,null,r.a.createElement(De,{tagParameters:{code:"",name:"",data_type:"INT",modbus_parameters:{data_type:"INT",register_address:0,read_function:"3",write_function:"6"}},formErrors:c,submitTagParameters:function(a){pe(e,[a],function(){t.push("/device/".concat(e,"/admin/config/"))},function(e){i(e[0])})},cancelChanges:function(){t.push("/device/".concat(e,"/admin/config/"))}}))}function De(e){var t=Object(n.useState)(e.tagParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitTagParameters,s=e.cancelChanges,m=e.deleteTag,d={minWidth:"150px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info text-center"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0442\u0435\u0433\u0430"),r.a.createElement(ke,{titel:"\u041a\u043e\u0434",id:"code",value:l.code,onChange:function(e){c(Object(u.a)({},l,{code:e.target.value}))},errors:e.formErrors?e.formErrors.code:null}),r.a.createElement(ke,{titel:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",id:"name",value:l.name,onChange:function(e){c(Object(u.a)({},l,{name:e.target.value}))},errors:e.formErrors?e.formErrors.name:null}),r.a.createElement(je,{titel:"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",id:"data_type",value:l.data_type,options:[{value:"INT",name:"INT"},{value:"FLOAT",name:"FLOAT"},{value:"STRING",name:"STRING"},{value:"BOOL",name:"BOOL"}],onChange:function(e){c(Object(u.a)({},l,{data_type:Te(e)[0]}))},errors:e.formErrors?e.formErrors.data_type:null}),r.a.createElement("h5",{className:"text-info text-center"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b Modbus"),r.a.createElement(je,{titel:"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435",id:"modbus_data_type",value:l.modbus_parameters?l.modbus_parameters.data_type:null,options:[{value:"WORD",name:"WORD"},{value:"INT",name:"INT"},{value:"UINT",name:"UINT"},{value:"FLOAT",name:"FLOAT"},{value:"STRING",name:"STRING"},{value:"BOOL",name:"BOOL"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{data_type:Te(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.data_type:null}),r.a.createElement(_e,{titel:"\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430",id:"modbus_register_address",value:l.modbus_parameters?l.modbus_parameters.register_address:null,onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{register_address:e.target.value})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.register_address:null}),r.a.createElement(je,{titel:"\u0424\u0443\u043d\u043a\u0438\u0446\u044f \u0447\u0442\u0435\u043d\u0438\u044f",id:"modbus_read_function",value:l.modbus_parameters?l.modbus_parameters.read_function:null,options:[{value:"1",name:"1 - Read Coil"},{value:"2",name:"2 - Read Discrete Input"},{value:"3",name:"3 - Read Holding Registers"},{value:"4",name:"4 - Read Input Registers"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{read_function:Te(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.read_function:null}),r.a.createElement(je,{titel:"\u0424\u0443\u043d\u043a\u0438\u0446\u044f \u0437\u0430\u043f\u0438\u0441\u0438",id:"modbus_write_function",value:l.modbus_parameters?l.modbus_parameters.write_function:null,options:[{value:"5",name:"5 - Write Single Coil"},{value:"6",name:"6 - Write Single Holding Register"},{value:"15",name:"15 - Write Multiple Coils"},{value:"16",name:"16 - Write Multiple Holding Registers"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{write_function:Te(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.write_function:null}),r.a.createElement(Ce,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary m-2",style:d},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-2",style:d,onClick:s},"\u041e\u0442\u043c\u0435\u043d\u0430"),e.deleteTag&&r.a.createElement("button",{type:"button",className:"btn btn-outline-danger m-2",style:d,onClick:m},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}function Ge(){var e=Object(s.h)().device_id,t=Object(n.useState)({}),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(null),m=Object(o.a)(i,2),d=m[0],f=m[1],h=Object(n.useState)({}),p=Object(o.a)(h,2),g=p[0],v=p[1],b=Object(n.useState)(null),E=Object(o.a)(b,2),y=E[0],x=E[1],N=Object(n.useState)([]),w=Object(o.a)(N,2),k=w[0],_=w[1],j=r.a.useState(!0),O=Object(o.a)(j,2),S=O[0],C=O[1],L=r.a.useState(!0),F=Object(o.a)(L,2),T=F[0],I=F[1],P=r.a.useState(!0),G=Object(o.a)(P,2),W=G[0],A=G[1];Object(n.useEffect)(function(){fe(e,function(e){c(e),C(!1)}),function(e,t){Ne(Ee,"/device/modbus/parameters/",null,{id:e},t)}(e,function(e){v(e),I(!1)}),he(e,[],function(e){_(e),A(!1)})},[]);return r.a.createElement(r.a.Fragment,null,S||T||W?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-5"},r.a.createElement(We,{deviceParameters:l,formErrors:d,submitDeviceConfig:function(t){!function(e,t,a,n){var r={id:e},l=Object(u.a)({},t);Ne(ye,"/device/parameters/",l,r,a,n)}(e,t,function(e){c(e),f(null)},function(e){f(e)})}}),r.a.createElement("p",{className:"my-3 border-top border-secondary"}),r.a.createElement(Ae,{deviceModbusParameters:g,formErrors:y,submitModbusParameters:function(t){!function(e,t,a,n){var r={id:e},l=Object(u.a)({},t);Ne(ye,"/device/modbus/parameters/",l,r,a,n)}(e,t,function(e){v(e),x(null)},function(e){x(e)})}})),r.a.createElement("div",{className:"col-12 col-lg-7 border-left border-secondary"},r.a.createElement("p",{className:"my-3 d-lg-none border-top border-secondary"}),r.a.createElement(Re,{deviceTagsParameters:k,device_id:e}))))}function We(e){var t=Object(n.useState)(e.deviceParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitDeviceConfig;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement(ke,{titel:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0431\u043e\u0440\u0430",id:"name",placeholder:"...",value:l.name,onChange:function(e){c(Object(u.a)({},l,{name:e.target.value}))},errors:e.formErrors?e.formErrors.name:null}),r.a.createElement(_e,{titel:"\u041f\u0435\u0440\u0438\u043e\u0434 \u043e\u043f\u0440\u043e\u0441\u0430 (\u0441\u0435\u043a)",id:"polling_period",placeholder:"...",value:l.polling_period,min:1,onChange:function(e){c(Object(u.a)({},l,{polling_period:e.target.value}))},errors:e.formErrors?e.formErrors.polling_period:null}),r.a.createElement(_e,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (\u0441\u0435\u043a)",id:"timeout",placeholder:"...",value:l.timeout,onChange:function(e){c(Object(u.a)({},l,{timeout:e.target.value}))},errors:e.formErrors?e.formErrors.timeout:null}),r.a.createElement(Ce,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}function Ae(e){var t=Object(n.useState)(e.deviceModbusParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitModbusParameters;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 Modbus"),r.a.createElement(je,{titel:"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b",id:"protocol_type",value:l.protocol_type,options:[{value:"RTU",name:"Modbus-RTU"},{value:"ASCII",name:"Modbus-ASCII"},{value:"TCP",name:"Modbus-TCP"}],onChange:function(e){c(Object(u.a)({},l,{protocol_type:Te(e)[0]}))},errors:e.formErrors?e.formErrors.protocol_type:null}),r.a.createElement(_e,{titel:"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",id:"device_address",value:l.device_address,min:1,max:247,onChange:function(e){c(Object(u.a)({},l,{device_address:e.target.value}))},errors:e.formErrors?e.formErrors.device_address:null}),r.a.createElement(je,{titel:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445",id:"baudrate",value:l.baudrate,options:[{value:300,name:"300"},{value:600,name:"600"},{value:1200,name:"1200"},{value:2400,name:"2400"},{value:4800,name:"4800"},{value:9600,name:"9600"},{value:14400,name:"14400"},{value:19200,name:"19200"},{value:28800,name:"28800"},{value:38400,name:"38400"},{value:57600,name:"57600"},{value:115200,name:"115200"}],onChange:function(e){c(Object(u.a)({},l,{baudrate:Te(e)[0]}))},errors:e.formErrors?e.formErrors.baudrate:null}),r.a.createElement(je,{titel:"\u0414\u043b\u0438\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430",id:"address_size",value:l.address_size,options:[{value:"8",name:"8"}],onChange:function(e){c(Object(u.a)({},l,{address_size:Te(e)[0]}))},errors:e.formErrors?e.formErrors.address_size:null}),r.a.createElement(je,{titel:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0447\u0451\u0442\u043d\u043e\u0441\u0442\u0438",id:"parity",value:l.parity,options:[{value:"none",name:"\u043d\u0435\u0442"},{value:"even",name:"\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c"},{value:"odd",name:"\u043d\u0435\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c"}],onChange:function(e){c(Object(u.a)({},l,{parity:Te(e)[0]}))},errors:e.formErrors?e.formErrors.parity:null}),r.a.createElement(je,{titel:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043f-\u0431\u0438\u0442\u043e\u0432",id:"stopbit",value:l.stopbit,options:[{value:"1",name:"1"},{value:"2",name:"2"}],onChange:function(e){c(Object(u.a)({},l,{stopbit:Te(e)[0]}))},errors:e.formErrors?e.formErrors.stopbit:null}),r.a.createElement(_e,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u043c\u0441)",id:"packet_timout",value:l.packet_timout,onChange:function(e){c(Object(u.a)({},l,{packet_timout:e.target.value}))},errors:e.formErrors?e.formErrors.packet_timout:null}),r.a.createElement(_e,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0431\u0438\u0442\u0430 (\u043c\u0441)",id:"bit_timout",value:l.bit_timout,onChange:function(e){c(Object(u.a)({},l,{bit_timout:e.target.value}))},errors:e.formErrors?e.formErrors.bit_timout:null}),r.a.createElement(Se,{titel:"\u041c\u043b\u0430\u0434\u0448\u0438\u043c \u0431\u0430\u0439\u0442\u043e\u043c \u0432\u043f\u0435\u0440\u0435\u0434",id:"lower_byte_forward",checked:l.lower_byte_forward,onChange:function(e){c(Object(u.a)({},l,{lower_byte_forward:e.target.checked}))},errors:e.formErrors?e.formErrors.lower_byte_forward:null}),r.a.createElement(Se,{titel:"\u041c\u043b\u0430\u0434\u0448\u0438\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043c \u0432\u043f\u0435\u0440\u0435\u0434",id:"lower_register_forward",checked:l.lower_register_forward,onChange:function(e){c(Object(u.a)({},l,{lower_register_forward:e.target.checked}))},errors:e.formErrors?e.formErrors.lower_register_forward:null}),r.a.createElement(Se,{titel:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435",id:"allow_group_reading",checked:l.allow_group_reading,onChange:function(e){c(Object(u.a)({},l,{allow_group_reading:e.target.checked}))},errors:e.formErrors?e.formErrors.allow_group_reading:null}),r.a.createElement(Ce,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}function Re(e){var t=e.deviceTagsParameters,a=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h5",{className:"text-info"},"\u0422\u0435\u0433\u0438 \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success ml-auto",onClick:function(){a.push("/device/".concat(e.device_id,"/admin/config/tags/create/"))}},r.a.createElement("i",{className:"fas fa-plus px-1"})," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433")),t.length>0?r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-dark table-striped table-sm text-light w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold pl-2"},"\u2116"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("tbody",null,t.map(function(t,a){return r.a.createElement(ze,{key:a,tag:t,index:a,device_id:e.device_id})})))):r.a.createElement("i",{className:"text-secondary ml-3"},"\u0422\u0435\u0433\u0438 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u044b ... "))}function ze(e){var t=e.tag,a=Object(s.g)();return r.a.createElement("tr",{className:"table-row-like-link",onClick:function(){return n=t.id,void a.push("/device/".concat(e.device_id,"/admin/config/tags/").concat(n,"/detail/"));var n}},r.a.createElement("td",{className:"border-0 text-secondary pl-2"}," ",e.index+1," "),r.a.createElement("td",{className:"border-0"}," ",t.code," "),r.a.createElement("td",{className:"border-0"}," ",t.data_type," "),r.a.createElement("td",{className:"border-0"}," ",t.name," "),r.a.createElement("td",{className:"border-0"}," ",t.value," "))}function Be(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-color-dark-gray text-secondary content-height"},r.a.createElement("div",{className:"container mt-5 text-center"},r.a.createElement("h1",null,"Error 404"),r.a.createElement("h3",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))))}function Me(e){var t=e.device_id,a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1],s=r.a.useState(!0),m=Object(o.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){fe(t,function(e){i(e),d(!1)})},[]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement("div",{className:"d-flex border-bottom border-secondary mb-3 pb-2"},r.a.createElement("h5",{className:"pt-2 mt-1"},"\u041f\u0440\u0438\u0431\u043e\u0440: ",r.a.createElement("b",null,c.name)),r.a.createElement("div",{className:"ml-auto mx-3 px-3 border-x border-secondary"},c.is_online?r.a.createElement("div",{className:"text-success"},r.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-check text-center w-100"})):r.a.createElement("div",{className:"text-danger"},r.a.createElement("span",null,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-times text-center w-100"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"m-0 mr-1 text-right"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0441\u0435\u0430\u043d\u0441 \u0441\u0432\u044f\u0437\u0438: ",r.a.createElement("br",null)," ",c.verbose_last_update))))}function Ue(){var e=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement("div",{className:"px-3 pb-3 pt-2 mx-1 my-0 bg-dark rounded text-light",style:{minHeight:"calc(100vh - 135px)"}},r.a.createElement(Me,{device_id:e}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/",component:function(){return r.a.createElement(Ge,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/tags/:tag_id/detail/",component:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/tags/create/",component:function(){return r.a.createElement(Pe,null)}}),r.a.createElement(s.b,{component:Be}))))}var He="http://engine.ci-cloud.online";function Ye(e){var t=Object(s.h)().device_id,a=e.updateWidgetsTemplate,l=r.a.useState(N(e.widgetsTemplate)),c=Object(o.a)(l,2),i=c[0],m=c[1],u=r.a.useState(0),d=Object(o.a)(u,2),f=d[0],h=d[1],p=r.a.useState([]),g=Object(o.a)(p,2),b=g[0],E=g[1];Object(n.useEffect)(function(){v.get(He+"/device/tags/value/",{params:{id:t}}).then(function(e){e&&E(e.data)})},[]);var y=r.a.useState(!1),x=Object(o.a)(y,2),w=x[0],k=x[1],_=function(){k(!1),setTimeout(function(){k(!0)},0)};Object(n.useEffect)(function(){_()},[f,b]);var j=function(e){var t=i.widgets.map(function(e){return e});t.push(e),m({widgets:t})};return i.widgets?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432"),r.a.createElement("div",{className:"row equal p-0 m-0"},r.a.createElement("div",{className:"col-md-6 col-lg-7 col-xl-8 px-1",style:{minHeight:"80vh"}},r.a.createElement("div",{className:"p-0 m-0 bg-dark rounded h-100"},r.a.createElement(qe,{widgetsTemplate:i,selectedWidget:f,changeSelectedWidget:function(e){h(e)}}))),r.a.createElement("div",{className:"col-md-6 col-lg-5 col-xl-4 px-1",style:{minHeight:"80vh"}},r.a.createElement("div",{className:"p-0 m-0 bg-dark rounded h-100"},r.a.createElement(Xe,{addWidget:function(e){"table"===e?j(tt):"graph"===e?j(at):"indicator"===e&&j(nt)},saveWidgetsTemplate:function(){a(i)},cancelChanges:function(){m(N(e.widgetsTemplate)),h(0),_()}}),w?r.a.createElement(Ze,{widget:i.widgets[f],tags:b,updateWidget:function(e){var t=i.widgets.map(function(t,a){return a===f?e:t});m({widgets:t})},deleteWidget:function(){return function(e){var t=i.widgets.map(function(e){return e});t.splice(e,1),m({widgets:t}),h(0)}(f)}}):null)))):r.a.createElement(D,null)}function qe(e){var t=e.widgetsTemplate,a=e.selectedWidget,n=e.changeSelectedWidget;if(!t.widgets)return r.a.createElement(D,null);var l=t.widgets.map(function(e,t){var l=t===a?"border-primary":"";return r.a.createElement("div",{key:t,className:"col-".concat(3*e.width," p-1 m-0")},r.a.createElement("button",{className:"btn btn-dark w-100 h-100 text-left p-0 "+l,style:{overflow:"hidden",minHeight:"10vh",boxShadow:"none"},onClick:function(){n(t)}},r.a.createElement("div",{className:"h-100 p-0 px-2"},r.a.createElement("span",{className:"small text-nowrap"},e.title),r.a.createElement(Je,{widget:e}))))});return r.a.createElement("div",{className:"d-flex justify-content-center m-0 p-4",style:{}},r.a.createElement("div",{className:"row equal rounded m-0 p-3",style:{backgroundColor:"#1E1E1E",maxWidth:"800px"}},l))}var Je=function(e){var t=e.widget,a=e.color?e.color:"secondary";return"table"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"fas fa-table text-".concat(a," m-2"),style:{fontSize:"4em"}})):"graph"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"fas fa-chart-area text-".concat(a," m-2"),style:{fontSize:"4em"}})):"indicator"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"border rounded-sm text-".concat(a," border-").concat(a," text-nowrap m-2 px-2"),style:{fontSize:"1.5em"}},t.addTextLeft," XX.X ",t.addTextRight)):null};function Xe(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],l=a[1],c=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"m-1 pt-2 pb-3 border-bottom border-secondary"},r.a.createElement("div",{className:"d-flex justify-content-left"},r.a.createElement("button",{className:"btn btn-outline-info btn-sm mr-3",type:"button",onClick:function(){return l(!0)}}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442"),r.a.createElement("button",{className:"btn btn-outline-success btn-sm mr-3",type:"button",onClick:e.saveWidgetsTemplate},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",type:"button",onClick:e.cancelChanges},"\u041e\u0442\u043c\u0435\u043d\u0430")))),r.a.createElement(Ke,{show:n,handleClose:c,handleAddWidget:function(t){e.addWidget(t),c()}}))}function Ze(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=e.deleteWidget,c={};return t?("table"===t.type&&(c=r.a.createElement(Qe,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),"graph"===t.type&&(c=r.a.createElement($e,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),"indicator"===t.type&&(c=r.a.createElement(et,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),r.a.createElement("div",{className:"p-0 m-0 my-1"},r.a.createElement(Ve,null," ",c," "))):null}function Ve(e){return r.a.createElement("div",{className:"text-light p-2 m-0 mx-1 h-100"},e.children)}function Ke(e){var t=function(e){return r.a.createElement("div",{className:"col-4 p-1 w-100"},r.a.createElement("button",{type:"button",className:"btn btn-primary w-100 h-100",onClick:e.onClick},r.a.createElement("div",{className:"h-100 p-0 px-2"},e.children)))};return e.show?r.a.createElement("div",{className:"modal modal-bg d-block"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u0438\u0434\u0436\u0435\u0442"),r.a.createElement("button",{type:"button",className:"close",onClick:e.handleClose},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row equal px-1"},r.a.createElement(t,{onClick:function(){return e.handleAddWidget("indicator")}},r.a.createElement("span",{className:"text-nowrap"},"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"),r.a.createElement("div",{className:"pt-2"}),r.a.createElement(Je,{widget:{type:"indicator"},color:"light"})),r.a.createElement(t,{onClick:function(){return e.handleAddWidget("table")}},r.a.createElement("span",{className:"text-nowrap"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"),r.a.createElement(Je,{widget:{type:"table"},color:"light"})),r.a.createElement(t,{onClick:function(){return e.handleAddWidget("graph")}},r.a.createElement("span",{className:"text-nowrap"},"\u0413\u0440\u0430\u0444\u0438\u043a"),r.a.createElement(Je,{widget:{type:"graph"},color:"light"})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.handleClose},"\u041e\u0442\u043c\u0435\u043d\u0430"))))):null}function Qe(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(ke,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(_e,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(_e,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(Oe,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:l,comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{tags:Te(e)}))}}),r.a.createElement(Oe,{titel:"\u041a\u043e\u043b\u043e\u043d\u043a\u0438",id:"columns",placeholder:"...",value:t.columns,options:[{value:"#No",name:"\u2116"},{value:"code",name:"\u041a\u043e\u0434 \u0442\u0435\u0433\u0430"},{value:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"},{value:"value",name:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"}],comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{columns:Te(e)}))}})))}function $e(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0413\u0440\u0430\u0444\u0438\u043a"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(ke,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(_e,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(_e,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(Oe,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:l,comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{tags:Te(e)}))}}),r.a.createElement(Se,{titel:"\u041b\u0435\u0433\u0435\u043d\u0434\u0430",id:"legend",checked:t.legend,onChange:function(e){n(Object(u.a)({},t,{legend:e.target.checked}))}}),r.a.createElement(Se,{titel:"\u041f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432",id:"toolbar",checked:t.toolbar,onChange:function(e){n(Object(u.a)({},t,{toolbar:e.target.checked}))}})))}function et(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(ke,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(_e,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(_e,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(je,{titel:"\u0422\u0435\u0433",id:"tags",placeholder:"...",value:t.tags[0],options:l,onChange:function(e){n(Object(u.a)({},t,{tags:Te(e)}))}}),r.a.createElement(_e,{titel:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439",id:"precision",placeholder:"...",value:t.precision,min:0,max:5,onChange:function(e){n(Object(u.a)({},t,{precision:e.target.value}))}}),r.a.createElement(ke,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043b\u0435\u0432\u0430",id:"addTextLeft",placeholder:"...",value:t.addTextLeft,onChange:function(e){n(Object(u.a)({},t,{addTextLeft:e.target.value}))}}),r.a.createElement(ke,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043f\u0440\u0430\u0432\u0430",id:"addTextRight",placeholder:"...",value:t.addTextRight,onChange:function(e){n(Object(u.a)({},t,{addTextRight:e.target.value}))}})))}var tt={type:"table",width:4,title:"\u041d\u043e\u0432\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430",tags:[],columns:["#No","code","name","value"]},at={type:"graph",width:4,title:"\u041d\u043e\u0432\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u043a",tags:[],legend:!1,toolbar:!0},nt={type:"indicator",width:1,title:"\u041d\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",tags:[],precision:1};function rt(){var e=Object(s.h)().device_id,t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],m=r.a.useState({}),d=Object(o.a)(m,2),f=d[0],h=d[1],p=r.a.useState(!0),g=Object(o.a)(p,2),v=g[0],b=g[1];return Object(n.useEffect)(function(){ge(e,[],function(e){c(e),b(!1)}),fe(e,h)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),r.a.createElement("div",{className:"p-3 mx-1 my-0 bg-dark rounded text-light",style:{minHeight:"calc(100vh - 135px)"}},v?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex mb-3 border-bottom border-secondary pb-3"},r.a.createElement("h4",{className:"pt-1 text-info"},'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 "',f.name,'"'),r.a.createElement(i.c,{to:"/device/".concat(e,"/admin/events/create/"),className:"btn btn-outline-info ml-auto",device_id:e},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 ",r.a.createElement("i",{className:""}))),l.length>0?r.a.createElement(lt,{events:l,device_id:e,handlEventDelete:function(t){be(e,[t],function(){c(l.filter(function(e){return t!==e.id}))})},toggleEventEnable:function(t){var a=[Object(u.a)({},t,{enable:!t.enable})];ve(e,a,function(e){var t=l.map(function(t){return e[0].id===t.id?Object(u.a)({},e[0]):t});c(t)},function(e){console.log(e)})}}):r.a.createElement(ot,null))))}function lt(e){var t=e.events,a=e.device_id,n=e.handlEventDelete,l=e.toggleEventEnable;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-dark table-sm table-hover mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-secondary"},r.a.createElement("th",{className:"border-0"},"\u2116"),r.a.createElement("th",{className:"border-0"},"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),r.a.createElement("th",{className:"border-0"},"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f"),r.a.createElement("th",{className:"border-0"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b"),r.a.createElement("th",{className:"border-0"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("tbody",null,r.a.createElement(ct,{events:t,device_id:a,handlEventDelete:n,toggleEventEnable:l}))))}function ct(e){var t=e.events,a=e.device_id,n=e.handlEventDelete,l=e.toggleEventEnable;return r.a.createElement(r.a.Fragment,null,t.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("tr",null,r.a.createElement("td",{className:"text-secondary py-2"},t+1),r.a.createElement("td",{className:"py-0"},r.a.createElement(i.c,{to:"/device/".concat(a,"/admin/events/").concat(e.id,"/detail/"),className:"btn btn-link w-100 text-left pl-0 py-2 text-light"},e.raise_message?e.raise_message:r.a.createElement("i",{className:"text-secondary"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e ..."))),r.a.createElement("td",null,e.enable?r.a.createElement("button",{className:"btn btn-outline-dark fas fa-check text-success",onClick:function(){return l(e)}}):r.a.createElement("button",{className:"btn btn-outline-dark fas fa-times text-secondary",style:{fontSize:"1.3rem"},onClick:function(){return l(e)}})),r.a.createElement("td",null,e.is_active?r.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning ml-3 py-2",style:{fontSize:"1.1rem"}}):""),r.a.createElement("td",null,"  ",r.a.createElement("button",{className:"btn btn-outline-dark fas fa-times text-danger",style:{fontSize:"1.2rem"},onClick:function(){return n(e.id)}}))))}))}function ot(){return r.a.createElement("i",{className:"text-secondary "},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 ...")}function it(){var e=Object(s.h)(),t=e.event_id,a=e.device_id,l=Object(n.useState)({}),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),f=d[0],h=d[1],p=r.a.useState(!0),g=Object(o.a)(p,2),v=g[0],b=g[1],E=Object(s.g)();return Object(n.useEffect)(function(){ge(a,[t],function(e){m(e[0]),b(!1)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement("div",{className:"p-3 mx-1 my-0 bg-dark rounded text-light",style:{minHeight:"calc(100vh - 135px)"}},v?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(D,null)):r.a.createElement(Fe,null,r.a.createElement("h5",{className:"text-info text-center mb-3"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(mt,{event:i,formErrors:f,onSubmit:function(e){ve(a,[e],function(){h(null),E.push("/device/".concat(a,"/admin/events/"))},function(e){h(e[0])})},onCancel:function(){E.push("/device/".concat(a,"/admin/events/"))},onDelete:function(){be(a,[t],function(){E.push("/device/".concat(a,"/admin/events/"))})}}))))}function st(){var e=Object(s.h)().device_id,t={device:e,enable:!1,category:"Alarm"},a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],i=l[1],m=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement("div",{className:"p-3 mx-1 my-0 bg-dark rounded text-light",style:{minHeight:"calc(100vh - 135px)"}},r.a.createElement(Fe,null,r.a.createElement("h5",{className:"text-info text-center mb-3"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(mt,{event:t,formErrors:c,onSubmit:function(t){ve(e,[t],function(){i(null),m.push("/device/".concat(e,"/admin/events/"))},function(e){i(e[0])})},onCancel:function(){m.push("/device/".concat(e,"/admin/events/"))}}))))}function mt(e){var t=Object(n.useState)(e.event),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.onSubmit,s=e.onCancel,m=e.onDelete,d={minWidth:"150px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement(Se,{titel:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f",id:"enable",checked:l.enable,onChange:function(e){c(Object(u.a)({},l,{enable:e.target.checked}))},errors:e.formErrors?e.formErrors.enable:null}),r.a.createElement(ke,{titel:"\u0424\u043e\u0440\u043c\u0443\u043b\u0430",id:"expression",placeholder:"...",value:l.expression,onChange:function(e){c(Object(u.a)({},l,{expression:e.target.value}))},errors:e.formErrors?e.formErrors.expression:null,comment:r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"mt-3 btn btn-sm btn-outline-info","data-toggle":"collapse","data-target":"#expressions_help"},"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 ",r.a.createElement("i",{className:"far fa-question-circle"})),r.a.createElement("p",{id:"expressions_help",className:"collapse mt-3 border-top border-bottom border-info py-3"},"\u0412 \u0444\u043e\u0440\u043c\u0443\u043b\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439: ",r.a.createElement("br",null),"- \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag_code}}"),"  ",r.a.createElement("br",null),"- \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f",r.a.createElement("kbd",{className:"ml-2",title:"\u0420\u0430\u0432\u043d\u043e"},"=="),r.a.createElement("kbd",{className:"ml-2",title:"\u041d\u0435\u0440\u0430\u0432\u043d\u043e"},"!="),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u043e\u043b\u044c\u0448\u0435"},">"),r.a.createElement("kbd",{className:"ml-2",title:"\u041c\u0435\u043d\u044c\u0448\u0435"},"<"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e"},">="),r.a.createElement("kbd",{className:"ml-2",title:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e"},"<="),r.a.createElement("br",null),"- \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u0421\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},"+"),r.a.createElement("kbd",{className:"ml-2",title:"\u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435"},"-"),r.a.createElement("kbd",{className:"ml-2",title:"\u0414\u0435\u043b\u0435\u043d\u0438\u0435"},"/"),r.a.createElement("kbd",{className:"ml-2",title:"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 \u043e\u0441\u0442\u0430\u0442\u043a\u0430"},"//"),r.a.createElement("kbd",{className:"ml-2",title:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043e\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f"},"%"),r.a.createElement("kbd",{className:"ml-2",title:"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435"},"*"),r.a.createElement("kbd",{className:"ml-2",title:"\u0412\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c"},"**"),r.a.createElement("br",null),"- \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0418"},"and"),r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0418\u041b\u0418"},"or"),r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u044f"},"not"),r.a.createElement("br",null),"- \u0431\u0438\u0442\u043e\u0432\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0418"},"&"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0418\u041b\u0418"},"|"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0435\u0435 \u0418\u041b\u0418"},"^"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u0430\u044f \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u044f"},"~"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u044b\u0439 \u0441\u0434\u0432\u0438\u0433 \u0432 \u043b\u0435\u0432\u043e"},"<<"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u044b\u0439 \u0441\u0434\u0432\u0438\u0433 \u0432 \u043f\u0440\u0430\u0432\u043e"},">>"),r.a.createElement("br",null),"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0444\u043e\u0440\u043c\u0443\u043b:  ",r.a.createElement("br",null),"- \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430 tag1 \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e 12.5 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag2}} >= 12.5")," ",r.a.createElement("br",null),"- \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0431\u0438\u0442\u0430 \u21165 \u0442\u0435\u0433\u0430 tag2 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag2}} >> 5 & 1"),"  ",r.a.createElement("br",null),"- \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u0442\u0430 \u21160 \u0442\u0435\u0433\u0430 tag2 \u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u0442\u0430 \u211614 \u0442\u0435\u0433\u0430 tag3 ",r.a.createElement("kbd",{className:"ml-2"},"({{tag2}} & 1) or ({{tag3}} >> 14 & 1)")))}),r.a.createElement(ke,{titel:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f",id:"raise_message",placeholder:"...",value:l.raise_message,onChange:function(e){c(Object(u.a)({},l,{raise_message:e.target.value}))},errors:e.formErrors?e.formErrors.raise_message:null}),r.a.createElement(ke,{titel:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",id:"fall_message",placeholder:"...",value:l.fall_message,onChange:function(e){c(Object(u.a)({},l,{fall_message:e.target.value}))},errors:e.formErrors?e.formErrors.fall_message:null}),r.a.createElement(je,{titel:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",id:"category",placeholder:"...",value:l.category,options:[{value:"Alarm",name:"\u0410\u0432\u0430\u0440\u0439\u043d\u043e\u0435"},{value:"Warning",name:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"},{value:"Info",name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435"},{value:"Debug",name:"\u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u043e\u0435"}],onChange:function(e){c(Object(u.a)({},l,{category:Te(e)[0]}))},errors:e.formErrors?e.formErrors.category:null}),r.a.createElement("p",{className:"border-top border-secondary"}),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"col-md-6"}," \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435:",l.is_active?r.a.createElement("span",{className:"text-warning"}," \u0410\u041a\u0422\u0418\u0412\u041d\u041e "):r.a.createElement("span",{className:"text-light"}," \u041d\u0415 \u0410\u041a\u0422\u0418\u0412\u041d\u041e ")),r.a.createElement("p",{className:"col-md-6"}," \u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0441\u0440\u0430\u0431\u0442\u044b\u0432\u0430\u043d\u0438\u044f:",l.raise_time?r.a.createElement("span",null," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",n=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:t,timeStyle:a}).format(n)}(l.raise_time)," "):r.a.createElement("span",{className:"text-secondary"}," \u041d\u0438\u043a\u043e\u0433\u0434\u0430 "))),r.a.createElement("p",{className:"border-top border-secondary"}),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary m-2",style:d},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-2",style:d,onClick:s},"\u041e\u0442\u043c\u0435\u043d\u0430"),e.onDelete&&r.a.createElement("button",{type:"button",className:"btn btn-outline-danger m-2",style:d,onClick:m},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}function ut(){ut=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(j){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return _()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var h={};o(h,r,function(){return this});var p=Object.getPrototypeOf,g=p&&p(p(k([])));g&&g!==t&&a.call(g,r)&&(h=g);var v=f.prototype=u.prototype=Object.create(h);function b(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,o(v,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(v),o(v,c,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var dt="http://engine.ci-cloud.online";function ft(){var e=Object(s.h)().id,t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1];function i(t){c(t),function(e,t,a){pt.apply(this,arguments)}(e,t)}return Object(n.useEffect)(function(){!function(e,t){ht.apply(this,arguments)}(e,function(e){c(N(e.template))})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-color-dark-gray text-secondary h-100"},r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement(w,{deviceId:e}),r.a.createElement("div",{className:"col-10 m-0 p-0"},r.a.createElement("div",{className:"content-height p-3"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/overview/",component:function(){return r.a.createElement(ce,{widgetsTemplate:l})}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/settings/",component:function(){return r.a.createElement(oe,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/events/",component:function(){return r.a.createElement(se,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/graphs/",component:function(){return r.a.createElement(ue,null)}}),r.a.createElement(s.b,{path:"/device/:device_id/admin/config/",component:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/widgets/",component:function(){return r.a.createElement(Ye,{updateWidgetsTemplate:i,widgetsTemplate:l})}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/",component:function(){return r.a.createElement(rt,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/:event_id/detail/",component:function(){return r.a.createElement(it,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/create/",component:function(){return r.a.createElement(st,null)}}),r.a.createElement(s.b,{component:Be})))))))}function ht(){return(ht=Object(d.a)(ut().mark(function e(t,a){var n;return ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get(dt+"/widgets/template/",{params:{id:t}});case 2:n=e.sent,a(Object(u.a)({},n.data));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pt(){return(pt=Object(d.a)(ut().mark(function e(t,a,n){var r,l;return ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={template:a},e.next=3,v.post(dt+"/widgets/template/",r,{params:{id:t}});case 3:l=e.sent,n&&n(Object(u.a)({},l.data));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gt(){return r.a.createElement("div",{className:"col-2 m-0 p-0"},r.a.createElement("div",{className:"bg-dark bg-color-gray p-2 h-100"},r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement(i.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/overview/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041e\u0431\u0437\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/map/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-map-marked-alt",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/employers/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-users",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/profile/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-chalkboard-teacher",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442")))))))}var vt="http://engine.ci-cloud.online";var bt=function(e){var t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1],s=e.device;function m(){v.get(vt+"/device/parameters/",{params:{id:s.id}}).then(function(e){if(e){var t=e.data;c(Object(u.a)({},t))}})}return Object(n.useEffect)(function(){m();var e=setInterval(m,5e3);return function(){clearInterval(e)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"nav-link p-0 m-0",to:"/device/".concat(s.id,"/overview/")},r.a.createElement("div",{className:"border border-secondary rounded p-2 h-100 bg-dark text-light card-hover",style:{overflow:"hidden"}},r.a.createElement("h6",{className:"text-nowrap"},s.name),r.a.createElement("div",{className:"p-0 m-0 small w-100"},r.a.createElement("table",{className:"table table-sm p-0 m-0 table-dark text-light w-100"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null," \u0421\u0432\u044f\u0437\u044c: "),r.a.createElement("td",{className:"text-right"}," ",l.is_online?r.a.createElement("span",{className:"text-light"},"\u041e\u041a"):r.a.createElement("span",{className:"badge badge-pill badge-danger text-dark",style:{fontSize:"0.85em"}},"\u041d\u0415\u0422"))),r.a.createElement("tr",null,r.a.createElement("td",null,"  \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e: "),r.a.createElement("td",{className:"text-right"}," ",l.last_update?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-light",a=new Date(e),n=new Date;if(n=n.setDate(n.getDate()-1),a>n){var l=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"});return r.a.createElement("span",{className:t},l.format(a))}var c=new Intl.DateTimeFormat([],{month:"short",day:"numeric"});return r.a.createElement("span",{className:t},c.format(a))}(l.last_update,l.is_online?null:"text-warning"):r.a.createElement("span",{className:"text-secondary"},"\u043d\u0438\u043a\u043e\u0433\u0434\u0430"))),r.a.createElement("tr",null,r.a.createElement("td",null,"   \u0410\u0432\u0430\u0440\u0438\u0438: "),r.a.createElement("td",{className:"text-right"}," \u041d\u0435\u0442  "))))))))};var Et=function(e){var t=e.facilityInfo,a=t.devices;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card bg-dark text-light shadow-sm p-0 m-0"},r.a.createElement("h6",{className:"px-2 pt-2 pb-0 m-0"},t.name),r.a.createElement("div",{className:"container-fluid h-100 p-1 m-0 row"},a.length>0?a.map(function(e,t){return r.a.createElement("div",{key:e.id,className:"col-lg-4 col-md-6 col-sm-12 p-1 m-0 h-100"},r.a.createElement(bt,{device:e,index:t}))}):r.a.createElement("p",{className:"text-secondary p-1"},"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u043d\u0435\u0442 ..."))))};function yt(){yt=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(j){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return _()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var h={};o(h,r,function(){return this});var p=Object.getPrototypeOf,g=p&&p(p(k([])));g&&g!==t&&a.call(g,r)&&(h=g);var v=f.prototype=u.prototype=Object.create(h);function b(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,o(v,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(v),o(v,c,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var xt="http://engine.ci-cloud.online";function Nt(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],l=t[1],c=r.a.useState(!0),i=Object(o.a)(c,2),s=i[0],m=i[1];return Object(n.useEffect)(function(){!function(e){wt.apply(this,arguments)}(function(e){l(e),m(!1)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"px-3 pt-3 pb-0"},"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 ",r.a.createElement("b",null,s?null:a.company.name)),r.a.createElement("div",{className:"container-fluid py-0 px-2 m-0 row"},s?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,a.facilities.map(function(e,t){return r.a.createElement("div",{key:e.id,className:"container-fluid px-2 py-0 mx-0 my-2 col-xl-6"},r.a.createElement(Et,{facilityInfo:e,index:t}))}))))}function wt(){return(wt=Object(d.a)(yt().mark(function e(t){var a;return yt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get(xt+"/company/info/");case 2:a=e.sent,t(Object(u.a)({},a.data));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",null,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function _t(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",null,"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function jt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3"},r.a.createElement("h3",null,"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function Ot(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-color-dark-gray text-secondary h-100"},r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement(gt,null),r.a.createElement("div",{className:"col-10 m-0 p-0"},r.a.createElement("div",{className:"content-height"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/company",component:Nt}),r.a.createElement(s.b,{exact:!0,path:"/company/overview",component:Nt}),r.a.createElement(s.b,{exact:!0,path:"/company/map",component:_t}),r.a.createElement(s.b,{exact:!0,path:"/company/employers",component:kt}),r.a.createElement(s.b,{exact:!0,path:"/company/profile",component:jt}),r.a.createElement(s.b,{component:Be})))))))}var St=a(22),Ct=a(24),Lt=a(23),Ft=a(25),Tt=a(8),It=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Ct.a)(this,Object(Lt.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(Tt.a)(Object(Tt.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Tt.a)(Object(Tt.a)(a))),a}return Object(Ft.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(St.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();E.login(this.state.username,this.state.password,function(){t.props.history.push("/company/overview/")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"bg-color-dark-gray text-secondary content-height"},r.a.createElement("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"}},r.a.createElement("h2",null,"\u0412\u0445\u043e\u0434"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"),r.a.createElement("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"pt-3"},r.a.createElement("span",{className:"pr-2 text-secondary"},"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(i.b,{className:"",to:"/user/registration/"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))}}]),t}(n.Component);function Pt(){Pt=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(j){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return _()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(j){return{type:"throw",arg:j}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var h={};o(h,r,function(){return this});var p=Object.getPrototypeOf,g=p&&p(p(k([])));g&&g!==t&&a.call(g,r)&&(h=g);var v=f.prototype=u.prototype=Object.create(h);function b(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,o(v,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(v),o(v,c,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var Dt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Ct.a)(this,Object(Lt.a)(t).call(this,e))).state={username:"",password:"",email:"",errors:{username:null,email:null,password:null}},a.handleChange=a.handleChange.bind(Object(Tt.a)(Object(Tt.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Tt.a)(Object(Tt.a)(a))),a}return Object(Ft.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(St.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(d.a)(Pt().mark(function e(t){var a;return Pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v.post("/user/create/",{username:this.state.username,email:this.state.email,password:this.state.password});case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.stack),this.setState({errors:e.t0.response.data});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"bg-color-dark-gray text-secondary content-height"},r.a.createElement("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"}},r.a.createElement("h2",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"),r.a.createElement("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange}),this.state.errors.username?r.a.createElement("span",{className:"text-danger"},this.state.errors.username):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"mail"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"),r.a.createElement("input",{name:"email",type:"email",className:"form-control bg-secondary border-secondary text-light",id:"mail",value:this.state.email,onChange:this.handleChange}),this.state.errors.email?r.a.createElement("span",{className:"text-danger"},this.state.errors.email):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange}),this.state.errors.password?r.a.createElement("span",{className:"text-danger"},this.state.errors.password):null),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),r.a.createElement("div",{className:"pt-3"},r.a.createElement("span",{className:"pr-2 text-secondary"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(i.b,{className:"",to:"/user/login/"},"\u0412\u0445\u043e\u0434")))))}}]),t}(n.Component);function Gt(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-color-dark-gray text-secondary content-height"},r.a.createElement("div",{className:"container card bg-dark shadow-sm my-4 pt-4"},r.a.createElement("h2",null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("table",{className:"table text-light tadle-dark "},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.username))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u0418\u043c\u044f:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.first_name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.last_name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.email))))))))))}var Wt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Ct.a)(this,Object(Lt.a)(t).call(this,e))).handleLogout=a.handleLogout.bind(Object(Tt.a)(Object(Tt.a)(a))),a}return Object(Ft.a)(t,e),Object(h.a)(t,[{key:"handleLogout",value:function(){var e=this;E.logout(function(){e.props.history.push("/")})}},{key:"render",value:function(){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"",onClick:this.handleLogout},"\u0412\u044b\u0439\u0442\u0438"))}}]),t}(n.Component),At=Object(s.i)(Wt);function Rt(e){var t=e.authed,a=e.userInfo;return r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark bg-color-indigo header-height p-0 m-0"},r.a.createElement(i.b,{className:"navbar-brand header-height py-2 pl-3 pr-0 m-0",to:"/"},"CI Cloud"),r.a.createElement("button",{className:"navbar-toggler header-height border-0 m-0",style:{outline:"none",boxShadow:"none"},type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse bg-color-indigo",id:"collapsibleNavbar",style:{zIndex:"1"}},r.a.createElement("div",{className:"d-md-none border-top border-secondary"}),r.a.createElement("ul",{className:"navbar-nav px-3"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/company/overview"},"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/company/facilities"},"\u041e\u0431\u044c\u0435\u043a\u0442\u044b")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/company/profile"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"))):null),r.a.createElement("ul",{className:"navbar-nav ml-auto px-3"},t?r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/user/profile"},a.username)),r.a.createElement("li",{className:"nav-item border-right border-secondary my-1 d-none d-sm-inline"}," ")):null,r.a.createElement(At,null)):r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link",to:"/user/login"},"\u0412\u043e\u0439\u0442\u0438")))))}var zt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-color-dark-gray text-light content-height"},r.a.createElement("div",{className:"card",style:{background:"none",border:"none"}},r.a.createElement("div",{className:"container card my-5 p-3 w-100",style:{background:"rgba(30,30,30, 0.9)"}},r.a.createElement("div",{className:"text-center pt-4"},r.a.createElement("h3",null,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 ",r.a.createElement("b",null,"CI Cloud"))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("h5",null,"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",r.a.createElement(i.b,{className:"px-2",to:"/user/login/"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"),"\u0438\u043b\u0438",r.a.createElement(i.b,{className:"px-2",to:"/user/registration/"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"))),r.a.createElement("div",{className:"card-columns py-5"},r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null,"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"))),r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null,"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u0445 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 "))),r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null,"\u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"))),r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 API \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u043c \u041f\u041e \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"))),r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null,"\u0415\u0434\u0438\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0438 \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 "))),r.a.createElement("div",{className:"card border-secondary",style:{background:"none"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h6",null," \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f",r.a.createElement("a",{className:"px-2",href:"#",onClick:function(){E.login("demo","DemoUserPassword",function(){e.history.push("/company/overview/")})}},"\u0434\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"),"\u0434\u043b\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f")))),r.a.createElement("h5",{className:"pb-3 text-info text-center"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439: "),r.a.createElement("div",{className:"card border-secondary mb-3",style:{background:"none"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"text-primary"}," \u0420\u0435\u043b\u0438\u0437 \u0410\u043b\u044c\u0444\u0430 0.7 "),r.a.createElement("h6",{className:"text-success"}," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0416\u0443\u043d\u0430\u043b\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 "),r.a.createElement("p",{className:"text-info"}," \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043e\u0431\u043b\u0430\u043a\u043e \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0445 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0416\u0443\u0440\u043d\u0430\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435."),r.a.createElement("h6",{className:"text-success"}," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438 \u0442\u0435\u0433\u043e\u0432 \u043f\u0440\u0438\u0431\u043e\u0440\u0430 "),r.a.createElement("p",{className:"text-info"}," \u0422\u0435\u043f\u0435\u0440\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b \u041f\u0440\u0438\u0431\u043e\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u0431\u043e\u0440\u0430. \u0422\u0430\u043a \u0436\u0435 \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0412\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0422\u0435\u0433\u0438 \u043f\u0440\u0438\u0431\u043e\u0440\u0430."))),r.a.createElement("div",{className:"card border-secondary mb-3",style:{background:"none"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"text-primary"}," \u0420\u0435\u043b\u0438\u0437 \u0410\u043b\u044c\u0444\u0430 0.6 "),r.a.createElement("h6",{className:"text-success"}," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0412\u0438\u0434\u0436\u0435\u0442\u044b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 "),r.a.createElement("p",{className:"text-info"}," \u0422\u0435\u043f\u0435\u0440\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b \u0412\u0438\u0434\u0436\u0435\u0442\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0432\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442\u044b, \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u041e\u0431\u0437\u043e\u0440.")))))))};function Bt(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!0),m=Object(o.a)(c,2),u=m[0],d=m[1],f=Object(n.useState)(!1),h=Object(o.a)(f,2),p=h[0],g=h[1],v=Object(n.useState)({}),b=Object(o.a)(v,2),N=b[0],w=b[1],k=Object(x.b)();return Object(n.useEffect)(function(){E.checkAuthentication(function(){l(!1)}),E.onLogin=function(){g(!0)},E.onLogout=function(){g(!1)},E.onUserInfoReaded=function(e){w(e),d(!1)}},[]),a||u?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"full-screen-button fas fa-expand ",onClick:k.enter}),r.a.createElement(x.a,{handle:k},r.a.createElement(i.a,null,r.a.createElement(s.b,{exact:!0,path:"/",component:function(){return r.a.createElement("video",{autoplay:"autoplay",muted:!0,loop:"loop",id:"myVideo"},r.a.createElement("source",{src:"Map145956.mp4",type:"video/mp4"}))}}),r.a.createElement(Rt,{authed:p,userInfo:N}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:zt}),r.a.createElement(s.b,{exact:!0,path:"/user/login",component:It}),r.a.createElement(s.b,{exact:!0,path:"/user/registration",component:Dt}),r.a.createElement(y,{exact:!0,path:"/user/profile",component:function(){return r.a.createElement(Gt,{userInfo:N})}}),r.a.createElement(y,{path:"/company",component:Ot}),r.a.createElement(y,{path:"/device/:id",component:ft}),r.a.createElement(s.b,{component:Be})))))}var Mt=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,136)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Bt,null)),document.getElementById("root")),Mt()},73:function(e,t,a){e.exports=a(134)},78:function(e,t,a){},80:function(e,t,a){}},[[73,3,2]]]);
//# sourceMappingURL=main.6dc50f92.chunk.js.map