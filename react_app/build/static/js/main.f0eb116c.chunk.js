(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(65),c=a.n(l),o=(a(78),a(2)),i=(a(80),a(82),a(84),a(3)),s=a(4),m=a(70),u=a(5),d=a(12),f=a(17),p=a(18),h=a(66);var v=a.n(h).a.create({baseURL:"http://localhost:8000",timeout:6e4,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});v.interceptors.response.use(function(e){return e},function(e){var t=e.config;if(401===e.response.status&&"/user/token/refresh/"===t.url)return Promise.reject(e);if("token_not_valid"===e.response.data.code&&401===e.response.status&&"Unauthorized"===e.response.statusText){var a=localStorage.getItem("refresh_token");if(a){var n=JSON.parse(atob(a.split(".")[1])),r=Math.ceil(Date.now()/1e3);if(n.exp>r)return v.post("/user/token/refresh/",{refresh:a}).then(function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),v.defaults.headers.Authorization="JWT "+e.data.access,t.headers.Authorization="JWT "+e.data.access,v(t)}).catch(function(e){console.log(e)});console.log("Refresh token is expired",n.exp,r)}else console.log("Refresh token not available.")}return Promise.reject(e)});var b=v;function g(){g=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(O){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new k(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return _()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=N(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(O){return{type:"throw",arg:O}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var p={};o(p,r,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&a.call(v,r)&&(p=v);var b=f.prototype=u.prototype=Object.create(p);function E(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=f,o(b,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(y.prototype),o(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new y(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(b),o(b,c,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:j(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var E=new(function(){function e(){Object(f.a)(this,e),this.authenticated=!1,this.onLogin=function(){},this.onLogout=function(){},this.onUserInfoReaded=function(){}}return Object(p.a)(e,[{key:"checkAuthentication",value:function(){var e=Object(d.a)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/user/token/check/");case 3:e.sent?this._onLogin():this._onLogout(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onLogout();case 10:t();case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(d.a)(g().mark(function e(t,a,n){var r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.post("/user/token/obtain/",{username:t,password:a});case 3:r=e.sent,b.defaults.headers.Authorization="JWT "+r.data.access,localStorage.setItem("access_token",r.data.access),localStorage.setItem("refresh_token",r.data.refresh),this._onLogin(),n(),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(d.a)(g().mark(function e(t){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.post("user/token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),b.defaults.headers.Authorization=null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:this._onLogout(),t();case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"readUserInfo",value:function(){var e=Object(d.a)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("/user/info/");case 2:t=e.sent,this.onUserInfoReaded(Object(u.a)({},t.data));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clearUserInfo",value:function(){this.userInfo={},this.onUserInfoReaded({})}},{key:"_onLogin",value:function(){this.authenticated=!0,this.onLogin(),this.readUserInfo()}},{key:"_onLogout",value:function(){this.authenticated=!1,this.onLogout(),this.clearUserInfo()}}]),e}()),y=function(e){var t=e.component,a=Object(m.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return E.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/user/login",state:{from:e.location}}})}}))};var N=function(e,t){var a=Object(n.useState)(function(){return function(e,t){if("undefined"!==typeof window){var a=localStorage.getItem(e);return null!==a?JSON.parse(a):t}}(e,t)}),r=Object(o.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)(function(){localStorage.setItem(e,JSON.stringify(l))},[e,l]),[l,c]},x=a(45);function w(e){if(null===e||null===e.widgets)return{widgets:[]};var t=e.widgets;return t&&t.sort(function(e,t){var a=parseInt(e.order),n=parseInt(t.order);return a<n?-1:a>n?1:0}),{widgets:t}}function k(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],l=a[1],c=e.deviceId;return r.a.createElement("div",{className:"col-2 m-0 p-0"},r.a.createElement("div",{className:"sidebar-bg-color-primary p-2 h-100"},r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/overview/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041e\u0431\u0437\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/settings/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start "},r.a.createElement("i",{className:"far fa-edit",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/graphs/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"far fa-chart-bar",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/events/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"far fa-bell",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0416\u0443\u0440\u043d\u0430\u043b")))),r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"}},r.a.createElement("div",{className:"border-top mt-3 pt-3 border-secondary"}),r.a.createElement("button",{className:"nav-link sidebar-text-color-primary btn remove-outline",onClick:function(){l(!n)}},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"\tfas fa-list py-1",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("i",{className:"fas fa-caret-down py-1 pl-1 ml-auto d-none d-lg-inline"}))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/admin/config/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u041f\u0440\u0438\u0431\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/admin/widgets/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0412\u0438\u0434\u0436\u0435\u0442\u044b"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/device/".concat(c,"/admin/events/")},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline text-left"},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"))))))))}var j="http://localhost:8000";function _(e){var t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.device_id;function s(){b.get(j+"/device/parameters/",{params:{id:i}}).then(function(e){e&&c(Object(u.a)({},e.data))})}return Object(n.useEffect)(function(){s();var e=setInterval(s,5e3);return function(){clearInterval(e)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex border rounded desk-border-secondary px-3 mb-1 mx-1"},r.a.createElement("h3",{className:"pt-1"},"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",r.a.createElement("b",null,l.name)),r.a.createElement("div",{className:"ml-auto mx-3 px-3 border-x desk-border-secondary"},l.is_online?r.a.createElement("div",{className:"text-success"},r.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-check text-center w-100"})):r.a.createElement("div",{className:"text-danger"},r.a.createElement("span",null,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-times text-center w-100"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"m-0 mr-1 text-right"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b: ",r.a.createElement("br",null)," ",l.verbose_last_update))))}var O=a(6),C=function(e,t){var a=function(a){e.current&&e.current.contains(a.target)&&t()};Object(n.useEffect)(function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}})};var S=function(e){var t=this,a=e.tags.filter(function(e){return!1===e.disabled}),l=e.resetZoomButton,c=r.a.useState(null),i=Object(o.a)(c,2),s=i[0],m=i[1];C(l,function(){console.log("seted onclick"),m(null)}),Object(n.useEffect)(function(){l.current.className=s?l.current.className.replace("d-none","d-block"):l.current.className.replace("d-block","d-none")},[s]);var u=!1;return a.forEach(function(e){e.values.length>0&&(u=!0)}),u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100",style:{overflow:"hidden"}},r.a.createElement(O.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:s&&[s.left,s.right],yDomain:s&&[s.bottom,s.top],yPadding:10},r.a.createElement(O.d,{style:{stroke:"#444A50"}}),r.a.createElement(O.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),r.a.createElement(O.h,{style:{line:{stroke:"#6c757d"}}}),a.map(function(e){return r.a.createElement(O.e,{data:e.values,color:e.curve_color,key:e.tag_id})}),r.a.createElement(O.c,{onBrushEnd:function(e){return m(e)},onDrag:function(e){t.setState({lastDrawLocation:{bottom:s.bottom+(e.top-e.bottom),left:s.left-(e.right-e.left),right:s.right-(e.right-e.left),top:s.top+(e.top-e.bottom)}})}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100"},r.a.createElement(O.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30}},r.a.createElement(O.d,{style:{stroke:"#444A50"}}),r.a.createElement(O.g,null),r.a.createElement(O.h,null),r.a.createElement(O.e,{data:[{x:0,y:0}]}))))};var L=function(e){var t=e.tags.filter(function(e){return!1===e.disabled}),a=e.resetZoomButton,l=r.a.useState(null),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useState([]),u=Object(o.a)(m,2),d=u[0],f=u[1];C(a,function(){console.log("seted onclick"),s(null)}),Object(n.useEffect)(function(){a.current.className=i?a.current.className.replace("d-none","d-block"):a.current.className.replace("d-block","d-none")},[i]);var p=t.map(function(e){return e.values.map(function(t){return t.title=e.tag_name,t.color=e.curve_color,t})}),h=function(e,t){var a=t.index;f(p.map(function(e){return e[a]}))},v=!1;return t.forEach(function(e){e.values.length>0&&(v=!0)}),v?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container  h-100",style:{overflow:"hidden"}},r.a.createElement(O.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:i&&[i.left,i.right],yDomain:i&&[i.bottom,i.top],yPadding:10,onMouseLeave:function(){f([])}},r.a.createElement(O.d,{style:{stroke:"#444A50"}}),r.a.createElement(O.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),r.a.createElement(O.h,{style:{line:{stroke:"#6c757d"}}}),t.map(function(e,t){return 0===t?r.a.createElement(O.e,{onNearestX:h,data:e.values,color:e.curve_color,key:e.tag_id}):r.a.createElement(O.e,{data:e.values,color:e.curve_color,key:e.tag_id})}),r.a.createElement(O.c,{onBrushEnd:function(e){return s(e)},onDrag:function(e){s({lastDrawLocation:{bottom:i.bottom+(e.top-e.bottom),left:i.left-(e.right-e.left),right:i.right-(e.right-e.left),top:i.top+(e.top-e.bottom)}})}}),d[0]&&d.map(function(e,t){return e?r.a.createElement(O.f,{key:t,color:e.color,size:"5",data:[e]}):null}),r.a.createElement(O.a,{values:d,style:{line:{backgroundColor:"red"}}},d[0]&&r.a.createElement("div",{className:"rounded p-1 mx-2",style:{background:"rgba(37, 37, 38, 1)"}},r.a.createElement("table",{className:"table text-light p-0 m-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",style:{fontSize:"1.2em",color:"rgb(180, 180, 180)"},className:"border-0 font-weight-bold p-1 m-0 text-center text-nowrap"},function(e){var t=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:"long",timeStyle:"medium"}).format(t)}(d[0].x)))),r.a.createElement("tbody",null,d.map(function(e,t){return e?r.a.createElement("tr",{style:{fontSize:"1.1em",color:"rgb(210, 210, 210)"},key:t},r.a.createElement("td",{style:{color:e.color,paddingTop:"4px"},className:"text-nowrap border-0 px-1 pb-0 m-0\tfas fa-minus"}),r.a.createElement("td",{className:"text-nowrap border-0 pl-1 pr-2 py-0 m-0"}," ",e.title,": "),r.a.createElement("td",{className:"text-nowrap border-0 px-1 py-0 m-0 font-weight-bold  text-right"}," ",e.y," ")):null})))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"graph-container h-100"},r.a.createElement(O.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30}},r.a.createElement(O.d,{style:{stroke:"#444A50"}}),r.a.createElement(O.g,null),r.a.createElement(O.h,null),r.a.createElement(O.e,{data:[{x:0,y:0}]}))))},F=a(69),T=a.n(F);function I(e){var t=r.a.useState(""),a=Object(o.a)(t,2),n=a[0],l=a[1],c={onClick:e.onClick,items:e.tags.map(function(e){return{title:e.tag_name,color:e.curve_color,tag_id:e.tag_id,disabled:e.disabled}})};return r.a.createElement("div",{className:"d-block text-dark pl-3"},r.a.createElement(T.a,{height:parseInt(e.height.replace("px","")),onSearchChange:function(e){l(e)},searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",searchText:n,onItemClick:function(e){c.onClick(e.tag_id)},items:c.items}))}function P(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([!1,!0,!1,!1,!1,!1,!1,!1]),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.changeGraphInterval;function f(e){var t=m.map(function(t,a){return a===e});u(t),c(7===e)}function p(e){return m[e]?" active":""}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-left p-0 pt-2 m-0"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(0),onClick:function(){f(0),d("5m","all")}},"\u043e\u043d\u043b\u0430\u0439\u043d"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(1),onClick:function(){f(1),d("1h","1m")}},"1 \u0447\u0430\u0441"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(2),onClick:function(){f(2),d("6h","5m")}},"6 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(3),onClick:function(){f(3),d("12h","10m")}},"12 \u0447\u0430\u0441\u043e\u0432"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(4),onClick:function(){f(4),d("1d","30m")}},"\u0441\u0443\u0442\u043a\u0438"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(5),onClick:function(){f(5),d("7d","2h")}},"\u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(6),onClick:function(){f(6),d("30d","12h")}},"\u043c\u0435\u0441\u044f\u0446"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+p(7),onClick:function(){f(7),d("30d","12h")}},"\u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b")),l?r.a.createElement(D,null):null)}function D(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"pt-2"},r.a.createElement("div",{className:"input-group input-group-sm "},r.a.createElement("div",{className:"input-group-prepend "},r.a.createElement("span",{className:"input-group-text bg-secondary text-light border-secondary ml-1"},"C")),r.a.createElement("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("div",{className:"input-group-prepend "},r.a.createElement("span",{className:"input-group-text bg-secondary text-light border-secondary ml-2"},"\u041f\u043e")),r.a.createElement("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary ml-2 mr-1"},"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")," ",r.a.createElement("br",null))))}a(134);function W(){return r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}var A=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useState(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],m=r.a.useRef(null),u=r.a.useRef(null),d=r.a.useRef(null),f=r.a.useRef(null),p=r.a.useRef(null),h=r.a.useRef(null),v=e.tagsHistory,b=e.height?e.height:"300px",g=function(){var t=" full-screen-card";m.current.className.includes(t)?(m.current.className=m.current.className.replace(t,""),u.current.style.height=b,u.current.className=u.current.className.replace("col-10","col-8"),e.legend&&(p.current.className=p.current.className.replace("col-2","col-4")),d.current.className=d.current.className.replace("fa-compress","fa-expand"),d.current.className=d.current.className.replace("text-primary","text-light"),n(!1)):(m.current.className+=t,u.current.style.height="calc(100vh - 150px)",u.current.className=u.current.className.replace("col-8","col-10"),e.legend&&(p.current.className=p.current.className.replace("col-4","col-2")),d.current.className=d.current.className.replace("fa-expand","fa-compress"),d.current.className=d.current.className.replace("text-light","text-primary"),n(!0))},E=function(){i?(s(!i),f.current.className=f.current.className.replace("text-primary","desk-text-color-primary")):(s(!i),f.current.className=f.current.className.replace("desk-text-color-primary","text-primary"))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:m,className:"card shadow-sm py-2 desk-bg-color-secondary desk-text-color-primary h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-2 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),r.a.createElement("button",{type:"button",ref:h,className:"btn btn-link text-primary m-0 p-0 mt-1 mr-2 fas fa-search-minus d-none",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:null}),r.a.createElement("button",{type:"button",ref:f,className:"btn btn-link desk-text-color-primary m-0 p-0 mt-1 mr-2 fas fa-ruler-vertical",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:E}),r.a.createElement("button",{type:"button",ref:d,className:"btn btn-link desk-text-color-primary m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:g})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement("div",{className:"row m-0 px-3 py-0"},r.a.createElement("div",{ref:u,className:"".concat(e.legend?"col-8":"col-12"," m-0 p-0"),style:{height:b}},i?r.a.createElement(L,{tags:v,resetZoomButton:h}):r.a.createElement(S,{tags:v,resetZoomButton:h})),e.legend&&r.a.createElement("div",{ref:p,className:"col-4 m-0 p-0"},r.a.createElement(I,{tags:v,onClick:e.toggleCurveDisplay,height:b})),e.toolbar&&r.a.createElement("div",{className:"col-12 align-self-start m-0 p-0"},r.a.createElement(P,{toggleModal:g,toggleCroshair:E,changeGraphInterval:e.changeGraphInterval})))))},G=["#f44336","#00BCD4","#FF9800","#E91E63","#009688","#FF5722","#9C27B0","#4CAF50","#795548","#673AB7","#8BC34A","#607D8B","#3F51B5","#CDDC39","#2196F3","#FFEB3B","#03A9F4","#FFC107"];function R(e){var t=G.length;return G[e+1>t?e%t:e]}var z="http://localhost:8000";function B(e){var t=r.a.useState(!0),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState({interval:"1h",resolution:"1m",tags:e.widget.tags}),s=Object(o.a)(i,2),m=s[0],d=s[1],f=r.a.useState([]),p=Object(o.a)(f,2),h=p[0],v=p[1],g=e.device_id;function E(){b.get(z+"/device/tags/history/",{params:Object(u.a)({id:g},m)}).then(function(e){e&&function(e){var t=e.map(function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,disabled:!1,curve_color:R(t),values:e.values.map(function(e){return{x:new Date(e.add_date),y:e.value}})}});v(function(e){return t.map(function(t){var a=e.filter(function(e){return e.tag_id===t.tag_id}),n=a.length>0?a[0].disabled:t.disabled;return Object(u.a)({},t,{disabled:n})})})}(e.data)})}return Object(n.useEffect)(function(){E();var e,t=setTimeout(function(){c(!1)},1e3),a=setInterval(E,"5m"===(e=m.interval)?2e3:"1h"===e?3e4:"6h"===e?12e4:"12h"===e?3e5:"1d"===e?9e5:"7d"===e?36e5:"30d"===e?216e5:3e5);return function(){clearTimeout(t),clearInterval(a)}},[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{tagsHistory:h,toggleCurveDisplay:function(e){var t=h.map(function(t){return t.tag_id===e&&(t.disabled=!t.disabled),t});v(t)},title:e.widget.title,legend:e.widget.legend,loading:l,toolbar:e.widget.toolbar,height:e.widget.height,changeGraphInterval:function(e,t){d(function(a){return Object(u.a)({},a,{interval:e,resolution:t})})}}))}var M=function(e){var t=e.tag,a=e.columns,n=e.index;return r.a.createElement("tr",null,a.indexOf("#No")>=0?r.a.createElement("td",{className:"border-secondary text-secondary pl-2"}," ",n+1," "):null,a.indexOf("code")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.code," "):null,a.indexOf("name")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.name," "):null,a.indexOf("value")>=0?r.a.createElement("td",{className:"border-secondary"}," ",t.value," "):null)};var U=function(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useRef(null),c=r.a.useRef(null);return r.a.createElement("div",{ref:c,className:"card shadow-sm py-2 bg-dark text-light h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),r.a.createElement("button",{type:"button",ref:l,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:function(){var e=" full-screen-card";c.current.className.includes(e)?(c.current.className=c.current.className.replace(e,""),l.current.className=l.current.className.replace("fa-compress","fa-expand"),l.current.className=l.current.className.replace("text-primary","text-light"),n(!1)):(c.current.className+=e,l.current.className=l.current.className.replace("fa-expand","fa-compress"),l.current.className=l.current.className.replace("text-light","text-primary"),n(!0))}})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(r.a.Fragment,null,e.columns?r.a.createElement("div",{className:"table-responsive px-3"},r.a.createElement("table",{className:"table table-hover table-dark table-sm text-light w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,e.columns.indexOf("#No")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold pl-2"},"\u2116"):null,e.columns.indexOf("code")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"):null,e.columns.indexOf("name")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"):null,e.columns.indexOf("value")>=0?r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"):null)),r.a.createElement("tbody",null,e.tags.map(function(t,a){return r.a.createElement(M,{tag:t,columns:e.columns,key:t.code,index:a})})))):r.a.createElement("i",{className:"text-secondary ml-3"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u044b ... ")))},H="http://localhost:8000";function J(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.device_id,f=e.widget.tags;function p(){b.get(H+"/device/tags/value/",{params:{id:d,tags:f}}).then(function(e){e&&c(e.data)})}return Object(n.useEffect)(function(){p();var e=setTimeout(function(){u(!1)},1e3),t=setInterval(p,2e3);return function(){clearTimeout(e),clearInterval(t)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{tags:l,title:e.widget.title,columns:e.widget.columns,loading:m}))}function q(e){var t=e.tag,a=e.addTextRight,n=e.addTextLeft,l="none";return t&&t.value.toFixed&&(l=e.precision?t.value.toFixed(e.precision):t.value),r.a.createElement("div",{className:"card shadow-sm py-2 desk-bg-color-secondary desk-text-color-primary h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100 px-3"},t?r.a.createElement("p",{className:"display-4 m-0 p-0"},r.a.createElement("span",null,n," "),l,r.a.createElement("span",null," ",a)):r.a.createElement("p",{className:"display-4 desk-text-color-secondary m-0 p-0"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")))}var Y="http://localhost:8000";function X(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],u=s[1],d=e.device_id,f=e.widget.tags,p=l[0];function h(){b.get(Y+"/device/tags/value/",{params:{id:d,tags:f}}).then(function(e){e&&c(e.data)})}return Object(n.useEffect)(function(){h();var e=setTimeout(function(){u(!1)},1e3),t=setInterval(h,2e3);return function(){clearTimeout(e),clearInterval(t)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{tag:p,title:e.widget.title,precision:e.widget.precision,addTextRight:e.widget.addTextRight,addTextLeft:e.widget.addTextLeft,loading:m}))}function Z(e){var t=e.record,a=e.index;return r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary text-secondary pl-2 d-none d-lg-table-cell",style:{width:"5%"}}," ",a+1," "),r.a.createElement("td",{className:"border-secondary d-none d-xl-table-cell",style:{width:"15%"}}," ",V(t.date)," "),r.a.createElement("td",{className:"border-secondary d-table-cell d-xl-none",style:{width:"15%"}}," ",V(t.date,"short")," "),r.a.createElement("td",{className:"border-secondary",style:{width:"10%"}}," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium",a=new Date(e);return new Intl.DateTimeFormat([],{timeStyle:t}).format(a)}(t.date)," "),r.a.createElement("td",{className:"border-secondary"}," ",t.message," "))}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",a=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:t}).format(a)}function K(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=(a[0],a[1]),l=r.a.useRef(null),c=r.a.useRef(null),i=e.toggleCategorySelection,s=e.categories;return r.a.createElement("div",{ref:c,className:"card shadow-sm py-2 desk-bg-color-secondary desk-text-color-primary h-100"},r.a.createElement("div",{className:"d-flex mb-1"},r.a.createElement("h5",{className:"px-3 pt-1 pb-0 m-0"},e.title),r.a.createElement("span",{className:"ml-auto"}),e.category_selection_panel&&r.a.createElement(ee,{toggleCategorySelection:i,categories:s}),r.a.createElement("button",{type:"button",ref:l,className:"btn btn-link desk-text-color-primary m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:function(){var e=" full-screen-card";c.current.className.includes(e)?(c.current.className=c.current.className.replace(e,""),l.current.className=l.current.className.replace("fa-compress","fa-expand"),l.current.className=l.current.className.replace("text-primary","text-light"),n(!1)):(c.current.className+=e,l.current.className=l.current.className.replace("fa-expand","fa-compress"),l.current.className=l.current.className.replace("text-light","text-primary"),n(!0))}})),e.loading?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(r.a.Fragment,null,e.records.length>0?r.a.createElement(Q,{records:e.records}):r.a.createElement($,null),r.a.createElement(ae,{readNextPage:e.readNextPage,readPreviousPage:e.readPreviousPage,changePage:e.changePage,pagination:e.pagination})))}function Q(e){return r.a.createElement("div",{className:"table-responsive px-3"},r.a.createElement("table",{className:"table table-hover table-dark table-sm desk-bg-color-secondary desk-text-color-primary desk-border-color-primary w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-0 desk-text-color-secondary font-weight-bold pl-2 d-none d-lg-table-cell",style:{width:"5%"}},"\u2116"),r.a.createElement("th",{className:"border-0 desk-text-color-secondary font-weight-bold",style:{width:"15%"}},"\u0414\u0430\u0442\u0430"),r.a.createElement("th",{className:"border-0 desk-text-color-secondary font-weight-bold",style:{width:"10%"}},"\u0412\u0440\u0435\u043c\u044f"),r.a.createElement("th",{className:"border-0 desk-text-color-secondary font-weight-bold"},"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"))),r.a.createElement("tbody",null,e.records.map(function(e,t){return r.a.createElement(Z,{record:e,key:t,index:t})}))))}function $(){return r.a.createElement("i",{className:"desk-text-color-secondary ml-3"},"\u0417\u0430\u043f\u0438\u0441\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 ...")}function ee(e){var t=e.toggleCategorySelection,a=e.categories;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-inline mr-3"},a.map(function(e,a){return r.a.createElement(te,{key:a,selected:e.selected,onClick:function(){t(a)}},e.name)})))}function te(e){return r.a.createElement("button",{type:"button",className:"btn btn-link desk-text-color-primary ml-3 p-0 mt-1",style:{boxShadow:"none"},onClick:e.onClick},e.selected?r.a.createElement("i",{className:"fas fa-check-square text-success mr-2"}):r.a.createElement("i",{className:"far fa-square text-info mr-2"}),e.children)}function ae(e){var t=Array.apply(null,Array(e.pagination.num_pages));return e.pagination.num_pages<=1?null:r.a.createElement("div",{className:"d-flex justify-content-center p-3"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-info m-1",onClick:e.readPreviousPage}," ","<<"," "),t.map(function(t,a){var n=a+1===e.pagination.page_number?" active":"";return r.a.createElement("button",{type:"button",key:a,className:"btn btn-sm btn-outline-info m-1"+n,style:{minWidth:"35px"},onClick:function(){e.changePage(a+1)}},a+1)}),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-info m-1",onClick:e.readNextPage}," ",">>"," "))}var ne="http://localhost:8000";function re(e){var t=r.a.useState([]),a=Object(o.a)(t,2),l=a[0],c=a[1],i=r.a.useState(!0),s=Object(o.a)(i,2),m=s[0],d=s[1],f=r.a.useState([{name:"\u0410\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435",code:"Alarm",selected:!0},{name:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f",code:"Warning",selected:!0},{name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435",code:"Info",selected:!0},{name:"\u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u044b\u0435",code:"Debug",selected:!1}]),p=Object(o.a)(f,2),h=p[0],v=p[1],g=e.device_id,E=r.a.useState({next:null,previous:null}),y=Object(o.a)(E,2),N=y[0],x=y[1],w=r.a.useState(1),k=Object(o.a)(w,2),j=k[0],_=k[1];function O(e){var t=h.filter(function(e){return e.selected}).map(function(e){return e.code});!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.get(e,t).then(function(e){e&&c(e.data.results),e&&x({next:e.data.next,previous:e.data.previous,num_pages:e.data.num_pages,page_number:e.data.page_number})})}(ne+"/events/log/",{params:{id:g,categories:t,page:e}})}return Object(n.useEffect)(function(){O(j);var e=setTimeout(function(){d(!1)},500),t=setInterval(function(){return function(e){1===e&&O(1)}(j)},1e4);return function(){clearTimeout(e),clearInterval(t)}},[h,j]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{records:l,title:e.widget.title,categories:h,category_selection_panel:e.widget.category_selection_panel,toggleCategorySelection:function(e){v(h.map(function(t,a){return e===a?Object(u.a)({},t,{selected:!t.selected}):t}))},readNextPage:function(){N.next&&_(j+1)},readPreviousPage:function(){N.previous&&_(j-1)},changePage:function(e){_(e)},pagination:N,loading:m}))}function le(e){var t=e.widgetsTemplate,a=e.device_id;return e.widgetsTemplate&&e.widgetsTemplate.widgets?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid row equal p-0 m-0"},t.widgets.map(function(e,t){return r.a.createElement(ce,{widget:e,device_id:a,key:t})}))):null}function ce(e){var t=e.widget,a=e.device_id;return"table"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(J,{device_id:a,widget:t})):"graph"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(B,{device_id:a,widget:t})):"indicator"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(X,{device_id:a,widget:t})):"eventslog"===t.type?r.a.createElement("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0")},r.a.createElement(re,{device_id:a,widget:t})):void 0}function oe(e){var t=Object(s.h)().device_id,a=e.widgetsTemplate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(le,{widgetsTemplate:a,device_id:t}))}function ie(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}var se={widgets:[{type:"eventslog",width:4,title:"\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439",category_selection_panel:!0}]};function me(e){var t=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(le,{widgetsTemplate:se,device_id:t}))}var ue={widgets:[{type:"graph",width:4,height:"calc(65vh)",title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",tags:null,legend:!0,toolbar:!0}]};function de(e){var t=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{device_id:t}),r.a.createElement(le,{widgetsTemplate:ue,device_id:t}))}function fe(){fe=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(_){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return j()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(_){return{type:"throw",arg:_}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var p={};o(p,r,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&a.call(v,r)&&(p=v);var b=f.prototype=u.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,o(b,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(b),o(b,c,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;x(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;je(xe,"/company/info/",null,{},e,t,a)}function he(e,t,a){var n=Object(u.a)({},e);je(we,"/company/info/",n,{},t,a)}function ve(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;je(xe,"/device/parameters/",null,{id:e},t,a)}function be(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;je(xe,"/device/tags/parameters/",null,{id:e,tags:t},a,n)}function ge(e,t,a,n){je(we,"/device/tags/parameters/",t,{id:e},a,n)}function Ee(e,t,a){je(xe,"/events/config/",null,{id:e,events_id:t},a)}function ye(e,t,a,n){je(we,"/events/config/",t,{id:e},a,n)}function Ne(e,t,a){je(ke,"/events/config/",null,{id:e,events_id:t},a)}var xe="GET",we="POST",ke="DELETE";function je(e,t,a,n,r){return _e.apply(this,arguments)}function _e(){return(_e=Object(d.a)(fe().mark(function e(t,a,n,r,l){var c,o,i,s,m=arguments;return fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=m.length>5&&void 0!==m[5]?m[5]:null,o=m.length>6&&void 0!==m[6]?m[6]:null,i=null,s="http://localhost:8000",e.t0=t,e.next=e.t0===xe?7:e.t0===we?18:e.t0===ke?29:34;break;case 7:return e.prev=7,e.next=10,b.get(s+a,{params:r});case 10:(i=e.sent)&&l(i.data),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(7),e.t1.response&&c&&c(e.t1.response.data);case 17:return e.abrupt("break",35);case 18:return e.prev=18,e.next=21,b.post(s+a,n,{params:r});case 21:(i=e.sent)&&l(i.data),e.next=28;break;case 25:e.prev=25,e.t2=e.catch(18),e.t2.response&&c&&c(e.t2.response.data);case 28:return e.abrupt("break",35);case 29:return e.next=31,b.delete(s+a,{params:r});case 31:return(i=e.sent)&&l(i.data),e.abrupt("break",35);case 34:throw new Error("Api method ".concat(t," not supported."));case 35:o&&o();case 36:case"end":return e.stop()}},e,null,[[7,14],[18,25]])}))).apply(this,arguments)}var Oe="desk-text-color-secondary",Ce="form-control form-control-sm desk-bg-color-secondary-2 desk-border-color-primary desk-text-color-primary";function Se(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:Oe},e.titel),r.a.createElement("input",{type:"text",className:Ce,placeholder:e.placeholder,id:e.id,defaultValue:e.value,onChange:e.onChange}),r.a.createElement(Pe,null," ",e.errors," "),r.a.createElement(De,null," ",e.comment," ")))}function Le(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:Oe},e.titel),r.a.createElement("input",{type:"number",className:Ce,placeholder:e.placeholder,id:e.id,defaultValue:e.value,min:e.min,max:e.max,onChange:e.onChange}),r.a.createElement(Pe,null," ",e.errors," "),r.a.createElement(De,null," ",e.comment," ")))}function Fe(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:Oe},e.titel),r.a.createElement("select",{className:Ce,id:e.id,placeholder:e.placeholder,value:e.value?e.value:"",onChange:e.onChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"---"),e.options&&e.options.map(function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})),r.a.createElement(Pe,null," ",e.errors," "),r.a.createElement(De,null," ",e.comment," ")))}function Te(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:e.id,className:Oe},e.titel),r.a.createElement("select",{multiple:!0,className:Ce,id:e.id,placeholder:e.placeholder,value:e.value?e.value:[],onChange:e.onChange},e.options&&e.options.map(function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.name)})),r.a.createElement(Pe,null," ",e.errors," "),r.a.createElement(De,null," ",e.comment," ")))}function Ie(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-check pb-3"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:e.id,checked:e.checked,onChange:e.onChange}),r.a.createElement("span",null,e.titel),r.a.createElement(Pe,null," ",e.errors," "),r.a.createElement(De,null," ",e.comment," ")))}function Pe(e){return r.a.createElement("div",{className:"text-small text-danger p-0 m-0"}," ",e.children," ")}function De(e){return r.a.createElement("div",{className:"text-small text-info p-0 m-0"}," ",e.children," ")}function We(e){return r.a.createElement("div",{className:"container p-0",style:{maxWidth:"800px"}}," ",e.children," ")}function Ae(e){for(var t=e.target.options,a=[],n=0,r=t.length;n<r;n++)t[n].selected&&a.push(t[n].value);return a}function Ge(){var e=Object(s.h)(),t=e.tag_id,a=e.device_id,l=Object(n.useState)({}),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),f=d[0],p=d[1],h=r.a.useState(!0),v=Object(o.a)(h,2),b=v[0],g=v[1],E=Object(s.g)();Object(n.useEffect)(function(){be(a,[t],function(e){m(e[0]),g(!1)})},[]);return r.a.createElement(r.a.Fragment,null,b?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(We,null,r.a.createElement(ze,{tagParameters:i,formErrors:f,submitTagParameters:function(e){ge(a,[e],function(e){m(e[0]),p(null),E.push("/device/".concat(a,"/admin/config/"))},function(e){p(e[0])})},cancelChanges:function(){E.push("/device/".concat(a,"/admin/config/"))},deleteTag:function(){!function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;je(ke,"/device/tags/parameters/",null,{id:e,tags:t},a,n)}(a,[t],function(){E.push("/device/".concat(a,"/admin/config/"))})}})))}function Re(){var e=Object(s.h)().device_id,t=Object(s.g)(),a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1];return r.a.createElement(We,null,r.a.createElement(ze,{tagParameters:{code:"",name:"",data_type:"INT",modbus_parameters:{data_type:"INT",register_address:0,read_function:"3",write_function:"6"}},formErrors:c,submitTagParameters:function(a){ge(e,[a],function(){t.push("/device/".concat(e,"/admin/config/"))},function(e){i(e[0])})},cancelChanges:function(){t.push("/device/".concat(e,"/admin/config/"))}}))}function ze(e){var t=Object(n.useState)(e.tagParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitTagParameters,s=e.cancelChanges,m=e.deleteTag,d={minWidth:"150px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info text-center"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0442\u0435\u0433\u0430"),r.a.createElement(Se,{titel:"\u041a\u043e\u0434",id:"code",value:l.code,onChange:function(e){c(Object(u.a)({},l,{code:e.target.value}))},errors:e.formErrors?e.formErrors.code:null}),r.a.createElement(Se,{titel:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",id:"name",value:l.name,onChange:function(e){c(Object(u.a)({},l,{name:e.target.value}))},errors:e.formErrors?e.formErrors.name:null}),r.a.createElement(Fe,{titel:"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",id:"data_type",value:l.data_type,options:[{value:"INT",name:"INT"},{value:"FLOAT",name:"FLOAT"},{value:"STRING",name:"STRING"},{value:"BOOL",name:"BOOL"}],onChange:function(e){c(Object(u.a)({},l,{data_type:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.data_type:null}),r.a.createElement("h5",{className:"text-info text-center"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b Modbus"),r.a.createElement(Fe,{titel:"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435",id:"modbus_data_type",value:l.modbus_parameters?l.modbus_parameters.data_type:null,options:[{value:"WORD",name:"WORD"},{value:"INT",name:"INT"},{value:"UINT",name:"UINT"},{value:"FLOAT",name:"FLOAT"},{value:"STRING",name:"STRING"},{value:"BOOL",name:"BOOL"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{data_type:Ae(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.data_type:null}),r.a.createElement(Le,{titel:"\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430",id:"modbus_register_address",value:l.modbus_parameters?l.modbus_parameters.register_address:null,onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{register_address:e.target.value})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.register_address:null}),r.a.createElement(Fe,{titel:"\u0424\u0443\u043d\u043a\u0438\u0446\u044f \u0447\u0442\u0435\u043d\u0438\u044f",id:"modbus_read_function",value:l.modbus_parameters?l.modbus_parameters.read_function:null,options:[{value:"1",name:"1 - Read Coil"},{value:"2",name:"2 - Read Discrete Input"},{value:"3",name:"3 - Read Holding Registers"},{value:"4",name:"4 - Read Input Registers"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{read_function:Ae(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.read_function:null}),r.a.createElement(Fe,{titel:"\u0424\u0443\u043d\u043a\u0438\u0446\u044f \u0437\u0430\u043f\u0438\u0441\u0438",id:"modbus_write_function",value:l.modbus_parameters?l.modbus_parameters.write_function:null,options:[{value:"5",name:"5 - Write Single Coil"},{value:"6",name:"6 - Write Single Holding Register"},{value:"15",name:"15 - Write Multiple Coils"},{value:"16",name:"16 - Write Multiple Holding Registers"}],onChange:function(e){c(Object(u.a)({},l,{modbus_parameters:Object(u.a)({},l.modbus_parameters,{write_function:Ae(e)[0]})}))},errors:e.formErrors&&e.formErrors.modbus_parameters?e.formErrors.modbus_parameters.write_function:null}),r.a.createElement(Pe,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary m-2",style:d},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-2",style:d,onClick:s},"\u041e\u0442\u043c\u0435\u043d\u0430"),e.deleteTag&&r.a.createElement("button",{type:"button",className:"btn btn-outline-danger m-2",style:d,onClick:m},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}function Be(){var e=Object(s.h)().device_id,t=Object(n.useState)({}),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(null),m=Object(o.a)(i,2),d=m[0],f=m[1],p=Object(n.useState)({}),h=Object(o.a)(p,2),v=h[0],b=h[1],g=Object(n.useState)(null),E=Object(o.a)(g,2),y=E[0],N=E[1],x=Object(n.useState)([]),w=Object(o.a)(x,2),k=w[0],j=w[1],_=r.a.useState(!0),O=Object(o.a)(_,2),C=O[0],S=O[1],L=r.a.useState(!0),F=Object(o.a)(L,2),T=F[0],I=F[1],P=r.a.useState(!0),D=Object(o.a)(P,2),A=D[0],G=D[1];Object(n.useEffect)(function(){ve(e,function(e){c(e),S(!1)}),function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;je(xe,"/device/modbus/parameters/",null,{id:e},t,a)}(e,function(e){b(e),I(!1)}),be(e,[],function(e){j(e),G(!1)})},[]);return r.a.createElement(r.a.Fragment,null,C||T||A?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-5"},r.a.createElement(Me,{deviceParameters:l,formErrors:d,submitDeviceConfig:function(t){!function(e,t,a,n){var r={id:e},l=Object(u.a)({},t);je(we,"/device/parameters/",l,r,a,n)}(e,t,function(e){c(e),f(null)},function(e){f(e)})}}),r.a.createElement("p",{className:"my-3 border-top border-secondary"}),r.a.createElement(Ue,{deviceModbusParameters:v,formErrors:y,submitModbusParameters:function(t){!function(e,t,a,n){var r={id:e},l=Object(u.a)({},t);je(we,"/device/modbus/parameters/",l,r,a,n)}(e,t,function(e){b(e),N(null)},function(e){N(e)})}})),r.a.createElement("div",{className:"col-12 col-lg-7 border-left border-secondary"},r.a.createElement("p",{className:"my-3 d-lg-none border-top border-secondary"}),r.a.createElement(He,{deviceTagsParameters:k,device_id:e}))))}function Me(e){var t=Object(n.useState)(e.deviceParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitDeviceConfig;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement(Se,{titel:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438\u0431\u043e\u0440\u0430",id:"name",placeholder:"...",value:l.name,onChange:function(e){c(Object(u.a)({},l,{name:e.target.value}))},errors:e.formErrors?e.formErrors.name:null}),r.a.createElement(Le,{titel:"\u041f\u0435\u0440\u0438\u043e\u0434 \u043e\u043f\u0440\u043e\u0441\u0430 (\u0441\u0435\u043a)",id:"polling_period",placeholder:"...",value:l.polling_period,min:1,onChange:function(e){c(Object(u.a)({},l,{polling_period:e.target.value}))},errors:e.formErrors?e.formErrors.polling_period:null}),r.a.createElement(Le,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (\u0441\u0435\u043a)",id:"timeout",placeholder:"...",value:l.timeout,onChange:function(e){c(Object(u.a)({},l,{timeout:e.target.value}))},errors:e.formErrors?e.formErrors.timeout:null}),r.a.createElement(Pe,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}function Ue(e){var t=Object(n.useState)(e.deviceModbusParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitModbusParameters;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 Modbus"),r.a.createElement(Fe,{titel:"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b",id:"protocol_type",value:l.protocol_type,options:[{value:"RTU",name:"Modbus-RTU"},{value:"ASCII",name:"Modbus-ASCII"},{value:"TCP",name:"Modbus-TCP"}],onChange:function(e){c(Object(u.a)({},l,{protocol_type:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.protocol_type:null}),r.a.createElement(Le,{titel:"\u0410\u0434\u0440\u0435\u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",id:"device_address",value:l.device_address,min:1,max:247,onChange:function(e){c(Object(u.a)({},l,{device_address:e.target.value}))},errors:e.formErrors?e.formErrors.device_address:null}),r.a.createElement(Fe,{titel:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445",id:"baudrate",value:l.baudrate,options:[{value:300,name:"300"},{value:600,name:"600"},{value:1200,name:"1200"},{value:2400,name:"2400"},{value:4800,name:"4800"},{value:9600,name:"9600"},{value:14400,name:"14400"},{value:19200,name:"19200"},{value:28800,name:"28800"},{value:38400,name:"38400"},{value:57600,name:"57600"},{value:115200,name:"115200"}],onChange:function(e){c(Object(u.a)({},l,{baudrate:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.baudrate:null}),r.a.createElement(Fe,{titel:"\u0414\u043b\u0438\u043d\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430",id:"address_size",value:l.address_size,options:[{value:"8",name:"8"}],onChange:function(e){c(Object(u.a)({},l,{address_size:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.address_size:null}),r.a.createElement(Fe,{titel:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0447\u0451\u0442\u043d\u043e\u0441\u0442\u0438",id:"parity",value:l.parity,options:[{value:"none",name:"\u043d\u0435\u0442"},{value:"even",name:"\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c"},{value:"odd",name:"\u043d\u0435\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c"}],onChange:function(e){c(Object(u.a)({},l,{parity:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.parity:null}),r.a.createElement(Fe,{titel:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043f-\u0431\u0438\u0442\u043e\u0432",id:"stopbit",value:l.stopbit,options:[{value:"1",name:"1"},{value:"2",name:"2"}],onChange:function(e){c(Object(u.a)({},l,{stopbit:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.stopbit:null}),r.a.createElement(Le,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u043c\u0441)",id:"packet_timout",value:l.packet_timout,onChange:function(e){c(Object(u.a)({},l,{packet_timout:e.target.value}))},errors:e.formErrors?e.formErrors.packet_timout:null}),r.a.createElement(Le,{titel:"\u0422\u0430\u0439\u043c\u0430\u0443\u0442 \u0431\u0438\u0442\u0430 (\u043c\u0441)",id:"bit_timout",value:l.bit_timout,onChange:function(e){c(Object(u.a)({},l,{bit_timout:e.target.value}))},errors:e.formErrors?e.formErrors.bit_timout:null}),r.a.createElement(Ie,{titel:"\u041c\u043b\u0430\u0434\u0448\u0438\u043c \u0431\u0430\u0439\u0442\u043e\u043c \u0432\u043f\u0435\u0440\u0435\u0434",id:"lower_byte_forward",checked:l.lower_byte_forward,onChange:function(e){c(Object(u.a)({},l,{lower_byte_forward:e.target.checked}))},errors:e.formErrors?e.formErrors.lower_byte_forward:null}),r.a.createElement(Ie,{titel:"\u041c\u043b\u0430\u0434\u0448\u0438\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043c \u0432\u043f\u0435\u0440\u0435\u0434",id:"lower_register_forward",checked:l.lower_register_forward,onChange:function(e){c(Object(u.a)({},l,{lower_register_forward:e.target.checked}))},errors:e.formErrors?e.formErrors.lower_register_forward:null}),r.a.createElement(Ie,{titel:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0435 \u0447\u0442\u0435\u043d\u0438\u0435",id:"allow_group_reading",checked:l.allow_group_reading,onChange:function(e){c(Object(u.a)({},l,{allow_group_reading:e.target.checked}))},errors:e.formErrors?e.formErrors.allow_group_reading:null}),r.a.createElement(Pe,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}function He(e){var t=e.deviceTagsParameters,a=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h5",{className:"text-info"},"\u0422\u0435\u0433\u0438 \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success ml-auto",onClick:function(){a.push("/device/".concat(e.device_id,"/admin/config/tags/create/"))}},r.a.createElement("i",{className:"fas fa-plus px-1"})," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0433")),t.length>0?r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-dark table-striped table-sm desk-bg-color-secondary desk-text-color-primary desk-border-color-primary w-100 mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold pl-2"},"\u2116"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",{className:"border-0 text-secondary font-weight-bold"},"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("tbody",null,t.map(function(t,a){return r.a.createElement(Je,{key:a,tag:t,index:a,device_id:e.device_id})})))):r.a.createElement("i",{className:"text-secondary ml-3"},"\u0422\u0435\u0433\u0438 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u044b ... "))}function Je(e){var t=e.tag,a=Object(s.g)();return r.a.createElement("tr",{className:"table-row-like-link",onClick:function(){return n=t.id,void a.push("/device/".concat(e.device_id,"/admin/config/tags/").concat(n,"/detail/"));var n}},r.a.createElement("td",{className:"border-0 text-secondary pl-2"}," ",e.index+1," "),r.a.createElement("td",{className:"border-0"}," ",t.code," "),r.a.createElement("td",{className:"border-0"}," ",t.data_type," "),r.a.createElement("td",{className:"border-0"}," ",t.name," "),r.a.createElement("td",{className:"border-0"}," ",t.value," "))}function qe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desk-bg-color-primary text-secondary content-height"},r.a.createElement("div",{className:"container mt-5 text-center"},r.a.createElement("h1",null,"Error 404"),r.a.createElement("h3",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))))}function Ye(e){var t=e.device_id,a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1],s=r.a.useState(!0),m=Object(o.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){ve(t,function(e){i(e),d(!1)})},[]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement("div",{className:"d-flex border-bottom border-secondary mb-3 pb-2"},r.a.createElement("h5",{className:"pt-2 mt-1"},"\u041f\u0440\u0438\u0431\u043e\u0440: ",r.a.createElement("b",null,c.name)),r.a.createElement("div",{className:"ml-auto mx-3 px-3 border-x border-secondary"},c.is_online?r.a.createElement("div",{className:"text-success"},r.a.createElement("span",null,"\u041e\u043d\u043b\u0430\u0439\u043d")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-check text-center w-100"})):r.a.createElement("div",{className:"text-danger"},r.a.createElement("span",null,"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438")," ",r.a.createElement("br",null),r.a.createElement("i",{className:"fas fa-times text-center w-100"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"m-0 mr-1 text-right"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0441\u0435\u0430\u043d\u0441 \u0441\u0432\u044f\u0437\u0438: ",r.a.createElement("br",null)," ",c.verbose_last_update))))}function Xe(){var e=Object(s.h)().device_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"p-1"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0438\u0431\u043e\u0440\u0430"),r.a.createElement("div",{className:"px-3 pb-3 pt-2 mx-1 my-0 desk-bg-color-secondary rounded desk-text-color-primary",style:{minHeight:"calc(100vh - 135px)"}},r.a.createElement(Ye,{device_id:e}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/",component:function(){return r.a.createElement(Be,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/tags/:tag_id/detail/",component:function(){return r.a.createElement(Ge,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/config/tags/create/",component:function(){return r.a.createElement(Re,null)}}),r.a.createElement(s.b,{component:qe}))))}var Ze="http://localhost:8000";function Ve(e){var t=Object(s.h)().device_id,a=e.updateWidgetsTemplate,l=r.a.useState(w(e.widgetsTemplate)),c=Object(o.a)(l,2),i=c[0],m=c[1],u=r.a.useState(0),d=Object(o.a)(u,2),f=d[0],p=d[1],h=r.a.useState([]),v=Object(o.a)(h,2),g=v[0],E=v[1];Object(n.useEffect)(function(){b.get(Ze+"/device/tags/value/",{params:{id:t}}).then(function(e){e&&E(e.data)})},[]);var y=r.a.useState(!1),N=Object(o.a)(y,2),x=N[0],k=N[1],j=function(){k(!1),setTimeout(function(){k(!0)},0)};Object(n.useEffect)(function(){j()},[f,g]);var _=function(e){var t=i.widgets.map(function(e){return e});t.push(e),m({widgets:t})};return i.widgets?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"p-1"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432"),r.a.createElement("div",{className:"row equal p-0 m-0"},r.a.createElement("div",{className:"col-md-6 col-lg-7 col-xl-8 px-1",style:{minHeight:"80vh"}},r.a.createElement("div",{className:"p-0 m-0 desk-bg-color-secondary rounded h-100"},r.a.createElement(Ke,{widgetsTemplate:i,selectedWidget:f,changeSelectedWidget:function(e){p(e)}}))),r.a.createElement("div",{className:"col-md-6 col-lg-5 col-xl-4 px-1",style:{minHeight:"80vh"}},r.a.createElement("div",{className:"p-0 m-0 desk-bg-color-secondary rounded h-100"},r.a.createElement($e,{addWidget:function(e){"table"===e?_(ct):"graph"===e?_(ot):"indicator"===e&&_(it)},saveWidgetsTemplate:function(){a(i)},cancelChanges:function(){m(w(e.widgetsTemplate)),p(0),j()}}),x?r.a.createElement(et,{widget:i.widgets[f],tags:g,updateWidget:function(e){var t=i.widgets.map(function(t,a){return a===f?e:t});m({widgets:t})},deleteWidget:function(){return function(e){var t=i.widgets.map(function(e){return e});t.splice(e,1),m({widgets:t}),p(0)}(f)}}):null)))):r.a.createElement(W,null)}function Ke(e){var t=e.widgetsTemplate,a=e.selectedWidget,n=e.changeSelectedWidget;if(!t.widgets)return r.a.createElement(W,null);var l=t.widgets.map(function(e,t){var l=t===a?"border-primary":"";return r.a.createElement("div",{key:t,className:"col-".concat(3*e.width," p-1 m-0")},r.a.createElement("button",{className:"btn desk-bg-color-secondary desk-text-color-secondary w-100 h-100 text-left p-0 "+l,style:{overflow:"hidden",minHeight:"10vh",boxShadow:"none"},onClick:function(){n(t)}},r.a.createElement("div",{className:"h-100 p-0 px-2"},r.a.createElement("span",{className:"small text-nowrap"},e.title),r.a.createElement(Qe,{widget:e}))))});return r.a.createElement("div",{className:"d-flex justify-content-center m-0 p-4",style:{}},r.a.createElement("div",{className:"row equal rounded desk-bg-color-primary m-0 p-3 w-100",style:{maxWidth:"800px"}},l))}var Qe=function(e){var t=e.widget,a=e.color?e.color:"secondary";return"table"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"fas fa-table text-".concat(a," m-2"),style:{fontSize:"4em"}})):"graph"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"fas fa-chart-area text-".concat(a," m-2"),style:{fontSize:"4em"}})):"indicator"===t.type?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("span",{className:"border rounded-sm text-".concat(a," border-").concat(a," text-nowrap m-2 px-2"),style:{fontSize:"1.5em"}},t.addTextLeft," XX.X ",t.addTextRight)):null};function $e(e){var t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],l=a[1],c=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"m-1 pt-2 pb-3 border-bottom border-secondary"},r.a.createElement("div",{className:"d-flex justify-content-left"},r.a.createElement("button",{className:"btn btn-outline-info btn-sm mr-3",type:"button",onClick:function(){return l(!0)}}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442"),r.a.createElement("button",{className:"btn btn-outline-success btn-sm mr-3",type:"button",onClick:e.saveWidgetsTemplate},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",type:"button",onClick:e.cancelChanges},"\u041e\u0442\u043c\u0435\u043d\u0430")))),r.a.createElement(at,{show:n,handleClose:c,handleAddWidget:function(t){e.addWidget(t),c()}}))}function et(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=e.deleteWidget,c={};return t?("table"===t.type&&(c=r.a.createElement(nt,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),"graph"===t.type&&(c=r.a.createElement(rt,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),"indicator"===t.type&&(c=r.a.createElement(lt,{widget:t,tags:a,updateWidget:n,deleteWidget:l})),r.a.createElement("div",{className:"p-0 m-0 my-1"},r.a.createElement(tt,null," ",c," "))):null}function tt(e){return r.a.createElement("div",{className:"desk-text-color-primary p-2 m-0 mx-1 h-100"},e.children)}function at(e){var t=function(e){return r.a.createElement("div",{className:"col-4 p-1 w-100"},r.a.createElement("button",{type:"button",className:"btn btn-primary w-100 h-100",onClick:e.onClick},r.a.createElement("div",{className:"h-100 p-0 px-2"},e.children)))};return e.show?r.a.createElement("div",{className:"modal modal-bg d-block"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0432\u0438\u0434\u0436\u0435\u0442"),r.a.createElement("button",{type:"button",className:"close",onClick:e.handleClose},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row equal px-1"},r.a.createElement(t,{onClick:function(){return e.handleAddWidget("indicator")}},r.a.createElement("span",{className:"text-nowrap"},"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"),r.a.createElement("div",{className:"pt-2"}),r.a.createElement(Qe,{widget:{type:"indicator"},color:"light"})),r.a.createElement(t,{onClick:function(){return e.handleAddWidget("table")}},r.a.createElement("span",{className:"text-nowrap"},"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"),r.a.createElement(Qe,{widget:{type:"table"},color:"light"})),r.a.createElement(t,{onClick:function(){return e.handleAddWidget("graph")}},r.a.createElement("span",{className:"text-nowrap"},"\u0413\u0440\u0430\u0444\u0438\u043a"),r.a.createElement(Qe,{widget:{type:"graph"},color:"light"})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.handleClose},"\u041e\u0442\u043c\u0435\u043d\u0430"))))):null}function nt(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(Se,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(Le,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(Le,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(Te,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:l,comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{tags:Ae(e)}))}}),r.a.createElement(Te,{titel:"\u041a\u043e\u043b\u043e\u043d\u043a\u0438",id:"columns",placeholder:"...",value:t.columns,options:[{value:"#No",name:"\u2116"},{value:"code",name:"\u041a\u043e\u0434 \u0442\u0435\u0433\u0430"},{value:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"},{value:"value",name:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430"}],comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{columns:Ae(e)}))}})))}function rt(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0413\u0440\u0430\u0444\u0438\u043a"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(Se,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(Le,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(Le,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(Te,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:l,comment:r.a.createElement("span",{className:"m-0 p-0 d-block mt-1"},"\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",r.a.createElement("kbd",{className:"text-info"},"Ctrl")," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"),onChange:function(e){n(Object(u.a)({},t,{tags:Ae(e)}))}}),r.a.createElement(Ie,{titel:"\u041b\u0435\u0433\u0435\u043d\u0434\u0430",id:"legend",checked:t.legend,onChange:function(e){n(Object(u.a)({},t,{legend:e.target.checked}))}}),r.a.createElement(Ie,{titel:"\u041f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432",id:"toolbar",checked:t.toolbar,onChange:function(e){n(Object(u.a)({},t,{toolbar:e.target.checked}))}})))}function lt(e){var t=e.widget,a=e.tags,n=e.updateWidget,l=[];a&&(l=a.map(function(e){return{value:e.code,name:e.code+" - "+e.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex"},r.a.createElement("h6",null,"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger ml-auto",onClick:e.deleteWidget},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("form",null,r.a.createElement(Se,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title,onChange:function(e){n(Object(u.a)({},t,{title:e.target.value}))}}),r.a.createElement(Le,{titel:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",id:"order",placeholder:"...",value:t.order,onChange:function(e){n(Object(u.a)({},t,{order:e.target.value}))}}),r.a.createElement(Le,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4,onChange:function(e){n(Object(u.a)({},t,{width:e.target.value}))}}),r.a.createElement(Fe,{titel:"\u0422\u0435\u0433",id:"tags",placeholder:"...",value:t.tags[0],options:l,onChange:function(e){n(Object(u.a)({},t,{tags:Ae(e)}))}}),r.a.createElement(Le,{titel:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439",id:"precision",placeholder:"...",value:t.precision,min:0,max:5,onChange:function(e){n(Object(u.a)({},t,{precision:e.target.value}))}}),r.a.createElement(Se,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043b\u0435\u0432\u0430",id:"addTextLeft",placeholder:"...",value:t.addTextLeft,onChange:function(e){n(Object(u.a)({},t,{addTextLeft:e.target.value}))}}),r.a.createElement(Se,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043f\u0440\u0430\u0432\u0430",id:"addTextRight",placeholder:"...",value:t.addTextRight,onChange:function(e){n(Object(u.a)({},t,{addTextRight:e.target.value}))}})))}var ct={type:"table",width:4,title:"\u041d\u043e\u0432\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430",tags:[],columns:["#No","code","name","value"]},ot={type:"graph",width:4,title:"\u041d\u043e\u0432\u044b\u0439 \u0433\u0440\u0430\u0444\u0438\u043a",tags:[],legend:!1,toolbar:!0},it={type:"indicator",width:1,title:"\u041d\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",tags:[],precision:1};function st(){var e=Object(s.h)().device_id,t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1],m=r.a.useState({}),d=Object(o.a)(m,2),f=d[0],p=d[1],h=r.a.useState(!0),v=Object(o.a)(h,2),b=v[0],g=v[1];return Object(n.useEffect)(function(){Ee(e,[],function(e){c(e),g(!1)}),ve(e,p)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"p-1"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),r.a.createElement("div",{className:"p-3 mx-1 my-0 desk-bg-color-secondary desk-text-color-primary rounded",style:{minHeight:"calc(100vh - 135px)"}},b?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex mb-3 border-bottom border-secondary pb-3"},r.a.createElement("h4",{className:"pt-1 text-info"},'\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 "',f.name,'"'),r.a.createElement(i.c,{to:"/device/".concat(e,"/admin/events/create/"),className:"btn btn-outline-info ml-auto",device_id:e},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 ",r.a.createElement("i",{className:""}))),l.length>0?r.a.createElement(mt,{events:l,device_id:e,handlEventDelete:function(t){Ne(e,[t],function(){c(l.filter(function(e){return t!==e.id}))})},toggleEventEnable:function(t){var a=[Object(u.a)({},t,{enable:!t.enable})];ye(e,a,function(e){var t=l.map(function(t){return e[0].id===t.id?Object(u.a)({},e[0]):t});c(t)},function(e){console.log(e)})}}):r.a.createElement(dt,null))))}function mt(e){var t=e.events,a=e.device_id,n=e.handlEventDelete,l=e.toggleEventEnable;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table table-dark table-sm table-hover desk-bg-color-secondary desk-text-color-primary desk-border-color-primary mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"desk-text-color-secondary"},r.a.createElement("th",{className:"border-0"},"\u2116"),r.a.createElement("th",{className:"border-0"},"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"),r.a.createElement("th",{className:"border-0"},"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f"),r.a.createElement("th",{className:"border-0"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b"),r.a.createElement("th",{className:"border-0"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("tbody",null,r.a.createElement(ut,{events:t,device_id:a,handlEventDelete:n,toggleEventEnable:l}))))}function ut(e){var t=e.events,a=e.device_id,n=e.handlEventDelete,l=e.toggleEventEnable;return r.a.createElement(r.a.Fragment,null,t.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("tr",null,r.a.createElement("td",{className:"desk-text-color-secondary py-2"},t+1),r.a.createElement("td",{className:"py-0"},r.a.createElement(i.c,{to:"/device/".concat(a,"/admin/events/").concat(e.id,"/detail/"),className:"btn btn-link w-100 text-left pl-0 py-2 desk-text-color-primary"},e.raise_message?e.raise_message:r.a.createElement("i",{className:"desk-text-color-secondary"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d\u043e ..."))),r.a.createElement("td",null,e.enable?r.a.createElement("button",{className:"btn btn-outline-dark fas fa-check text-success border-0",onClick:function(){return l(e)}}):r.a.createElement("button",{className:"btn btn-outline-dark fas fa-times desk-text-color-secondary border-0",style:{fontSize:"1.3rem"},onClick:function(){return l(e)}})),r.a.createElement("td",null,e.is_active?r.a.createElement("i",{className:"fas fa-exclamation-triangle text-warning ml-3 py-2",style:{fontSize:"1.1rem"}}):""),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-outline-dark fas fa-times text-danger border-0",style:{fontSize:"1.2rem"},onClick:function(){return n(e.id)}}))))}))}function dt(){return r.a.createElement("i",{className:"text-secondary "},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 ...")}function ft(){var e=Object(s.h)(),t=e.event_id,a=e.device_id,l=Object(n.useState)({}),c=Object(o.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),f=d[0],p=d[1],h=r.a.useState(!0),v=Object(o.a)(h,2),b=v[0],g=v[1],E=Object(s.g)();return Object(n.useEffect)(function(){Ee(a,[t],function(e){m(e[0]),g(!1)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement("div",{className:"p-3 mx-1 my-0 rounded desk-bg-color-secondary desk-text-color-primary",style:{minHeight:"calc(100vh - 135px)"}},b?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(We,null,r.a.createElement("h5",{className:"text-info text-center mb-3"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(ht,{event:i,formErrors:f,onSubmit:function(e){ye(a,[e],function(){p(null),E.push("/device/".concat(a,"/admin/events/"))},function(e){p(e[0])})},onCancel:function(){E.push("/device/".concat(a,"/admin/events/"))},onDelete:function(){Ne(a,[t],function(){E.push("/device/".concat(a,"/admin/events/"))})}}))))}function pt(){var e=Object(s.h)().device_id,t={device:e,enable:!1,category:"Alarm"},a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],i=l[1],m=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mb-3"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement("div",{className:"p-3 mx-1 my-0 rounded desk-bg-color-secondary desk-text-color-primary",style:{minHeight:"calc(100vh - 135px)"}},r.a.createElement(We,null,r.a.createElement("h5",{className:"text-info text-center mb-3"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(ht,{event:t,formErrors:c,onSubmit:function(t){ye(e,[t],function(){i(null),m.push("/device/".concat(e,"/admin/events/"))},function(e){i(e[0])})},onCancel:function(){m.push("/device/".concat(e,"/admin/events/"))}}))))}function ht(e){var t=Object(n.useState)(e.event),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.onSubmit,s=e.onCancel,m=e.onDelete,d={minWidth:"150px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement(Ie,{titel:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f",id:"enable",checked:l.enable,onChange:function(e){c(Object(u.a)({},l,{enable:e.target.checked}))},errors:e.formErrors?e.formErrors.enable:null}),r.a.createElement(Se,{titel:"\u0424\u043e\u0440\u043c\u0443\u043b\u0430",id:"expression",placeholder:"...",value:l.expression,onChange:function(e){c(Object(u.a)({},l,{expression:e.target.value}))},errors:e.formErrors?e.formErrors.expression:null,comment:r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"mt-3 btn btn-sm btn-outline-info","data-toggle":"collapse","data-target":"#expressions_help"},"\u0421\u043f\u0440\u0430\u0432\u043a\u0430 ",r.a.createElement("i",{className:"far fa-question-circle"})),r.a.createElement("p",{id:"expressions_help",className:"collapse mt-3 border-top border-bottom border-info py-3"},"\u0412 \u0444\u043e\u0440\u043c\u0443\u043b\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439: ",r.a.createElement("br",null),"- \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag_code}}"),"  ",r.a.createElement("br",null),"- \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f",r.a.createElement("kbd",{className:"ml-2",title:"\u0420\u0430\u0432\u043d\u043e"},"=="),r.a.createElement("kbd",{className:"ml-2",title:"\u041d\u0435\u0440\u0430\u0432\u043d\u043e"},"!="),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u043e\u043b\u044c\u0448\u0435"},">"),r.a.createElement("kbd",{className:"ml-2",title:"\u041c\u0435\u043d\u044c\u0448\u0435"},"<"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e"},">="),r.a.createElement("kbd",{className:"ml-2",title:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e"},"<="),r.a.createElement("br",null),"- \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u0421\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},"+"),r.a.createElement("kbd",{className:"ml-2",title:"\u0412\u044b\u0447\u0438\u0442\u0430\u043d\u0438\u0435"},"-"),r.a.createElement("kbd",{className:"ml-2",title:"\u0414\u0435\u043b\u0435\u043d\u0438\u0435"},"/"),r.a.createElement("kbd",{className:"ml-2",title:"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 \u043e\u0441\u0442\u0430\u0442\u043a\u0430"},"//"),r.a.createElement("kbd",{className:"ml-2",title:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043e\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f"},"%"),r.a.createElement("kbd",{className:"ml-2",title:"\u0423\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435"},"*"),r.a.createElement("kbd",{className:"ml-2",title:"\u0412\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c"},"**"),r.a.createElement("br",null),"- \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0418"},"and"),r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0418\u041b\u0418"},"or"),r.a.createElement("kbd",{className:"ml-2",title:"\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u044f"},"not"),r.a.createElement("br",null),"- \u0431\u0438\u0442\u043e\u0432\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b",r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0418"},"&"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0418\u041b\u0418"},"|"),r.a.createElement("kbd",{className:"ml-2",title:"\u0411\u0438\u0442\u043e\u0432\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0435\u0435 \u0418\u041b\u0418"},"^"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u0430\u044f \u0438\u043d\u0432\u0435\u0440\u0441\u0438\u044f"},"~"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u044b\u0439 \u0441\u0434\u0432\u0438\u0433 \u0432 \u043b\u0435\u0432\u043e"},"<<"),r.a.createElement("kbd",{className:"ml-2",title:"\u041f\u043e\u0431\u0438\u0442\u043e\u0432\u044b\u0439 \u0441\u0434\u0432\u0438\u0433 \u0432 \u043f\u0440\u0430\u0432\u043e"},">>"),r.a.createElement("br",null),"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0444\u043e\u0440\u043c\u0443\u043b:  ",r.a.createElement("br",null),"- \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u0433\u0430 tag1 \u0431\u043e\u043b\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e 12.5 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag2}} >= 12.5")," ",r.a.createElement("br",null),"- \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0431\u0438\u0442\u0430 \u21165 \u0442\u0435\u0433\u0430 tag2 ",r.a.createElement("kbd",{className:"ml-2"},"{{tag2}} >> 5 & 1"),"  ",r.a.createElement("br",null),"- \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u0442\u0430 \u21160 \u0442\u0435\u0433\u0430 tag2 \u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0438\u0442\u0430 \u211614 \u0442\u0435\u0433\u0430 tag3 ",r.a.createElement("kbd",{className:"ml-2"},"({{tag2}} & 1) or ({{tag3}} >> 14 & 1)")))}),r.a.createElement(Se,{titel:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f",id:"raise_message",placeholder:"...",value:l.raise_message,onChange:function(e){c(Object(u.a)({},l,{raise_message:e.target.value}))},errors:e.formErrors?e.formErrors.raise_message:null}),r.a.createElement(Se,{titel:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",id:"fall_message",placeholder:"...",value:l.fall_message,onChange:function(e){c(Object(u.a)({},l,{fall_message:e.target.value}))},errors:e.formErrors?e.formErrors.fall_message:null}),r.a.createElement(Fe,{titel:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",id:"category",placeholder:"...",value:l.category,options:[{value:"Alarm",name:"\u0410\u0432\u0430\u0440\u0439\u043d\u043e\u0435"},{value:"Warning",name:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"},{value:"Info",name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435"},{value:"Debug",name:"\u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u043e\u0435"}],onChange:function(e){c(Object(u.a)({},l,{category:Ae(e)[0]}))},errors:e.formErrors?e.formErrors.category:null}),r.a.createElement("p",{className:"border-top border-secondary"}),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"col-md-6"}," \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435:",l.is_active?r.a.createElement("span",{className:"text-warning"}," \u0410\u041a\u0422\u0418\u0412\u041d\u041e "):r.a.createElement("span",{className:"text-light"}," \u041d\u0415 \u0410\u041a\u0422\u0418\u0412\u041d\u041e ")),r.a.createElement("p",{className:"col-md-6"}," \u0412\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0441\u0440\u0430\u0431\u0442\u044b\u0432\u0430\u043d\u0438\u044f:",l.raise_time?r.a.createElement("span",null," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"long",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium",n=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:t,timeStyle:a}).format(n)}(l.raise_time)," "):r.a.createElement("span",{className:"text-secondary"}," \u041d\u0438\u043a\u043e\u0433\u0434\u0430 "))),r.a.createElement("p",{className:"border-top border-secondary"}),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary m-2",style:d},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-2",style:d,onClick:s},"\u041e\u0442\u043c\u0435\u043d\u0430"),e.onDelete&&r.a.createElement("button",{type:"button",className:"btn btn-outline-danger m-2",style:d,onClick:m},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}function vt(){vt=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(_){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return j()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(_){return{type:"throw",arg:_}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var p={};o(p,r,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&a.call(v,r)&&(p=v);var b=f.prototype=u.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,o(b,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(b),o(b,c,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;x(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var bt="http://localhost:8000";function gt(){var e=Object(s.h)().id,t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1];function i(t){c(t),function(e,t,a){yt.apply(this,arguments)}(e,t)}return Object(n.useEffect)(function(){!function(e,t){Et.apply(this,arguments)}(e,function(e){c(w(e.template))})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desk-bg-color-primary text-secondary h-100"},r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement(k,{deviceId:e}),r.a.createElement("div",{className:"col-10 m-0 p-0"},r.a.createElement("div",{className:"content-height p-2"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/overview/",component:function(){return r.a.createElement(oe,{widgetsTemplate:l})}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/settings/",component:function(){return r.a.createElement(ie,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/events/",component:function(){return r.a.createElement(me,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/graphs/",component:function(){return r.a.createElement(de,null)}}),r.a.createElement(s.b,{path:"/device/:device_id/admin/config/",component:function(){return r.a.createElement(Xe,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/widgets/",component:function(){return r.a.createElement(Ve,{updateWidgetsTemplate:i,widgetsTemplate:l})}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/",component:function(){return r.a.createElement(st,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/:event_id/detail/",component:function(){return r.a.createElement(ft,null)}}),r.a.createElement(s.b,{exact:!0,path:"/device/:device_id/admin/events/create/",component:function(){return r.a.createElement(pt,null)}}),r.a.createElement(s.b,{component:qe})))))))}function Et(){return(Et=Object(d.a)(vt().mark(function e(t,a){var n;return vt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get(bt+"/widgets/template/",{params:{id:t}});case 2:n=e.sent,a(Object(u.a)({},n.data));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(){return(yt=Object(d.a)(vt().mark(function e(t,a,n){var r,l;return vt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={template:a},e.next=3,b.post(bt+"/widgets/template/",r,{params:{id:t}});case 3:l=e.sent,n&&n(Object(u.a)({},l.data));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(){return r.a.createElement("div",{className:"col-2 m-0 p-0"},r.a.createElement("div",{className:"sidebar-bg-color-primary p-2 h-100"},r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/company/overview/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041e\u0431\u0437\u043e\u0440"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/company/map/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-map-marked-alt",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/company/employers/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-users",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"))),r.a.createElement(i.c,{className:"nav-link sidebar-text-color-primary btn remove-outline",activeClassName:"sidebar-bg-color-secondary",to:"/company/profile/"},r.a.createElement("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start"},r.a.createElement("i",{className:"fas fa-chalkboard-teacher",style:{fontSize:"1.3em"}}),r.a.createElement("span",{className:"pl-3 d-none d-lg-inline"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442")))))))}var xt="http://localhost:8000";var wt=function(e){var t=r.a.useState({}),a=Object(o.a)(t,2),l=a[0],c=a[1],s=e.device;function m(){b.get(xt+"/device/parameters/",{params:{id:s.id}}).then(function(e){if(e){var t=e.data;c(Object(u.a)({},t))}})}return Object(n.useEffect)(function(){m();var e=setInterval(m,5e3);return function(){clearInterval(e)}},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"nav-link p-0 m-0",to:"/device/".concat(s.id,"/overview/")},r.a.createElement("div",{className:"border rounded p-2 h-100 desk-bg-color-secondary desk-text-color-primary desk-border-color-primary card-hover",style:{overflow:"hidden"}},r.a.createElement("h6",{className:"text-nowrap"},s.name),r.a.createElement("div",{className:"p-0 m-0 small w-100"},r.a.createElement("table",{className:"table table-sm p-0 m-0 desk-bg-color-secondary desk-text-color-primary desk-border-color-primary w-100"},r.a.createElement("tbody",null,r.a.createElement("tr",null),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0432\u044f\u0437\u044c: "),r.a.createElement("td",{className:"text-right"}," ",l.is_online?r.a.createElement("span",{className:"desk-text-color-primary"},"\u041e\u041a"):r.a.createElement("span",{className:"badge badge-pill badge-danger text-dark",style:{fontSize:"0.85em"}},"\u041d\u0415\u0422"))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e: "),r.a.createElement("td",{className:"text-right"}," ",l.last_update?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-light",a=new Date(e),n=new Date;if(n=n.setDate(n.getDate()-1),a>n){var l=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"});return r.a.createElement("span",{className:t},l.format(a))}var c=new Intl.DateTimeFormat([],{month:"short",day:"numeric"});return r.a.createElement("span",{className:t},c.format(a))}(l.last_update,l.is_online?null:"text-warning"):r.a.createElement("span",{className:"desk-text-color-secondary"},"\u043d\u0438\u043a\u043e\u0433\u0434\u0430"))),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0410\u0432\u0430\u0440\u0438\u0438: "),r.a.createElement("td",{className:"text-right"}," \u041d\u0435\u0442  "))))))))};var kt=function(e){var t=e.facilityInfo,a=t.devices;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card desk-bg-color-secondary desk-text-color-secondary shadow-sm p-0 m-0"},r.a.createElement("h6",{className:"px-2 pt-2 pb-0 m-0"},t.name),r.a.createElement("div",{className:"container-fluid h-100 p-1 m-0 row"},a.length>0?a.map(function(e,t){return r.a.createElement("div",{key:e.id,className:"col-lg-4 col-md-6 col-sm-12 p-1 m-0 h-100"},r.a.createElement(wt,{device:e,index:t}))}):r.a.createElement("p",{className:"desk-text-color-secondary p-1"},"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u043d\u0435\u0442 ..."))))};function jt(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],l=t[1],c=r.a.useState(!0),i=Object(o.a)(c,2),m=i[0],d=i[1],f=Object(s.g)();Object(n.useEffect)(function(){pe(function(e){l(Object(u.a)({isExist:!0},e))},function(e){l({isExist:!1}),console.log(e)},function(){d(!1)})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"p-1"},"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f ",r.a.createElement("b",null,!m&&a.isExist?a.company.name:null),r.a.createElement("button",{type:"button",className:"btn btn-sm desk-text-color-secondary card-hover float-right",onClick:function(){a.isExist?f.push("/company/detail"):f.push("/company/create")}},r.a.createElement("i",{className:"fas fa-pen",style:{fontSize:"1.3em"}}))),r.a.createElement("div",{className:"container-fluid row p-0 m-0"},m?r.a.createElement(W,null):a.isExist?r.a.createElement(_t,{companyInfo:a}):r.a.createElement(Ot,null)))}function _t(e){return e.companyInfo.facilities.length>0?r.a.createElement(Ct,{companyInfo:e.companyInfo}):r.a.createElement(St,null)}function Ot(e){var t=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid px-2"},r.a.createElement("p",{className:"text-warning"},"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",onClick:function(){t.push("/company/create")}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))}function Ct(e){return r.a.createElement(r.a.Fragment,null,e.companyInfo.facilities.map(function(e,t){return r.a.createElement("div",{key:e.id,className:"container-fluid p-1 m-0 col-xl-6"},r.a.createElement(kt,{facilityInfo:e,index:t}))}))}function St(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid px-2"},r.a.createElement("p",{className:"text-warning"},"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430"),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",onClick:function(){return alert("\u0414\u0430\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0435\u0449\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435.")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}function Lt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("h3",null,"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function Ft(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("h3",null,"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function Tt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("h3",null,"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("p",null,"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... ")))}function It(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),m=i[0],u=i[1],d=r.a.useState(!0),f=Object(o.a)(d,2),p=f[0],h=f[1],v=Object(s.g)();Object(n.useEffect)(function(){pe(function(e){l({name:e.company.name}),h(!1)})},[]);return r.a.createElement(r.a.Fragment,null,p?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(W,null)):r.a.createElement(We,null,r.a.createElement(Dt,{companyParameters:a,formErrors:m,submitCompanyParameters:function(e){he(e,function(e){l(e),u(null),v.push("/company/overview/")},function(e){u(e)})},cancelChanges:function(){v.push("/company/overview/")}})))}function Pt(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(s.g)();return r.a.createElement(We,null,r.a.createElement(Dt,{companyParameters:{name:""},formErrors:a,submitCompanyParameters:function(e){he(e,function(e){c.push("/company/overview/")},function(e){l(e)})},cancelChanges:function(){c.push("/company/overview/")}}))}function Dt(e){var t=Object(n.useState)(e.companyParameters),a=Object(o.a)(t,2),l=a[0],c=a[1],i=e.submitCompanyParameters,s=e.cancelChanges,m={minWidth:"150px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(l)}},r.a.createElement("h5",{className:"text-info text-center pt-3"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement(Se,{titel:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",id:"name",value:l.name,onChange:function(e){c(Object(u.a)({},l,{name:e.target.value}))},errors:e.formErrors?e.formErrors.name:null}),r.a.createElement(Pe,null,e.formErrors&&e.formErrors.non_field_errors?r.a.createElement("div",{className:"card bg-danger text-dark my-3 p-2"}," ",e.formErrors.non_field_errors):null),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary m-2",style:m},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary m-2",style:m,onClick:s},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}function Wt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desk-bg-color-primary desk-text-color-secondary h-100"},r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement(Nt,null),r.a.createElement("div",{className:"col-10 m-0 p-0"},r.a.createElement("div",{className:"content-height p-2"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/company",component:jt}),r.a.createElement(s.b,{exact:!0,path:"/company/overview",component:jt}),r.a.createElement(s.b,{exact:!0,path:"/company/map",component:Ft}),r.a.createElement(s.b,{exact:!0,path:"/company/employers",component:Lt}),r.a.createElement(s.b,{exact:!0,path:"/company/profile",component:Tt}),r.a.createElement(s.b,{exact:!0,path:"/company/create",component:Pt}),r.a.createElement(s.b,{exact:!0,path:"/company/detail",component:It}),r.a.createElement(s.b,{component:qe})))))))}var At=a(22),Gt=a(24),Rt=a(23),zt=a(25),Bt=a(8),Mt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Gt.a)(this,Object(Rt.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(Bt.a)(Object(Bt.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Bt.a)(Object(Bt.a)(a))),a}return Object(zt.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(At.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();E.login(this.state.username,this.state.password,function(){t.props.history.push("/company/overview/")})}},{key:"render",value:function(){var e="form-control desk-bg-color-secondary-2 desk-border-color-primary desk-text-color-primary";return r.a.createElement("div",{className:"desk-bg-color-primary desk-text-color-primary content-height"},r.a.createElement("div",{className:"container card p-3 mt-5 desk-bg-color-secondary",style:{maxWidth:"500px"}},r.a.createElement("h2",{className:"desk-text-color-secondary"},"\u0412\u0445\u043e\u0434"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"),r.a.createElement("input",{name:"username",type:"text",className:e,id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{name:"password",type:"password",className:e,id:"pwd",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"pt-3"},r.a.createElement("span",{className:"pr-2 desk-text-color-secondary"},"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(i.b,{className:"",to:"/user/registration/"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))}}]),t}(n.Component);function Ut(){Ut=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function o(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(_){o=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof u?t:u,l=Object.create(r.prototype),c=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return j()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var o=y(c,a);if(o){if(o===m)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=s(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(_){return{type:"throw",arg:_}}}e.wrap=i;var m={};function u(){}function d(){}function f(){}var p={};o(p,r,function(){return this});var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&a.call(v,r)&&(p=v);var b=f.prototype=u.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){o(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,o){var i=s(e[r],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==typeof u&&a.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,c,o)},function(e){n("throw",e,c,o)}):t.resolve(u).then(function(e){m.value=e,c(m)},function(e){return n("throw",e,c,o)})}o(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function y(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,o(b,"constructor",f),o(f,"constructor",d),d.displayName=o(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),o(E.prototype,l,function(){return this}),e.AsyncIterator=E,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new E(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(b),o(b,c,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var o=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(o&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),x(a),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;x(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),m}},e}var Ht=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Gt.a)(this,Object(Rt.a)(t).call(this,e))).state={username:"",password:"",email:"",errors:{username:null,email:null,password:null}},a.handleChange=a.handleChange.bind(Object(Bt.a)(Object(Bt.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Bt.a)(Object(Bt.a)(a))),a}return Object(zt.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(At.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(d.a)(Ut().mark(function e(t){var a,n=this;return Ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b.post("/user/create/",{username:this.state.username,email:this.state.email,password:this.state.password}).then(function(){E.login(n.state.username,n.state.password,function(){n.props.history.push("/company/overview/")})});case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.stack),this.setState({errors:e.t0.response.data});case 12:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e="form-control desk-bg-color-secondary-2 desk-border-color-primary desk-text-color-primary";return r.a.createElement("div",{className:"desk-bg-color-primary desk-text-color-primary content-height"},r.a.createElement("div",{className:"container card p-3 mt-5 desk-bg-color-secondary",style:{maxWidth:"500px"}},r.a.createElement("h2",{className:"desk-text-color-secondary"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"),r.a.createElement("input",{name:"username",type:"text",className:e,id:"username",value:this.state.username,onChange:this.handleChange}),this.state.errors.username?r.a.createElement("span",{className:"text-danger"},this.state.errors.username):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"mail"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"),r.a.createElement("input",{name:"email",type:"email",className:e,id:"mail",value:this.state.email,onChange:this.handleChange}),this.state.errors.email?r.a.createElement("span",{className:"text-danger"},this.state.errors.email):null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("input",{name:"password",type:"password",className:e,id:"pwd",value:this.state.password,onChange:this.handleChange}),this.state.errors.password?r.a.createElement("span",{className:"text-danger"},this.state.errors.password):null),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"),r.a.createElement("div",{className:"pt-3"},r.a.createElement("span",{className:"pr-2 desk-text-color-secondary"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(i.b,{className:"",to:"/user/login/"},"\u0412\u0445\u043e\u0434")))))}}]),t}(n.Component);function Jt(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desk-bg-color-primary content-height"},r.a.createElement("div",{className:"container card desk-bg-color-secondary desk-text-color-secondary shadow-sm my-4 pt-4"},r.a.createElement("h2",null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("table",{className:"table tadle-dark desk-text-color-primary desk-border-color-primary"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.username))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u0418\u043c\u044f:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.first_name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.last_name))),r.a.createElement("tr",null,r.a.createElement("td",{className:"border-secondary"},"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"),r.a.createElement("td",{className:"border-secondary"},r.a.createElement("b",null,e.userInfo.email))))))))))}var qt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(Gt.a)(this,Object(Rt.a)(t).call(this,e))).handleLogout=a.handleLogout.bind(Object(Bt.a)(Object(Bt.a)(a))),a}return Object(zt.a)(t,e),Object(p.a)(t,[{key:"handleLogout",value:function(){var e=this;E.logout(function(){e.props.history.push("/")})}},{key:"render",value:function(){return r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link navbar-text-color-primary",to:"",onClick:this.handleLogout},"\u0412\u044b\u0439\u0442\u0438"))}}]),t}(n.Component),Yt=Object(s.i)(qt);function Xt(e){var t=e.authed,a=e.userInfo;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark navbar-bg-color-primary header-height p-0 m-0"},r.a.createElement(i.b,{className:"navbar-brand header-height navbar-text-color-logo py-2 pl-3 pr-0 m-0",to:"/"},"CI Cloud"),r.a.createElement("button",{className:"navbar-toggler header-height border-0 m-0",style:{outline:"none",boxShadow:"none"},type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse navbar-bg-color-primary",id:"collapsibleNavbar",style:{zIndex:"1"}},r.a.createElement("div",{className:"d-md-none border-top border-secondary"}),r.a.createElement("ul",{className:"navbar-nav px-3"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link navbar-text-color-primary",to:"/company/overview"},"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link navbar-text-color-primary",to:"/company/profile"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"))):null),r.a.createElement("ul",{className:"navbar-nav ml-auto px-3"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-sm btn-outline-primary navbar-text-color-primary border-0 remove-outline",onClick:e.switchThemaHandler},e.darkThema?r.a.createElement("i",{className:"fas fa-sun"}):r.a.createElement("i",{className:"fas fa-moon"})))),r.a.createElement("ul",{className:"navbar-nav pr-3"},t?r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link navbar-text-color-primary",to:"/user/profile"},a.username)),r.a.createElement("li",{className:"nav-item border-right border-secondary my-1 d-none d-sm-inline"})):null,r.a.createElement(Yt,null)):r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.b,{className:"nav-link navbar-text-color-primary",to:"/user/login"},"\u0412\u043e\u0439\u0442\u0438")))))}function Zt(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"desk-bg-color-primary text-dark content-height"},r.a.createElement("div",{className:"card",style:{background:"none",border:"none"}},r.a.createElement("div",{className:"container card border-0 my-4 px-3 pt-3 pb-4 w-100",style:{background:"rgba(5,10,40, 0.3)"}},r.a.createElement("div",{className:"card p-3",style:{background:"rgba(255,255,255, 0.9)"}},r.a.createElement("h3",{className:"text-center"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 ",r.a.createElement("b",null,"CI Cloud")),r.a.createElement("h5",{className:"text-center text-secondary"},"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",r.a.createElement(i.b,{className:"px-2",to:"/user/login/"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"),"\u0438\u043b\u0438",r.a.createElement(i.b,{className:"px-2",to:"/user/registration/"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"))),r.a.createElement("div",{className:"row equal px-1 py-5"},r.a.createElement(Vt,null,r.a.createElement("h6",null,"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438")),r.a.createElement(Vt,null,r.a.createElement("h6",null,"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u0445 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 ")),r.a.createElement(Vt,null,r.a.createElement("h6",null,"\u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432")),r.a.createElement(Vt,null,r.a.createElement("h6",null,"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 API \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u043c \u041f\u041e \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438 ")),r.a.createElement(Vt,null,r.a.createElement("h6",null,"\u0415\u0434\u0438\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0438 \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 ")),r.a.createElement(Vt,null,r.a.createElement("h6",null," \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f",r.a.createElement("button",{type:"button",className:"btn btn-link px-2 py-0 m-0",onClick:function(){E.login("demo","DemoUserPassword",function(){e.history.push("/company/overview/")})}},"\u0434\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u0435\u0439")," \u0434\u043b\u044f \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u043b\u0435\u043d\u0438\u044f"))),r.a.createElement(Kt,null,r.a.createElement("h5",{className:"pb-3 text-dark text-center"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439: "),r.a.createElement(Qt,null," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 0.1.7 "),r.a.createElement($t,null," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0416\u0443\u043d\u0430\u043b\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 "),r.a.createElement(ea,null,"\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0435 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, \u043e\u0431\u043b\u0430\u043a\u043e \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0438\u0445 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u0416\u0443\u0440\u043d\u0430\u043b \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435."),r.a.createElement($t,null," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438 \u0442\u0435\u0433\u043e\u0432 \u043f\u0440\u0438\u0431\u043e\u0440\u0430 "),r.a.createElement(ea,null,"\u0422\u0435\u043f\u0435\u0440\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b \u041f\u0440\u0438\u0431\u043e\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u0432\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u0431\u043e\u0440\u0430. \u0422\u0430\u043a \u0436\u0435 \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0412\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0422\u0435\u0433\u0438 \u043f\u0440\u0438\u0431\u043e\u0440\u0430."),r.a.createElement(Qt,null," \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 0.1.6 "),r.a.createElement($t,null," \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0412\u0438\u0434\u0436\u0435\u0442\u044b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 "),r.a.createElement(ea,null,"\u0422\u0435\u043f\u0435\u0440\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b \u0412\u0438\u0434\u0436\u0435\u0442\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0432\u044b \u043c\u043e\u0436\u0438\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0436\u0435\u0442\u044b, \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u041e\u0431\u0437\u043e\u0440."))))))}function Vt(e){return r.a.createElement("div",{className:"col-4 p-2"},r.a.createElement("div",{className:"card h-100 border-0",style:{background:"rgba(255,255,255, 0.9)"}},r.a.createElement("div",{className:"card-body text-center text-dark"},e.children)))}function Kt(e){return r.a.createElement("div",{className:"card border-0 mb-3",style:{background:"rgba(255,255,255, 0.9)"}},r.a.createElement("div",{className:"card-body"},e.children))}function Qt(e){return r.a.createElement("h6",{className:"text-primary border-top border-info pt-3"}," ",e.children," ")}function $t(e){return r.a.createElement("h6",{className:"text-success"}," ",e.children," ")}function ea(e){return r.a.createElement("p",{className:"text-dark"}," ",e.children," ")}function ta(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!0),m=Object(o.a)(c,2),u=m[0],d=m[1],f=N("thema",!1),p=Object(o.a)(f,2),h=p[0],v=p[1],b=Object(n.useState)(!1),g=Object(o.a)(b,2),w=g[0],k=g[1],j=Object(n.useState)({}),_=Object(o.a)(j,2),O=_[0],C=_[1],S=Object(x.b)();Object(n.useEffect)(function(){L(h),E.checkAuthentication(function(){l(!1)}),E.onLogin=function(){k(!0)},E.onLogout=function(){k(!1)},E.onUserInfoReaded=function(e){C(e),d(!1)}},[]);var L=function(e){var t=document.getElementById("root");t.className=e?"dark-thema":"light-thema"};return a||u?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"full-screen-button fas fa-expand ",onClick:S.enter}),r.a.createElement(x.a,{handle:S},r.a.createElement(i.a,null,r.a.createElement(s.b,{exact:!0,path:"/",component:function(){return r.a.createElement("video",{autoPlay:"autoplay",muted:!0,loop:"loop",id:"myVideo"},r.a.createElement("source",{src:"PowerPlant29080.mp4",type:"video/mp4"}))}}),r.a.createElement(Xt,{authed:w,userInfo:O,darkThema:h,switchThemaHandler:function(){var e=!h;v(e),L(e)}}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:Zt}),r.a.createElement(s.b,{exact:!0,path:"/user/login",component:Mt}),r.a.createElement(s.b,{exact:!0,path:"/user/registration",component:Ht}),r.a.createElement(y,{exact:!0,path:"/user/profile",component:function(){return r.a.createElement(Jt,{userInfo:O})}}),r.a.createElement(y,{path:"/company",component:Wt}),r.a.createElement(y,{path:"/device/:id",component:gt}),r.a.createElement(s.b,{component:qe})))))}var aa=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,138)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ta,null)),document.getElementById("root")),aa()},73:function(e,t,a){e.exports=a(136)},78:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){}},[[73,3,2]]]);
//# sourceMappingURL=main.f0eb116c.chunk.js.map