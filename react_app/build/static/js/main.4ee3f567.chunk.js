(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{125:function(e,t,c){},126:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),s=c.n(a),r=c(63),l=c.n(r),i=(c(76),c(3)),o=(c(77),c(78),c(4)),d=c(6),j=c(8),b=c(68),h=c(9),m=c.n(h),u=c(18),x=c(19),p=c(20),O=c(64);var f=c.n(O).a.create({baseURL:"http://bfcloud.space",timeout:6e4,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});f.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status&&"/user/token/refresh/"===t.url)return Promise.reject(e);if("token_not_valid"===e.response.data.code&&401===e.response.status&&"Unauthorized"===e.response.statusText){var c=localStorage.getItem("refresh_token");if(c){var n=JSON.parse(atob(c.split(".")[1])),a=Math.ceil(Date.now()/1e3);if(console.log(n.exp),n.exp>a)return f.post("/user/token/refresh/",{refresh:c}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),f.defaults.headers.Authorization="JWT "+e.data.access,t.headers.Authorization="JWT "+e.data.access,f(t)})).catch((function(e){console.log(e)}));console.log("Refresh token is expired",n.exp,a)}else console.log("Refresh token not available.")}return Promise.reject(e)}));var g=f,v=new(function(){function e(){Object(x.a)(this,e),this.authenticated=!1,this.onLogin=function(){},this.onLogout=function(){},this.onUserInfoReaded=function(){}}return Object(p.a)(e,[{key:"checkAuthentication",value:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/user/token/check/");case 3:e.sent?this._onLogin():this._onLogout(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onLogout();case 10:t();case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(m.a.mark((function e(t,c,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/user/token/obtain/",{username:t,password:c});case 3:a=e.sent,g.defaults.headers.Authorization="JWT "+a.data.access,localStorage.setItem("access_token",a.data.access),localStorage.setItem("refresh_token",a.data.refresh),this._onLogin(),n(),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,c,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("user/token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),g.defaults.headers.Authorization=null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:this._onLogout(),t();case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"readUserInfo",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/user/info/");case 2:t=e.sent,this.onUserInfoReaded(Object(j.a)({},t.data));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearUserInfo",value:function(){this.userInfo={},this.onUserInfoReaded({})}},{key:"_onLogin",value:function(){this.authenticated=!0,this.onLogin(),this.readUserInfo()}},{key:"_onLogout",value:function(){this.authenticated=!1,this.onLogout(),this.clearUserInfo()}}]),e}()),N=function(e){var t=e.component,c=Object(b.a)(e,["component"]);return Object(n.jsx)(d.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return v.isAuthenticated()?Object(n.jsx)(t,Object(j.a)({},e)):Object(n.jsx)(d.a,{to:{pathname:"/user/login",state:{from:e.location}}})}}))},y=c(45),k=c(15),w=c(26),S=c(25),C=function(e){Object(w.a)(c,e);var t=Object(S.a)(c);function c(e){var n;return Object(x.a)(this,c),(n=t.call(this,e)).handleLogout=n.handleLogout.bind(Object(k.a)(n)),n}return Object(p.a)(c,[{key:"handleLogout",value:function(){var e=this;v.logout((function(){e.props.history.push("/")}))}},{key:"render",value:function(){return Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"",onClick:this.handleLogout,children:"\u0412\u044b\u0439\u0442\u0438"})})}}]),c}(a.Component),_=Object(d.h)(C);function F(e){var t=e.authed,c=e.userInfo;return Object(n.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark bg-color-indigo header-height p-0 m-0",children:[Object(n.jsx)(o.b,{className:"navbar-brand header-height py-2 pl-3 pr-0 m-0",to:"/",children:"WebArm"}),Object(n.jsx)("button",{className:"navbar-toggler header-height border-0 m-0",style:{outline:"none",boxShadow:"none"},type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse bg-color-indigo",id:"collapsibleNavbar",style:{zIndex:"1"},children:[Object(n.jsx)("div",{className:"d-md-none border-top border-secondary"}),Object(n.jsx)("ul",{className:"navbar-nav px-3",children:t?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/company/overview",children:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/company/facilities",children:"\u041e\u0431\u044c\u0435\u043a\u0442\u044b"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/company/profile",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})})]}):null}),Object(n.jsx)("ul",{className:"navbar-nav ml-auto px-3",children:t?Object(n.jsxs)(s.a.Fragment,{children:[c?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/user/profile",children:c.username})}),Object(n.jsx)("li",{className:"nav-item border-right border-secondary my-1 d-none d-sm-inline",children:" "})]}):null,Object(n.jsx)(_,{})]}):Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link",to:"/user/login",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})}function T(e){var t=s.a.useState(!1),c=Object(i.a)(t,2),a=c[0],r=c[1],l=e.deviceId,d={outline:"none",boxShadow:"none"};return Object(n.jsx)("div",{className:"col-2 m-0 p-0",children:Object(n.jsx)("div",{className:"bg-dark bg-color-gray p-2 h-100",children:Object(n.jsxs)("div",{className:"p-1",children:[Object(n.jsxs)("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/overview/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u041e\u0431\u0437\u043e\u0440"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/settings/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start ",children:[Object(n.jsx)("i",{className:"far fa-edit",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/graphs/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"far fa-chart-bar",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/events/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"far fa-bell",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u0416\u0443\u0440\u043d\u0430\u043b"})]})})]}),Object(n.jsxs)("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},children:[Object(n.jsx)("div",{className:"border-top mt-3 pt-3 border-secondary"}),Object(n.jsx)("button",{className:"nav-link text-light btn",style:d,onClick:function(){r(!a)},children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"\tfas fa-list py-1",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(n.jsx)("i",{className:"fas fa-caret-down py-1 pl-1 ml-auto d-none d-lg-inline"})]})}),a&&Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/admin/config/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u041f\u0440\u0438\u0431\u043e\u0440"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:d,activeClassName:"bg-dark",to:"/device/".concat(l,"/admin/widgets/"),children:Object(n.jsxs)("div",{className:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-circle px-1 pt-2",style:{fontSize:"0.6em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline text-left",children:"\u0412\u0438\u0434\u0436\u0435\u0442\u044b"})]})})]})]})]})})})}function I(e){var t=s.a.useState({}),c=Object(i.a)(t,2),r=c[0],l=c[1],o=e.device_id;function d(){g.get("http://bfcloud.space/device/parameters/",{params:{id:o}}).then((function(e){e&&l(Object(j.a)({},e.data))}))}return Object(a.useEffect)((function(){d();var e=setInterval(d,5e3);return function(){clearInterval(e)}}),[]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"d-flex border rounded border-dark px-3 mb-1 mx-1",children:[Object(n.jsxs)("h3",{className:"pt-1",children:["\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",Object(n.jsx)("b",{children:r.name})]}),Object(n.jsx)("div",{className:"ml-auto mx-3 px-3 border-x border-dark",children:r.is_online?Object(n.jsxs)("div",{className:"text-success",children:[Object(n.jsx)("span",{children:"\u041e\u043d\u043b\u0430\u0439\u043d"})," ",Object(n.jsx)("br",{}),Object(n.jsx)("i",{className:"fas fa-check text-center w-100"})]}):Object(n.jsxs)("div",{className:"text-danger",children:[Object(n.jsx)("span",{children:"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438"})," ",Object(n.jsx)("br",{}),Object(n.jsx)("i",{className:"fas fa-times text-center w-100"})]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("p",{className:"m-0 mr-1 text-right",children:["\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b: ",Object(n.jsx)("br",{})," ",r.verbose_last_update]})})]})})}var E=c(5),D=function(e,t){var c=function(c){e.current&&e.current.contains(c.target)&&t()};Object(a.useEffect)((function(){return document.addEventListener("click",c),function(){document.removeEventListener("click",c)}}))};var L=function(e){var t=this,c=e.tags.filter((function(e){return!1===e.disabled})),r=e.resetZoomButton,l=s.a.useState(null),o=Object(i.a)(l,2),d=o[0],j=o[1];return D(r,(function(){console.log("seted onclick"),j(null)})),Object(a.useEffect)((function(){r.current.className=d?r.current.className.replace("d-none","d-block"):r.current.className.replace("d-block","d-none")}),[d]),c.length>0?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"graph-container h-100",style:{overflow:"hidden"},children:Object(n.jsxs)(E.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:d&&[d.left,d.right],yDomain:d&&[d.bottom,d.top],yPadding:10,children:[Object(n.jsx)(E.d,{style:{stroke:"#444A50"}}),Object(n.jsx)(E.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),Object(n.jsx)(E.h,{style:{line:{stroke:"#6c757d"}}}),c.map((function(e){return Object(n.jsx)(E.e,{data:e.values,color:e.curve_color},e.tag_id)})),Object(n.jsx)(E.c,{onBrushEnd:function(e){return j(e)},onDrag:function(e){t.setState({lastDrawLocation:{bottom:d.bottom+(e.top-e.bottom),left:d.left-(e.right-e.left),right:d.right-(e.right-e.left),top:d.top+(e.top-e.bottom)}})}})]})})}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"graph-container h-100",children:Object(n.jsxs)(E.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30},children:[Object(n.jsx)(E.d,{style:{stroke:"#444A50"}}),Object(n.jsx)(E.g,{}),Object(n.jsx)(E.h,{}),Object(n.jsx)(E.e,{data:[{x:0,y:0}]})]})})})};var z=function(e){var t=e.tags.filter((function(e){return!1===e.disabled})),c=e.resetZoomButton,r=s.a.useState(null),l=Object(i.a)(r,2),o=l[0],d=l[1],j=s.a.useState([]),b=Object(i.a)(j,2),h=b[0],m=b[1];D(c,(function(){console.log("seted onclick"),d(null)})),Object(a.useEffect)((function(){c.current.className=o?c.current.className.replace("d-none","d-block"):c.current.className.replace("d-block","d-none")}),[o]);var u=t.map((function(e){return e.values.map((function(t){return t.title=e.tag_name,t.color=e.curve_color,t}))})),x=function(e,t){var c=t.index;m(u.map((function(e){return e[c]})))};return t.length>0?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"graph-container  h-100",style:{overflow:"hidden"},children:Object(n.jsxs)(E.b,{margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:o&&[o.left,o.right],yDomain:o&&[o.bottom,o.top],yPadding:10,onMouseLeave:function(){m([])},children:[Object(n.jsx)(E.d,{style:{stroke:"#444A50"}}),Object(n.jsx)(E.g,{style:{line:{stroke:"#6c757d"}},tickTotal:15}),Object(n.jsx)(E.h,{style:{line:{stroke:"#6c757d"}}}),t.map((function(e,t){return 0===t?Object(n.jsx)(E.e,{onNearestX:x,data:e.values,color:e.curve_color},e.tag_id):Object(n.jsx)(E.e,{data:e.values,color:e.curve_color},e.tag_id)})),Object(n.jsx)(E.c,{onBrushEnd:function(e){return d(e)},onDrag:function(e){d({lastDrawLocation:{bottom:o.bottom+(e.top-e.bottom),left:o.left-(e.right-e.left),right:o.right-(e.right-e.left),top:o.top+(e.top-e.bottom)}})}}),h[0]&&h.map((function(e,t){return e?Object(n.jsx)(E.f,{color:e.color,size:"5",data:[e]},t):null})),Object(n.jsx)(E.a,{values:h,style:{line:{backgroundColor:"red"}},children:h[0]&&Object(n.jsx)("div",{className:"rounded p-1 mx-2",style:{background:"rgba(37, 37, 38, 1)"},children:Object(n.jsxs)("table",{className:"table text-light p-0 m-0",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:"3",style:{fontSize:"1.2em",color:"rgb(180, 180, 180)"},className:"border-0 font-weight-bold p-1 m-0 text-center text-nowrap",children:function(e){var t=new Date(e);return new Intl.DateTimeFormat([],{dateStyle:"long",timeStyle:"medium"}).format(t)}(h[0].x)})})}),Object(n.jsx)("tbody",{children:h.map((function(e,t){return e?Object(n.jsxs)("tr",{style:{fontSize:"1.1em",color:"rgb(210, 210, 210)"},children:[Object(n.jsx)("td",{style:{color:e.color,paddingTop:"4px"},className:"text-nowrap border-0 px-1 pb-0 m-0\tfas fa-minus"}),Object(n.jsxs)("td",{className:"text-nowrap border-0 pl-1 pr-2 py-0 m-0",children:[" ",e.title,": "]}),Object(n.jsxs)("td",{className:"text-nowrap border-0 px-1 py-0 m-0 font-weight-bold  text-right",children:[" ",e.y," "]})]},t):null}))})]})})})]})})}):Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"graph-container h-100",children:Object(n.jsxs)(E.b,{dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30},children:[Object(n.jsx)(E.d,{style:{stroke:"#444A50"}}),Object(n.jsx)(E.g,{}),Object(n.jsx)(E.h,{}),Object(n.jsx)(E.e,{data:[{x:0,y:0}]})]})})})},P=c(67),R=c.n(P);function A(e){var t=s.a.useState(""),c=Object(i.a)(t,2),a=c[0],r=c[1],l={onClick:e.onClick,items:e.tags.map((function(e){return{title:e.tag_name,color:e.curve_color,tag_id:e.tag_id,disabled:e.disabled}}))};return Object(n.jsx)("div",{className:"d-block text-dark pl-3",children:Object(n.jsx)(R.a,{height:parseInt(e.height.replace("px","")),onSearchChange:function(e){r(e)},searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",searchText:a,onItemClick:function(e){l.onClick(e.tag_id)},items:l.items})})}function M(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),r=c[0],l=c[1],o=Object(a.useState)([!1,!0,!1,!1,!1,!1,!1,!1]),d=Object(i.a)(o,2),j=d[0],b=d[1],h=e.changeGraphInterval;function m(e){var t=j.map((function(t,c){return c===e}));b(t),l(7===e)}function u(e){return j[e]?" active":""}return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("div",{className:"d-flex justify-content-left p-0 pt-2 m-0",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(0),onClick:function(){m(0),h("5m","all")},children:"\u043e\u043d\u043b\u0430\u0439\u043d"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(1),onClick:function(){m(1),h("1h","1m")},children:"1 \u0447\u0430\u0441"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(2),onClick:function(){m(2),h("6h","5m")},children:"6 \u0447\u0430\u0441\u043e\u0432"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(3),onClick:function(){m(3),h("12h","10m")},children:"12 \u0447\u0430\u0441\u043e\u0432"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(4),onClick:function(){m(4),h("1d","30m")},children:"\u0441\u0443\u0442\u043a\u0438"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(5),onClick:function(){m(5),h("7d","2h")},children:"\u043d\u0435\u0434\u0435\u043b\u044f"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(6),onClick:function(){m(6),h("30d","12h")},children:"\u043c\u0435\u0441\u044f\u0446"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary mx-1 "+u(7),onClick:function(){m(7),h("30d","12h")},children:"\u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b"})]}),r?Object(n.jsx)(B,{}):null]})}function B(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("form",{className:"pt-2",children:Object(n.jsxs)("div",{className:"input-group input-group-sm ",children:[Object(n.jsx)("div",{className:"input-group-prepend ",children:Object(n.jsx)("span",{className:"input-group-text bg-secondary text-light border-secondary ml-1",children:"C"})}),Object(n.jsx)("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),Object(n.jsx)("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),Object(n.jsx)("div",{className:"input-group-prepend ",children:Object(n.jsx)("span",{className:"input-group-text bg-secondary text-light border-secondary ml-2",children:"\u041f\u043e"})}),Object(n.jsx)("input",{type:"date",className:"form-control bg-dark text-light border-secondary"}),Object(n.jsx)("input",{type:"time",className:"form-control bg-dark text-light border-secondary"}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-secondary ml-2 mr-1",children:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})," ",Object(n.jsx)("br",{})]})})})}c(125);function W(){return Object(n.jsxs)("div",{className:"lds-ellipsis",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}var U=function(e){var t=s.a.useState(!1),c=Object(i.a)(t,2),a=(c[0],c[1]),r=s.a.useState(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],j=s.a.useRef(null),b=s.a.useRef(null),h=s.a.useRef(null),m=s.a.useRef(null),u=s.a.useRef(null),x=s.a.useRef(null),p=e.tagsHistory,O=e.height?e.height:"300px",f=function(){var t=" full-screen-card";j.current.className.includes(t)?(j.current.className=j.current.className.replace(t,""),b.current.style.height=O,b.current.className=b.current.className.replace("col-10","col-8"),e.legend&&(u.current.className=u.current.className.replace("col-2","col-4")),h.current.className=h.current.className.replace("fa-compress","fa-expand"),h.current.className=h.current.className.replace("text-primary","text-light"),a(!1)):(j.current.className+=t,b.current.style.height="calc(100vh - 150px)",b.current.className=b.current.className.replace("col-8","col-10"),e.legend&&(u.current.className=u.current.className.replace("col-4","col-2")),h.current.className=h.current.className.replace("fa-expand","fa-compress"),h.current.className=h.current.className.replace("text-light","text-primary"),a(!0))},g=function(){o?(d(!o),m.current.className=m.current.className.replace("text-primary","text-light")):(d(!o),m.current.className=m.current.className.replace("text-light","text-primary"))};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{ref:j,className:"card shadow-sm py-2 bg-dark text-light h-100",children:[Object(n.jsxs)("div",{className:"d-flex mb-1",children:[Object(n.jsx)("h5",{className:"px-3 pt-1 pb-2 m-0",children:e.title}),Object(n.jsx)("span",{className:"ml-auto"}),Object(n.jsx)("button",{type:"button",ref:x,className:"btn btn-link text-primary m-0 p-0 mt-1 mr-2 fas fa-search-minus d-none",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:null}),Object(n.jsx)("button",{type:"button",ref:m,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-ruler-vertical",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:g}),Object(n.jsx)("button",{type:"button",ref:h,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:f})]}),e.loading?Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)(W,{})}):Object(n.jsxs)("div",{className:"row m-0 px-3 py-0",children:[Object(n.jsx)("div",{ref:b,className:"".concat(e.legend?"col-8":"col-12"," m-0 p-0"),style:{height:O},children:o?Object(n.jsx)(z,{tags:p,resetZoomButton:x}):Object(n.jsx)(L,{tags:p,resetZoomButton:x})}),e.legend&&Object(n.jsx)("div",{ref:u,className:"col-4 m-0 p-0",children:Object(n.jsx)(A,{tags:p,onClick:e.toggleCurveDisplay,height:O})}),e.toolbar&&Object(n.jsx)("div",{className:"col-12 align-self-start m-0 p-0",children:Object(n.jsx)(M,{toggleModal:f,toggleCroshair:g,changeGraphInterval:e.changeGraphInterval})})]})]})})},J=["#f44336","#00BCD4","#FF9800","#E91E63","#009688","#FF5722","#9C27B0","#4CAF50","#795548","#673AB7","#8BC34A","#607D8B","#3F51B5","#CDDC39","#2196F3","#FFEB3B","#03A9F4","#FFC107"];function V(e){var t=J.length;return J[e+1>t?e%t:e]}function G(e){var t=s.a.useState(!0),c=Object(i.a)(t,2),r=c[0],l=c[1],o=s.a.useState({interval:"1h",resolution:"1m",tags:e.widget.tags}),d=Object(i.a)(o,2),b=d[0],h=d[1],m=s.a.useState([]),u=Object(i.a)(m,2),x=u[0],p=u[1],O=e.device_id;function f(){g.get("http://bfcloud.space/device/tags/history/",{params:Object(j.a)({id:O},b)}).then((function(e){e&&function(e){var t=e.map((function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,disabled:!1,curve_color:V(t),values:e.values.map((function(e){return{x:new Date(e.add_date),y:e.value}}))}}));p((function(e){return t.map((function(t){var c=e.filter((function(e){return e.tag_id===t.tag_id})),n=c.length>0?c[0].disabled:t.disabled;return Object(j.a)(Object(j.a)({},t),{},{disabled:n})}))}))}(e.data)}))}return Object(a.useEffect)((function(){f(),setTimeout((function(){l(!1)}),1e3);var e,t=setInterval(f,"5m"===(e=b.interval)?2e3:"1h"===e?3e4:"6h"===e?12e4:"12h"===e?3e5:"1d"===e?9e5:"7d"===e?36e5:"30d"===e?216e5:3e5);return function(){clearInterval(t)}}),[b]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(U,{tagsHistory:x,toggleCurveDisplay:function(e){var t=x.map((function(t){return t.tag_id===e&&(t.disabled=!t.disabled),t}));p(t)},title:e.widget.title,legend:e.widget.legend,loading:r,toolbar:e.widget.toolbar,height:e.widget.height,changeGraphInterval:function(e,t){h((function(c){return Object(j.a)(Object(j.a)({},c),{},{interval:e,resolution:t})}))}})})}var Z=function(e){var t=e.tag,c=e.index;return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{className:"border-secondary text-secondary pl-2",children:[" ",c+1," "]}),Object(n.jsxs)("td",{className:"border-secondary",children:[" ",t.code," "]}),Object(n.jsxs)("td",{className:"border-secondary",children:[" ",t.name," "]}),Object(n.jsxs)("td",{className:"border-secondary",children:[" ",t.value," "]})]})};var q=function(e){var t=s.a.useState(!1),c=Object(i.a)(t,2),a=(c[0],c[1]),r=s.a.useRef(null),l=s.a.useRef(null);return Object(n.jsxs)("div",{ref:l,className:"card shadow-sm py-2 bg-dark text-light h-100",children:[Object(n.jsxs)("div",{className:"d-flex mb-1",children:[Object(n.jsx)("h5",{className:"px-3 pt-1 pb-0 m-0",children:e.title}),Object(n.jsx)("span",{className:"ml-auto"}),Object(n.jsx)("button",{type:"button",ref:r,className:"btn btn-link text-light m-0 p-0 mt-1 mr-2 fas fa-expand",style:{width:"28px",height:"28px",fontSize:"1em",textDecoration:"none",outline:"none",boxShadow:"none"},onClick:function(){var e=" full-screen-card";l.current.className.includes(e)?(l.current.className=l.current.className.replace(e,""),r.current.className=r.current.className.replace("fa-compress","fa-expand"),r.current.className=r.current.className.replace("text-primary","text-light"),a(!1)):(l.current.className+=e,r.current.className=r.current.className.replace("fa-expand","fa-compress"),r.current.className=r.current.className.replace("text-light","text-primary"),a(!0))}})]}),e.loading?Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)(W,{})}):Object(n.jsx)("div",{className:"table-responsive px-3",children:Object(n.jsxs)("table",{className:"table table-sm text-light tadle-dark w-100 mb-0",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"border-0 text-secondary font-weight-bold pl-2",children:"\u2116"}),Object(n.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(n.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(n.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(n.jsx)("tbody",{children:e.tags.map((function(e,t){return Object(n.jsx)(Z,{tag:e,index:t},e.code)}))})]})})]})};function H(e){var t=s.a.useState([]),c=Object(i.a)(t,2),r=c[0],l=c[1],o=s.a.useState(!0),d=Object(i.a)(o,2),j=d[0],b=d[1],h=e.device_id;function m(){g.get("http://bfcloud.space/device/tags/value/",{params:{id:h}}).then((function(e){e&&l(e.data)}))}return Object(a.useEffect)((function(){m(),setTimeout((function(){b(!1)}),1e3);var e=setInterval(m,2e3);return function(){clearInterval(e)}}),[]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(q,{tags:r,title:e.widget.title,loading:j})})}function X(e){var t=e.tag,c=e.addTextRight,a=e.addTextLeft;return Object(n.jsxs)("div",{className:"card shadow-sm py-2 bg-dark text-light h-100",children:[Object(n.jsxs)("div",{className:"d-flex mb-1",children:[Object(n.jsx)("h5",{className:"px-3 pt-1 pb-0 m-0",children:e.title}),Object(n.jsx)("span",{className:"ml-auto"})]}),e.loading?Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)(W,{})}):Object(n.jsx)("div",{className:"d-flex justify-content-center align-items-end h-100 px-3",children:t?Object(n.jsxs)("p",{className:"display-4 m-0 p-0",children:[Object(n.jsxs)("span",{children:[a," "]}),t.value,Object(n.jsxs)("span",{children:[" ",c]})]}):Object(n.jsx)("p",{className:"display-4 text-secondary m-0 p-0",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})]})}function K(e){var t=s.a.useState([]),c=Object(i.a)(t,2),r=c[0],l=c[1],o=s.a.useState(!0),d=Object(i.a)(o,2),j=d[0],b=d[1],h={id:e.device_id,tags:e.widget.tags},m=r[0];function u(){g.get("http://bfcloud.space/device/tags/value/",{params:h}).then((function(e){e&&l(e.data)}))}return Object(a.useEffect)((function(){u(),setTimeout((function(){b(!1)}),1e3);var e=setInterval(u,2e3);return function(){clearInterval(e)}}),[]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(X,{tag:m,title:e.widget.title,addTextRight:e.widget.addTextRight,addTextLeft:e.widget.addTextLeft,loading:j})})}function Q(e){var t=e.widgetsTemplate,c=e.device_id;return e.widgetsTemplate?Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"container-fluid row equal p-0 m-0",children:t.widgets.map((function(e,t){return Object(n.jsx)(Y,{widget:e,device_id:c},t)}))})}):null}function Y(e){var t=e.widget,c=e.device_id;return"table"===t.type?Object(n.jsx)("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0"),children:Object(n.jsx)(H,{device_id:c,widget:t})}):"graph"===t.type?Object(n.jsx)("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0"),children:Object(n.jsx)(G,{device_id:c,widget:t})}):"indicator"===t.type?Object(n.jsx)("div",{className:"col-xl-".concat(3*t.width," col-lg-").concat(Math.min(6*t.width,12)," col-md-12 p-1 m-0"),children:Object(n.jsx)(K,{device_id:c,widget:t})}):void 0}function $(e){var t=e.device_id,c=e.widgetsTemplate;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(I,{device_id:t}),Object(n.jsx)(Q,{widgetsTemplate:c,device_id:t})]})}function ee(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h3",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})}function te(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h3",{children:"\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043e\u0431\u044c\u0435\u043a\u0442\u0430"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})}var ce={widgets:[{type:"graph",width:4,height:"calc(65vh)",title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",tags:null,legend:!0,toolbar:!0}]};function ne(e){var t=e.device_id;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(I,{device_id:t}),Object(n.jsx)(Q,{widgetsTemplate:ce,device_id:t})]})}function ae(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h3",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u0438\u0431\u043e\u0440\u0430"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})}function se(e){e.updateWidgetsTemplate;var t=e.widgetsTemplate,c=s.a.useState(0),a=Object(i.a)(c,2),r=a[0],l=a[1],o=function(e){l(e)};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h3",{className:"mb-3",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u0432"}),Object(n.jsxs)("div",{className:"row bg-dark rounded equal p-0 m-0",children:[Object(n.jsxs)("div",{className:"col-md-6 col-lg-7 col-xl-8 p-0 m-0",children:[Object(n.jsx)(re,{widgetsTemplate:t,changeSelectedWidget:o}),Object(n.jsx)(le,{widgetsTemplate:t,changeSelectedWidget:o})]}),Object(n.jsx)("div",{className:"col-md-6 col-lg-5 col-xl-4 p-0 mx-0 my-1 bg-dark rounded",children:Object(n.jsx)(ie,{widget:t.widgets[r]})})]})]})}function re(e){var t=e.widgetsTemplate,c=e.changeSelectedWidget,a=t.widgets.map((function(e,t){return Object(n.jsx)("div",{className:"col-".concat(3*e.width," p-1 m-0"),children:Object(n.jsxs)("button",{className:"btn btn-dark w-100 h-100 text-left p-2",style:{overflow:"hidden",minHeight:"10vh"},onClick:function(){c(t)},children:[Object(n.jsx)("span",{className:"small text-secondary",children:e.type}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"small text-nowrap",children:e.title})]})},t)}));return Object(n.jsx)("div",{className:"d-flex justify-content-center mt-4 mb-0 mx-4 p-0",style:{},children:Object(n.jsx)("div",{className:"row equal rounded border border-secondary m-0 p-2",style:{backgroundColor:"#1E1E1E",maxWidth:"700px"},children:a})})}function le(e){var t=e.widgetsTemplate,c=e.changeSelectedWidget,a=t.widgets.map((function(e,t){return Object(n.jsxs)("button",{className:"btn btn-outline-primary border-0 w-100 my-1 text-left text-light",onClick:function(){c(t)},children:[Object(n.jsx)("i",{className:"fas fa-circle pr-3",style:{fontSize:"0.6em"}}),Object(n.jsxs)("span",{className:"",children:[e.type,": "]}),Object(n.jsx)("span",{className:"",children:e.title})]},t)}));return Object(n.jsx)("div",{className:"bg-dark rounded m-1 py-2 px-3",children:a})}function ie(e){var t=e.widget,c={};return"table"===t.type&&(c=Object(n.jsx)(de,{widget:t})),"graph"===t.type&&(c=Object(n.jsx)(je,{widget:t})),"indicator"===t.type&&(c=Object(n.jsx)(be,{widget:t})),Object(n.jsx)("div",{className:"p-0 m-0 my-1",children:Object(n.jsxs)(oe,{children:[" ",c," "]})})}function oe(e){return Object(n.jsx)("div",{className:"text-light p-2 m-0 mx-1 h-100",children:e.children})}function de(e){var t=e.widget;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h6",{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430"}),Object(n.jsxs)("form",{children:[Object(n.jsx)(he,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title}),Object(n.jsx)(me,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4}),Object(n.jsx)(xe,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:["TEMP1","TEMP2","TEMP3"],comment:Object(n.jsxs)("span",{className:"m-0 p-0 d-block mt-1",children:["\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",Object(n.jsx)("kbd",{className:"text-info",children:"Ctrl"})," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"]})}),Object(n.jsx)(xe,{titel:"\u041a\u043e\u043b\u043e\u043d\u043a\u0438",id:"fields",placeholder:"...",value:t.fields,options:["#No","code","name","value"],comment:Object(n.jsxs)("span",{className:"m-0 p-0 d-block mt-1",children:["\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",Object(n.jsx)("kbd",{className:"text-info",children:"Ctrl"})," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"]})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-info",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}function je(e){var t=e.widget;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h6",{children:"\u0413\u0440\u0430\u0444\u0438\u043a"}),Object(n.jsxs)("form",{children:[Object(n.jsx)(he,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title}),Object(n.jsx)(me,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4}),Object(n.jsx)(xe,{titel:"\u0422\u0435\u0433\u0438",id:"tags",placeholder:"...",value:t.tags,options:["TEMP1","TEMP2","TEMP3"],comment:Object(n.jsxs)("span",{className:"m-0 p-0 d-block mt-1",children:["\u0423\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0439\u0442\u0435 ",Object(n.jsx)("kbd",{className:"text-info",children:"Ctrl"})," \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432"]})}),Object(n.jsx)(pe,{titel:"\u041b\u0435\u0433\u0435\u043d\u0434\u0430",id:"legend",value:t.legend}),Object(n.jsx)(pe,{titel:"\u041f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432",id:"toolbar",value:t.toolbar}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-info",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}function be(e){var t=e.widget;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("h6",{children:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"}),Object(n.jsxs)("form",{children:[Object(n.jsx)(he,{titel:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"title",placeholder:"...",value:t.title}),Object(n.jsx)(me,{titel:"\u0428\u0438\u0440\u0438\u043d\u0430",id:"width",placeholder:"...",value:t.width,min:1,max:4}),Object(n.jsx)(ue,{titel:"\u0422\u0435\u0433",id:"tags",placeholder:"...",value:t.tags[0],options:["TEMP1","TEMP2","TEMP3"]}),Object(n.jsx)(he,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043b\u0435\u0432\u0430",id:"addTextLeft",placeholder:"...",value:t.addTextLeft}),Object(n.jsx)(he,{titel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u043f\u0440\u0430\u0432\u0430",id:"addTextRight",placeholder:"...",value:t.addTextRight}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-info",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})}function he(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:e.id,className:"text-secondary",children:e.titel}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-sm bg-secondary border-secondary text-light",placeholder:e.placeholder,id:e.id,defaultValue:e.value}),Object(n.jsx)("p",{className:"text-small text-info p-0 m-0",children:e.comment})]})})}function me(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:e.id,className:"text-secondary",children:e.titel}),Object(n.jsx)("input",{type:"number",className:"form-control form-control-sm bg-secondary border-secondary text-light",placeholder:e.placeholder,id:e.id,defaultValue:e.value,min:e.min,max:e.max}),Object(n.jsx)("p",{className:"text-small text-info p-0 pt-1 m-0",children:e.comment})]})})}function ue(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:e.id,className:"text-secondary",children:e.titel}),Object(n.jsx)("select",{className:"form-control form-control-sm bg-secondary border-secondary text-light",id:e.id,placeholder:e.placeholder,defaultValue:e.value,children:e.options&&e.options.map((function(e,t){return Object(n.jsx)("option",{children:e},t)}))}),Object(n.jsx)("p",{className:"text-small text-info p-0 m-0",children:e.comment})]})})}function xe(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:e.id,className:"text-secondary",children:e.titel}),Object(n.jsx)("select",{multiple:!0,className:"form-control form-control-sm bg-secondary border-secondary text-light",id:e.id,placeholder:e.placeholder,defaultValue:e.value,children:e.options&&e.options.map((function(e,t){return Object(n.jsx)("option",{children:e},t)}))}),Object(n.jsx)("p",{className:"text-small text-info p-0 m-0",children:e.comment})]})})}function pe(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"form-check pb-3",children:[Object(n.jsx)("input",{type:"checkbox",className:"form-check-input",id:e.id,defaultValue:e.value}),Object(n.jsx)("span",{children:e.titel}),Object(n.jsx)("p",{className:"text-small text-info p-0 m-0",children:e.comment})]})})}function Oe(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(n.jsxs)("div",{className:"container mt-5 text-center",children:[Object(n.jsx)("h1",{children:"Error 404"}),Object(n.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})})})}function fe(){var e=Object(d.g)().id,t=s.a.useState(ge),c=Object(i.a)(t,2),a=c[0],r=c[1];function l(e){r(e)}return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary h-100",children:Object(n.jsxs)("div",{className:"row m-0 p-0",children:[Object(n.jsx)(T,{deviceId:e}),Object(n.jsx)("div",{className:"col-10 m-0 p-0",children:Object(n.jsx)("div",{className:"content-height p-3",children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/overview/"),component:function(){return Object(n.jsx)($,{device_id:e,widgetsTemplate:a})}}),Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/settings/"),component:function(){return Object(n.jsx)(ee,{device_id:e})}}),Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/events/"),component:function(){return Object(n.jsx)(te,{device_id:e})}}),Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/graphs/"),component:function(){return Object(n.jsx)(ne,{device_id:e})}}),Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/admin/config/"),component:function(){return Object(n.jsx)(ae,{device_id:e})}}),Object(n.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/admin/widgets/"),component:function(){return Object(n.jsx)(se,{device_id:e,updateWidgetsTemplate:l,widgetsTemplate:a})}}),Object(n.jsx)(d.b,{component:Oe})]})})})]})})})}var ge={widgets:[{type:"table",width:4,title:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 2",tags:["TEMP1","TEMP2","TEMP3"],fields:["#No","code","name","value"]},{type:"graph",width:4,title:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432 \u0442\u0435\u043f\u043b\u0438\u0446\u0435",tags:[],legend:!0,toolbar:!0}]};function ve(){return Object(n.jsx)("div",{className:"col-2 m-0 p-0",children:Object(n.jsx)("div",{className:"bg-dark bg-color-gray p-2 h-100",children:Object(n.jsx)("div",{className:"p-1",children:Object(n.jsxs)("div",{className:"nav flex-column nav-pills",style:{overflow:"hidden"},id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/overview/",children:Object(n.jsxs)("div",{class:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-home",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline",children:"\u041e\u0431\u0437\u043e\u0440"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/facilities/",children:Object(n.jsxs)("div",{class:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-city",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline",children:"\u041e\u0431\u044a\u0435\u043a\u0442\u044b"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/employers/",children:Object(n.jsxs)("div",{class:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-users",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"})]})}),Object(n.jsx)(o.c,{className:"nav-link text-light btn",style:{outline:"none",boxShadow:"none"},activeClassName:"bg-dark",to:"/company/profile/",children:Object(n.jsxs)("div",{class:"d-inline-flex w-100 justify-content-center justify-content-lg-start",children:[Object(n.jsx)("i",{className:"fas fa-chalkboard-teacher",style:{fontSize:"1.3em"}}),Object(n.jsx)("span",{className:"pl-3 d-none d-lg-inline",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})})})}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-light",c=new Date(e),a=new Date;if(c>(a=a.setDate(a.getDate()-1))){var s=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"});return Object(n.jsx)("span",{className:t,children:s.format(c)})}var r=new Intl.DateTimeFormat([],{month:"short",day:"numeric"});return Object(n.jsx)("span",{className:t,children:r.format(c)})}var ye=function(e){var t=s.a.useState({}),c=Object(i.a)(t,2),r=c[0],l=c[1],d=e.device;function b(){g.get("http://bfcloud.space/device/parameters/",{params:{id:d.id}}).then((function(e){if(e){var t=e.data;l(Object(j.a)({},t))}}))}return Object(a.useEffect)((function(){b();var e=setInterval(b,5e3);return function(){clearInterval(e)}}),[]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(o.b,{className:"nav-link p-0 m-0",to:"/device/".concat(d.id,"/overview/"),children:Object(n.jsxs)("div",{className:"border border-secondary rounded p-2 h-100 bg-dark text-light card-hover",style:{overflow:"hidden"},children:[Object(n.jsx)("h6",{className:"text-nowrap",children:d.name}),Object(n.jsx)("div",{className:"p-0 m-0 small w-100",children:Object(n.jsx)("table",{className:"table table-sm p-0 m-0 table-dark text-light w-100",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" \u0421\u0432\u044f\u0437\u044c: "}),Object(n.jsxs)("td",{className:"text-right",children:[" ",r.is_online?Object(n.jsx)("span",{className:"text-light",children:"\u041e\u041a"}):Object(n.jsx)("span",{className:"badge badge-pill badge-danger text-dark",style:{fontSize:"0.85em"},children:"\u041d\u0415\u0422"})]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"  \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e: "}),Object(n.jsxs)("td",{className:"text-right",children:[" ",r.last_update?Ne(r.last_update,r.is_online?null:"text-warning"):Object(n.jsx)("span",{className:"text-secondary",children:"\u043d\u0438\u043a\u043e\u0433\u0434\u0430"})]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"   \u0410\u0432\u0430\u0440\u0438\u0438: "}),Object(n.jsx)("td",{className:"text-right",children:" \u041d\u0435\u0442  "})]})]})})})]})})})};var ke=function(e){var t,c=e.facilityInfo,a=c.devices;return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"card bg-dark text-light shadow-sm p-0 m-0",children:[Object(n.jsx)("h6",{className:"px-2 pt-2 pb-0 m-0",children:c.name}),Object(n.jsx)("div",{className:"container-fluid h-100 p-1 m-0 row",children:a.length>0?(t=a,t.map((function(e,t){return Object(n.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12 p-1 m-0 h-100",children:Object(n.jsx)(ye,{device:e,index:t})},e.id)}))):Object(n.jsx)("p",{className:"text-secondary p-1",children:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u043d\u0435\u0442 ..."})})]})})},we="http://bfcloud.space";function Se(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),c=t[0],r=t[1],l=s.a.useState(!0),o=Object(i.a)(l,2),d=o[0],j=o[1];return Object(a.useEffect)((function(){!function(e){Ce.apply(this,arguments)}((function(e){r(e),j(!1)}))}),[]),Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)("h3",{className:"px-3 pt-3 pb-0",children:["\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 ",Object(n.jsx)("b",{children:d?null:c.company.name})]}),Object(n.jsx)("div",{className:"container-fluid py-0 px-2 m-0 row",children:d?Object(n.jsx)(W,{}):Object(n.jsx)(s.a.Fragment,{children:c.facilities.map((function(e,t){return Object(n.jsx)("div",{className:"container-fluid px-2 py-0 mx-0 my-2 col-xl-6",children:Object(n.jsx)(ke,{facilityInfo:e,index:t})},e.id)}))})})]})}function Ce(){return(Ce=Object(u.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(we+"/company/info/");case 2:c=e.sent,t(Object(j.a)({},c.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"p-3",children:[Object(n.jsx)("h3",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function Fe(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"p-3",children:[Object(n.jsx)("h3",{children:"\u041e\u0431\u0437\u043e\u0440 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function Te(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"p-3",children:[Object(n.jsx)("h3",{children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"}),Object(n.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function Ie(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary h-100",children:Object(n.jsxs)("div",{className:"row m-0 p-0",children:[Object(n.jsx)(ve,{}),Object(n.jsx)("div",{className:"col-10 m-0 p-0",children:Object(n.jsx)("div",{className:"content-height",children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/company",component:Se}),Object(n.jsx)(d.b,{exact:!0,path:"/company/overview",component:Se}),Object(n.jsx)(d.b,{exact:!0,path:"/company/facilities",component:Fe}),Object(n.jsx)(d.b,{exact:!0,path:"/company/employers",component:_e}),Object(n.jsx)(d.b,{exact:!0,path:"/company/profile",component:Te}),Object(n.jsx)(d.b,{component:Oe})]})})})]})})})}var Ee=function(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"bg-color-dark-gray text-light content-height",children:Object(n.jsxs)("div",{className:"container card mt-5 p-3 w-100",style:{background:"rgba(0,0,0,0.8)"},children:[Object(n.jsx)("div",{className:"text-center pt-4",children:Object(n.jsxs)("h3",{children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 ",Object(n.jsx)("b",{children:"BFCloud"})]})}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"text-center",children:Object(n.jsxs)("h5",{children:["\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",Object(n.jsx)(o.b,{className:"px-2",to:"/user/login/",children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"}),"\u0438\u043b\u0438",Object(n.jsx)(o.b,{className:"px-2",to:"/user/registration/",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})}),Object(n.jsxs)("div",{className:"card-columns py-5",children:[Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsx)("h6",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"})})}),Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsx)("h6",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u0445 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 "})})}),Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsx)("h6",{children:"\u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})})}),Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsx)("h6",{children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 API \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u043c \u041f\u041e \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"})})}),Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsx)("h6",{children:"\u0415\u0434\u0438\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0438 \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 "})})}),Object(n.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(n.jsx)("div",{className:"card-body text-center",children:Object(n.jsxs)("h6",{children:[" \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",Object(n.jsx)("a",{className:"px-2",href:"#",onClick:function(){v.login("admin","admin",(function(){e.history.push("/company/overview/")}))},children:"\u0414\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u044f: \u0411\u0423\u041c\u041f-14"})]})})})]})]})})})},De=c(24),Le=function(e){Object(w.a)(c,e);var t=Object(S.a)(c);function c(e){var n;return Object(x.a)(this,c),(n=t.call(this,e)).state={username:"",password:""},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(p.a)(c,[{key:"handleChange",value:function(e){this.setState(Object(De.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();v.login(this.state.username,this.state.password,(function(){t.props.history.push("/company/overview/")}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(n.jsxs)("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"},children:[Object(n.jsx)("h2",{children:"\u0412\u0445\u043e\u0434"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"username",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),Object(n.jsx)("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"pwd",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(n.jsxs)("div",{className:"pt-3",children:[Object(n.jsx)("span",{className:"pr-2 text-secondary",children:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(n.jsx)(o.b,{className:"",to:"/user/registration/",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})})}}]),c}(a.Component),ze=function(e){Object(w.a)(c,e);var t=Object(S.a)(c);function c(e){var n;return Object(x.a)(this,c),(n=t.call(this,e)).state={username:"",password:"",email:"",errors:{username:null,email:null,password:null}},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n}return Object(p.a)(c,[{key:"handleChange",value:function(e){this.setState(Object(De.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(u.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.post("/user/create/",{username:this.state.username,email:this.state.email,password:this.state.password});case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.stack),this.setState({errors:e.t0.response.data});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(n.jsxs)("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"},children:[Object(n.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"username",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),Object(n.jsx)("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange}),this.state.errors.username?Object(n.jsx)("span",{className:"text-danger",children:this.state.errors.username}):null]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"mail",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),Object(n.jsx)("input",{name:"email",type:"email",className:"form-control bg-secondary border-secondary text-light",id:"mail",value:this.state.email,onChange:this.handleChange}),this.state.errors.email?Object(n.jsx)("span",{className:"text-danger",children:this.state.errors.email}):null]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"pwd",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(n.jsx)("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange}),this.state.errors.password?Object(n.jsx)("span",{className:"text-danger",children:this.state.errors.password}):null]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(n.jsxs)("div",{className:"pt-3",children:[Object(n.jsx)("span",{className:"pr-2 text-secondary",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(n.jsx)(o.b,{className:"",to:"/user/login/",children:"\u0412\u0445\u043e\u0434"})]})]})]})})}}]),c}(a.Component);function Pe(e){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(n.jsxs)("div",{className:"container card bg-dark shadow-sm my-4 pt-4",children:[Object(n.jsx)("h2",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(n.jsx)("div",{className:"row my-3",children:Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsx)("table",{className:"table text-light tadle-dark ",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"border-secondary",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),Object(n.jsx)("td",{className:"border-secondary",children:Object(n.jsx)("b",{children:e.userInfo.username})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"border-secondary",children:"\u0418\u043c\u044f:"}),Object(n.jsx)("td",{className:"border-secondary",children:Object(n.jsx)("b",{children:e.userInfo.first_name})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"border-secondary",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"}),Object(n.jsx)("td",{className:"border-secondary",children:Object(n.jsx)("b",{children:e.userInfo.last_name})})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"border-secondary",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),Object(n.jsx)("td",{className:"border-secondary",children:Object(n.jsx)("b",{children:e.userInfo.email})})]})]})})})})]})})})}function Re(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),c=t[0],r=t[1],l=Object(a.useState)(!0),j=Object(i.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)(!1),u=Object(i.a)(m,2),x=u[0],p=u[1],O=Object(a.useState)({}),f=Object(i.a)(O,2),g=f[0],k=f[1],w=Object(y.b)();return Object(a.useEffect)((function(){v.checkAuthentication((function(){r(!1)})),v.onLogin=function(){p(!0)},v.onLogout=function(){p(!1)},v.onUserInfoReaded=function(e){k(e),h(!1)}}),[]),c||b?null:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("button",{className:"full-screen-button fas fa-expand ",onClick:w.enter}),Object(n.jsx)(y.a,{handle:w,children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:function(){return Object(n.jsx)("video",{autoplay:"autoplay",muted:!0,loop:"loop",id:"myVideo",children:Object(n.jsx)("source",{src:"Earth13426.mp4",type:"video/mp4"})})}}),Object(n.jsx)(F,{authed:x,userInfo:g}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:Ee}),Object(n.jsx)(d.b,{exact:!0,path:"/user/login",component:Le}),Object(n.jsx)(d.b,{exact:!0,path:"/user/registration",component:ze}),Object(n.jsx)(N,{exact:!0,path:"/user/profile",component:function(){return Object(n.jsx)(Pe,{userInfo:g})}}),Object(n.jsx)(N,{path:"/company",component:Ie}),Object(n.jsx)(N,{path:"/device/:id",component:fe}),Object(n.jsx)(d.b,{component:Oe})]})]})})]})}var Ae=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,128)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Re,{})}),document.getElementById("root")),Ae()},76:function(e,t,c){},77:function(e,t,c){}},[[126,1,2]]]);
//# sourceMappingURL=main.4ee3f567.chunk.js.map