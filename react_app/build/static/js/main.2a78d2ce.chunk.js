(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),s=a.n(c),i=a(32),l=a.n(i),r=(a(46),a(6));a(47);function j(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark bg-color-indigo header-height m-0",children:[Object(n.jsx)("a",{className:"navbar-brand",href:"#",children:"WebArm"}),Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"\u041e\u0431\u044c\u0435\u043a\u0442\u044b"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})})]}),Object(n.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(n.jsx)("li",{className:"nav-item ml-auto",children:Object(n.jsx)("a",{className:"nav-link",href:"#",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})}function o(){return Object(n.jsx)("div",{className:"col-2 m-0 p-0",children:Object(n.jsx)("div",{className:"bg-dark bg-color-pale-indigo p-3 h-100",children:Object(n.jsxs)("div",{className:"nav flex-column nav-pills ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(n.jsx)("a",{className:"nav-link active",id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true",children:"\u041e\u0431\u0437\u043e\u0440"}),Object(n.jsx)("a",{className:"nav-link",id:"v-pills-profile-tab","data-toggle":"pill",href:"#v-pills-profile",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(n.jsx)("a",{className:"nav-link",id:"v-pills-messages-tab","data-toggle":"pill",href:"#v-pills-messages",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false",children:"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"}),Object(n.jsx)("a",{className:"nav-link",id:"v-pills-settings-tab","data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false",children:"\u0416\u0443\u0440\u043d\u0430\u043b"})]})})})}a(48);function d(){return Object(n.jsxs)("div",{className:"lds-ellipsis",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}var b=function(e){var t=e.tag,a=e.index;return Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[" ",a+1," "]}),Object(n.jsxs)("td",{children:[" ",t.code," "]}),Object(n.jsxs)("td",{children:[" ",t.name," "]}),Object(n.jsxs)("td",{children:[" ",t.value," "]})]})};var h=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table table-striped table-sm",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:"\u2116"}),Object(n.jsx)("td",{children:"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(n.jsx)("td",{children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(n.jsx)("td",{children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(n.jsx)("tbody",{children:e.tags.map((function(e,t){return Object(n.jsx)(b,{tag:e,index:t},e.code)}))})]})})})},u=(a(49),a(7));var v=function(e){var t=this,a=e.tags,c=s.a.useState(null),i=Object(r.a)(c,2),l=i[0],j=i[1],o=Object(n.jsx)("button",{className:"btn btn-secondary m-3 btn-graph",onClick:function(){return j(null)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431"});return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("div",{className:"graph-container",children:Object(n.jsxs)(u.e,{height:400,width:1e3,margin:{left:30,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:l&&[l.left,l.right],yDomain:l&&[l.bottom,l.top],children:[Object(n.jsx)(u.b,{}),Object(n.jsx)(u.d,{tickTotal:20}),Object(n.jsx)(u.f,{}),a.map((function(e){return Object(n.jsx)(u.c,{data:e.values,color:e.curve_color},e.tag_id)})),Object(n.jsx)(u.a,{onBrushEnd:function(e){return j(e)},onDrag:function(e){t.setState({lastDrawLocation:{bottom:l.bottom+(e.top-e.bottom),left:l.left-(e.right-e.left),right:l.right-(e.right-e.left),top:l.top+(e.top-e.bottom)}})}})]})}),l?o:null]})},m=a(34),x=a(35),O=a(38),f=a(37),p=a(36),g=a.n(p),N=function(e){Object(O.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e))._clickHandler=function(e){var t=n.state.items;e.disabled=!e.disabled,n.setState({items:t})},n._searchChangeHandler=function(e){n.setState({searchText:e})},n.state={items:[],searchText:""},n.state.items=n.props.tags.map((function(e){return{title:e.tag_name,color:e.curve_color}})),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state,t=e.items,a=e.searchText;return Object(n.jsx)("div",{className:"d-block pl-3",children:Object(n.jsx)(g.a,{height:400,onSearchChange:this._searchChangeHandler,searchText:a,onItemClick:this._clickHandler,items:t})})}}]),a}(s.a.Component),k=["#19CDD7","#DDB27C","#88572C","#FF991F","#F15C17","#223F9A","#DA70BF","#125C77","#4DC19C","#776E57","#12939A","#17B8BE","#F6D18A","#B7885E","#FFCB99","#F89570","#829AE3","#E79FD5","#1E96BE","#89DAC1","#B3AD9E"];function C(e){var t=k.length;return k[e+1>t?e%t:e]}var F=function(e){var t=e.tagsHistory.map((function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,curve_color:C(t),values:e.values.map((function(e){return{x:new Date(e.add_date),y:e.value}}))}}));return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)("div",{className:"row m-0 p-3",children:[Object(n.jsx)("div",{className:"col-8 m-0 p-0",children:Object(n.jsx)(v,{tags:t})}),Object(n.jsx)("div",{className:"col-4 m-0 p-0",children:Object(n.jsx)(N,{tags:t})})]})})},_="http://bfcloud.space/";var D=function(){var e=s.a.useState([]),t=Object(r.a)(e,2),a=t[0],i=t[1],l=s.a.useState(""),b=Object(r.a)(l,2),u=b[0],v=b[1],m=s.a.useState(!0),x=Object(r.a)(m,2),O=x[0],f=x[1],p=s.a.useState([]),g=Object(r.a)(p,2),N=g[0],k=g[1];function C(){fetch(_+"api/v1/device/current-values").then((function(e){return e.json()})).then((function(e){return i(e)}))}function D(){fetch(_+"api/v1/device/tags/history").then((function(e){return e.json()})).then((function(e){return k(e)}))}return Object(c.useEffect)((function(){fetch(_+"api/v1/device").then((function(e){return e.json()})).then((function(e){v(e.name)})),C(),D(),setTimeout((function(){f(!1)}),2e3);var e=setInterval(C,2e3),t=setInterval(D,1e4);return function(){clearInterval(e),clearInterval(t)}}),[]),Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(j,{}),Object(n.jsxs)("div",{className:"row m-0 p-0",children:[Object(n.jsx)(o,{}),Object(n.jsx)("div",{className:"col-10 m-0 p-0",children:Object(n.jsxs)("div",{className:"content-height",children:[Object(n.jsxs)("div",{className:"p-3",children:[Object(n.jsxs)("p",{children:["\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",Object(n.jsx)("b",{children:u})]}),O?Object(n.jsx)(d,{}):Object(n.jsx)(h,{tags:a})]}),O?null:Object(n.jsx)(F,{tagsHistory:N})]})})]})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(D,{})}),document.getElementById("root")),B()}},[[77,1,2]]]);
//# sourceMappingURL=main.2a78d2ce.chunk.js.map