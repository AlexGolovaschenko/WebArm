(this.webpackJsonpreact_app=this.webpackJsonpreact_app||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(1),s=a.n(n),r=a(61),i=a.n(r),o=(a(74),a(5)),l=(a(75),a(76),a(3)),d=a(4),j=a(8),b=a(66),h=a(7),u=a.n(h),m=a(17),x=a(18),O=a(19),p=a(62);var v=a.n(p).a.create({baseURL:"http://bfcloud.space",timeout:5e3,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});v.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status&&"/user/token/refresh/"===t.url)return Promise.reject(e);if("token_not_valid"===e.response.data.code&&401===e.response.status&&"Unauthorized"===e.response.statusText){var a=localStorage.getItem("refresh_token");if(a){var c=JSON.parse(atob(a.split(".")[1])),n=Math.ceil(Date.now()/1e3);if(console.log(c.exp),c.exp>n)return v.post("/user/token/refresh/",{refresh:a}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),v.defaults.headers.Authorization="JWT "+e.data.access,t.headers.Authorization="JWT "+e.data.access,v(t)})).catch((function(e){console.log(e)}));console.log("Refresh token is expired",c.exp,n)}else console.log("Refresh token not available.")}return Promise.reject(e)}));var g=v,f=new(function(){function e(){Object(x.a)(this,e),this.authenticated=!1,this.onLogin=function(){},this.onLogout=function(){},this.onUserInfoReaded=function(){}}return Object(O.a)(e,[{key:"checkAuthentication",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/user/token/check/");case 3:e.sent?this._onLogin():this._onLogout(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._onLogout();case 10:t();case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/user/token/obtain/",{username:t,password:a});case 3:n=e.sent,g.defaults.headers.Authorization="JWT "+n.data.access,localStorage.setItem("access_token",n.data.access),localStorage.setItem("refresh_token",n.data.refresh),this._onLogin(),c(),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a,c){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("user/token/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 3:localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),g.defaults.headers.Authorization=null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:this._onLogout(),t();case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",value:function(){return this.authenticated}},{key:"readUserInfo",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/user/info/");case 2:t=e.sent,this.onUserInfoReaded(Object(j.a)({},t.data));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearUserInfo",value:function(){this.userInfo={}}},{key:"_onLogin",value:function(){this.authenticated=!0,this.onLogin(),this.readUserInfo()}},{key:"_onLogout",value:function(){this.authenticated=!1,this.onLogout(),this.clearUserInfo()}}]),e}()),y=function(e){var t=e.component,a=Object(b.a)(e,["component"]);return Object(c.jsx)(d.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return f.isAuthenticated()?Object(c.jsx)(t,Object(j.a)({},e)):Object(c.jsx)(d.a,{to:{pathname:"/user/login",state:{from:e.location}}})}}))},N=a(15),k=a(25),w=a(24),_=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(e){var c;return Object(x.a)(this,a),(c=t.call(this,e)).handleLogout=c.handleLogout.bind(Object(N.a)(c)),c}return Object(O.a)(a,[{key:"handleLogout",value:function(){var e=this;f.logout((function(){e.props.history.push("/")}))}},{key:"render",value:function(){return Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"",onClick:this.handleLogout,children:"\u0412\u044b\u0439\u0442\u0438"})})}}]),a}(n.Component),C=Object(d.h)(_);function F(e){var t=e.authed,a=e.userInfo;return Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark bg-color-indigo header-height m-0",children:[Object(c.jsx)(l.b,{className:"navbar-brand",to:"/",children:"WebArm"}),Object(c.jsx)("ul",{className:"navbar-nav",children:t?Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"/company/overview",children:"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"/company/facilities",children:"\u041e\u0431\u044c\u0435\u043a\u0442\u044b"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"/company/profile",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})})]}):null}),Object(c.jsx)("ul",{className:"navbar-nav ml-auto",children:t?Object(c.jsxs)(s.a.Fragment,{children:[a?Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"/user/profile",children:a.username})}),Object(c.jsx)("li",{className:"nav-item border-right border-secondary my-1",children:" "})]}):null,Object(c.jsx)(C,{})]}):Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(l.b,{className:"nav-link",to:"/user/login",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})}function I(e){var t=e.deviceId;return Object(c.jsx)("div",{className:"col-2 m-0 p-0",children:Object(c.jsx)("div",{className:"bg-dark bg-color-gray p-3 h-100",children:Object(c.jsxs)("div",{className:"nav flex-column nav-pills ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/device/".concat(t,"/overview/"),children:"\u041e\u0431\u0437\u043e\u0440"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/device/".concat(t,"/settings/"),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/device/".concat(t,"/graphs/"),children:"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/device/".concat(t,"/events/"),children:"\u0416\u0443\u0440\u043d\u0430\u043b"})]})})})}a(98);function S(){return Object(c.jsxs)("div",{className:"lds-ellipsis",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}var L=function(e){var t=e.tag,a=e.index;return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{className:"border-secondary text-secondary pl-2",children:[" ",a+1," "]}),Object(c.jsxs)("td",{className:"border-secondary",children:[" ",t.code," "]}),Object(c.jsxs)("td",{className:"border-secondary",children:[" ",t.name," "]}),Object(c.jsxs)("td",{className:"border-secondary",children:[" ",t.value," "]})]})};var A=function(e){return Object(c.jsx)("div",{className:"card shadow-sm p-3 bg-dark text-light",children:Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)("table",{className:"table table-sm text-light tadle-dark w-100 mb-0",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"border-0 text-secondary font-weight-bold pl-2",children:"\u2116"}),Object(c.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u041a\u043e\u0434 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(c.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}),Object(c.jsx)("td",{className:"border-0 text-secondary font-weight-bold",children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})}),Object(c.jsx)("tbody",{children:e.tags.map((function(e,t){return Object(c.jsx)(L,{tag:e,index:t},e.code)}))})]})})})},D=a(13);var T=function(e){var t=this,a=e.tags,n=s.a.useState(null),r=Object(o.a)(n,2),i=r[0],l=r[1],d=Object(c.jsx)("button",{className:"btn btn-secondary m-3 btn-graph",onClick:function(){return l(null)},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431"});return a.filter((function(e){return!1===e.disabled})).length>0?Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("div",{className:"graph-container",children:Object(c.jsxs)(D.a,{height:400,margin:{left:40,right:0,top:0,bottom:30},xType:"time",animation:!0,xDomain:i&&[i.left,i.right],yDomain:i&&[i.bottom,i.top],children:[Object(c.jsx)(D.c,{style:{stroke:"#444A50"}}),Object(c.jsx)(D.e,{tickTotal:15}),Object(c.jsx)(D.f,{}),a.map((function(e){return e.disabled?null:Object(c.jsx)(D.d,{data:e.values,color:e.curve_color},e.tag_id)})),Object(c.jsx)(D.b,{onBrushEnd:function(e){return l(e)},onDrag:function(e){t.setState({lastDrawLocation:{bottom:i.bottom+(e.top-e.bottom),left:i.left-(e.right-e.left),right:i.right-(e.right-e.left),top:i.top+(e.top-e.bottom)}})}})]})}),i?d:null]}):Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"graph-container",children:Object(c.jsxs)(D.a,{height:400,dontCheckIfEmpty:!0,margin:{left:30,right:0,top:0,bottom:30},children:[Object(c.jsx)(D.c,{style:{stroke:"#444A50"}}),Object(c.jsx)(D.e,{}),Object(c.jsx)(D.f,{}),Object(c.jsx)(D.d,{data:[{x:0,y:0}]})]})})})},B=a(65),E=a.n(B);function U(e){var t=s.a.useState(""),a=Object(o.a)(t,2),n=a[0],r=a[1],i={onClick:e.onClick,items:e.tags.map((function(e){return{title:e.tag_name,color:e.curve_color,tag_id:e.tag_id,disabled:e.disabled}}))};return Object(c.jsx)("div",{className:"d-block text-dark pl-3",children:Object(c.jsx)(E.a,{height:400,onSearchChange:function(e){r(e)},searchPlaceholder:"\u041f\u043e\u0438\u0441\u043a...",searchText:n,onItemClick:function(e){i.onClick(e.tag_id)},items:i.items})})}var J=function(e){var t=e.tagsHistory;return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"card shadow-sm p-3 bg-dark text-light mt-3",children:Object(c.jsxs)("div",{className:"row m-0 p-0",children:[Object(c.jsx)("div",{className:"col-8 m-0 p-0",children:Object(c.jsx)(T,{tags:t,disabledGraphs:e.disabledGraphs})}),Object(c.jsx)("div",{className:"col-4 m-0 p-0",children:Object(c.jsx)(U,{tags:t,disabledGraphs:e.disabledGraphs,onClick:e.toggleCurveDisplay})})]})})})},W=["#f44336","#00BCD4","#FF9800","#E91E63","#009688","#FF5722","#9C27B0","#4CAF50","#795548","#673AB7","#8BC34A","#607D8B","#3F51B5","#CDDC39","#2196F3","#FFEB3B","#03A9F4","#FFC107"];function z(e){var t=W.length;return W[e+1>t?e%t:e]}var P="http://bfcloud.space";function R(e){var t=s.a.useState([]),a=Object(o.a)(t,2),r=a[0],i=a[1],l=s.a.useState(""),d=Object(o.a)(l,2),b=d[0],h=d[1],u=s.a.useState(!0),m=Object(o.a)(u,2),x=m[0],O=m[1],p=s.a.useState([]),v=Object(o.a)(p,2),f=v[0],y=v[1],N=e.device_id;function k(){g.get(P+"/device/tags/value/",{params:{id:N}}).then((function(e){return e.data})).then((function(e){return i(e)}))}function w(){g.get(P+"/device/tags/history/",{params:{id:N}}).then((function(e){return e.data})).then((function(e){var t=e.map((function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,disabled:!e.display_on_garaph,curve_color:z(t),values:e.values.map((function(e){return{x:new Date(e.add_date),y:e.value}}))}}));y((function(e){return t.map((function(t){var a=e.filter((function(e){return e.tag_id===t.tag_id})),c=a.length>0?a[0].disabled:t.disabled;return Object(j.a)(Object(j.a)({},t),{},{disabled:c})}))}))}))}return Object(n.useEffect)((function(){g.get(P+"/device/parameters/",{params:{id:N}}).then((function(e){return e.data})).then((function(e){h(e.name)})),k(),w(),setTimeout((function(){O(!1)}),1e3);var e=setInterval(k,2e3),t=setInterval(w,6e4);return function(){clearInterval(e),clearInterval(t)}}),[]),Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsxs)("h3",{className:"pb-2",children:["\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",Object(c.jsx)("b",{children:b})]}),x?Object(c.jsx)(S,{}):Object(c.jsx)(A,{tags:r}),x?null:Object(c.jsx)(J,{tagsHistory:f,toggleCurveDisplay:function(e){var t=f.map((function(t){return t.tag_id===e&&(t.disabled=!t.disabled),t}));y(t)}})]})}function G(){return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("h3",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"}),Object(c.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})}function H(){return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("h3",{children:"\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043e\u0431\u044c\u0435\u043a\u0442\u0430"}),Object(c.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})}var M="http://bfcloud.space";function V(e){var t=s.a.useState(""),a=Object(o.a)(t,2),r=a[0],i=a[1],l=s.a.useState(!0),d=Object(o.a)(l,2),b=d[0],h=d[1],u=s.a.useState([]),m=Object(o.a)(u,2),x=m[0],O=m[1],p=e.device_id;function v(){g.get(M+"/device/tags/history/",{params:{id:p}}).then((function(e){return e.data})).then((function(e){var t=e.map((function(e,t){return{tag_id:e.tag_id,tag_code:e.tag_code,tag_name:e.tag_name,disabled:!e.display_on_garaph,curve_color:z(t),values:e.values.map((function(e){return{x:new Date(e.add_date),y:e.value}}))}}));O((function(e){return t.map((function(t){var a=e.filter((function(e){return e.tag_id===t.tag_id})),c=a.length>0?a[0].disabled:t.disabled;return Object(j.a)(Object(j.a)({},t),{},{disabled:c})}))}))}))}return Object(n.useEffect)((function(){g.get(M+"/device/parameters/",{params:{id:p}}).then((function(e){return e.data})).then((function(e){i(e.name)})),v(),setTimeout((function(){h(!1)}),1e3);var e=setInterval(v,1e4);return function(){clearInterval(e)}}),[]),Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsxs)("p",{children:["\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: ",Object(c.jsx)("b",{children:r})]}),b?Object(c.jsx)(S,{}):null,b?null:Object(c.jsx)(J,{tagsHistory:x,toggleCurveDisplay:function(e){var t=x.map((function(t){return t.tag_id===e&&(t.disabled=!t.disabled),t}));O(t)}})]})}function q(){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(c.jsxs)("div",{className:"container mt-5 text-center",children:[Object(c.jsx)("h1",{children:"Error 404"}),Object(c.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})]})})})}function K(){var e=Object(d.g)().id;return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary h-100",children:Object(c.jsxs)("div",{className:"row m-0 p-0",children:[Object(c.jsx)(I,{deviceId:e}),Object(c.jsx)("div",{className:"col-10 m-0 p-0",children:Object(c.jsx)("div",{className:"content-height p-3",children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/overview/"),component:function(){return Object(c.jsx)(R,{device_id:e})}}),Object(c.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/settings/"),component:function(){return Object(c.jsx)(G,{device_id:e})}}),Object(c.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/events/"),component:function(){return Object(c.jsx)(H,{device_id:e})}}),Object(c.jsx)(d.b,{exact:!0,path:"/device/".concat(e,"/graphs/"),component:function(){return Object(c.jsx)(V,{device_id:e})}}),Object(c.jsx)(d.b,{component:q})]})})})]})})})}function Q(){return Object(c.jsx)("div",{className:"col-2 m-0 p-0",children:Object(c.jsx)("div",{className:"bg-dark bg-color-gray p-3 h-100",children:Object(c.jsxs)("div",{className:"nav flex-column nav-pills ",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/company/overview/",children:"\u041e\u0431\u0437\u043e\u0440"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/company/facilities/",children:"\u041e\u0431\u044a\u0435\u043a\u0442\u044b"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/company/employers/",children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"}),Object(c.jsx)(l.c,{className:"nav-link text-light",activeClassName:"bg-dark",to:"/company/profile/",children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})})}var X=function(e){var t=e.device;return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)(l.b,{className:"nav-link p-0 m-0",to:"/device/".concat(t.id,"/overview/"),children:Object(c.jsxs)("div",{className:"border border-secondary rounded p-2 h-100 bg-dark text-light card-hover",children:[Object(c.jsx)("h6",{className:"",children:t.name}),Object(c.jsx)("div",{className:"p-0 m-0 small w-100",children:Object(c.jsx)("table",{className:"table table-sm p-0 m-0 table-dark text-light w-100",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:" \u0421\u0432\u044f\u0437\u044c: "}),Object(c.jsx)("td",{className:"text-right",children:" \u041e\u041a "})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"  \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e: "}),Object(c.jsx)("td",{className:"text-right",children:" 16:08 "})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"   \u0410\u0432\u0430\u0440\u0438\u0438: "}),Object(c.jsx)("td",{className:"text-right",children:" \u041d\u0435\u0442  "})]})]})})})]})})})};var Y=function(e){var t,a=e.facilityInfo,n=a.devices;return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"card bg-dark text-light shadow-sm p-0 m-0",children:[Object(c.jsx)("h6",{className:"px-2 pt-2 pb-0 m-0",children:a.name}),Object(c.jsx)("div",{className:"container-fluid h-100 p-1 m-0 row",children:n.length>0?(t=n,t.map((function(e,t){return Object(c.jsx)("div",{className:"col-xl-3 col-lg-4 col-md-6 p-1 m-0",children:Object(c.jsx)(X,{device:e,index:t})},e.id)}))):Object(c.jsx)("p",{className:"text-secondary p-1",children:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u043d\u0435\u0442 ..."})})]})})},Z="http://bfcloud.space";function $(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],r=t[1],i=s.a.useState(!0),l=Object(o.a)(i,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){!function(e){ee.apply(this,arguments)}((function(e){r(e),j(!1)}))}),[]),Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)("h3",{className:"px-3 pt-3 pb-0",children:"\u041e\u0431\u0437\u043e\u0440 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(c.jsx)("div",{className:"container-fluid py-0 px-2 m-0 row",children:d?Object(c.jsx)(S,{}):Object(c.jsx)(s.a.Fragment,{children:a.facilities.map((function(e,t){return Object(c.jsx)("div",{className:"container-fluid px-2 py-0 mx-0 my-2 col-lg-6",children:Object(c.jsx)(Y,{facilityInfo:e,index:t})},e.id)}))})})]})}function ee(){return(ee=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get(Z+"/company/info/");case 2:a=e.sent,t(Object(j.a)({},a.data));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"p-3",children:[Object(c.jsx)("h3",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(c.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function ae(){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"p-3",children:[Object(c.jsx)("h3",{children:"\u041e\u0431\u0437\u043e\u0440 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(c.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function ce(){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)("div",{className:"p-3",children:[Object(c.jsx)("h3",{children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"}),Object(c.jsx)("p",{children:"\u0420\u0430\u0437\u0434\u0435\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 ... "})]})})}function ne(){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary h-100",children:Object(c.jsxs)("div",{className:"row m-0 p-0",children:[Object(c.jsx)(Q,{}),Object(c.jsx)("div",{className:"col-10 m-0 p-0",children:Object(c.jsx)("div",{className:"content-height",children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/company",component:$}),Object(c.jsx)(d.b,{exact:!0,path:"/company/overview",component:$}),Object(c.jsx)(d.b,{exact:!0,path:"/company/facilities",component:ae}),Object(c.jsx)(d.b,{exact:!0,path:"/company/employers",component:te}),Object(c.jsx)(d.b,{exact:!0,path:"/company/profile",component:ce}),Object(c.jsx)(d.b,{component:q})]})})})]})})})}var se=function(e){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"bg-color-dark-gray text-light content-height",children:Object(c.jsxs)("div",{className:"container card mt-5 p-3 w-100",style:{background:"rgba(0,0,0,0.8)"},children:[Object(c.jsx)("div",{className:"text-center pt-4",children:Object(c.jsxs)("h3",{children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 ",Object(c.jsx)("b",{children:"BFCloud"})]})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"text-center",children:Object(c.jsxs)("h5",{children:["\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b",Object(c.jsx)(l.b,{className:"px-2",to:"/user/login/",children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"}),"\u0438\u043b\u0438",Object(c.jsx)(l.b,{className:"px-2",to:"/user/registration/",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})]})}),Object(c.jsxs)("div",{className:"card-columns py-5",children:[Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("h6",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"})})}),Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("h6",{children:"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0430\u0432\u0430\u0440\u0438\u0439\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u0445 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 "})})}),Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("h6",{children:"\u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})})}),Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("h6",{children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 API \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u043c \u041f\u041e \u0438 IoT \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438"})})}),Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsx)("h6",{children:"\u0415\u0434\u0438\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432 \u0438 \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 "})})}),Object(c.jsx)("div",{className:"card border-secondary",style:{background:"none"},children:Object(c.jsx)("div",{className:"card-body text-center",children:Object(c.jsxs)("h6",{children:[" \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u0435\u0439 \u0441\u0435\u0440\u0432\u0438\u0441\u0430",Object(c.jsx)("a",{className:"px-2",href:"#",onClick:function(){f.login("admin","admin",(function(){e.history.push("/company/overview/")}))},children:"\u0414\u0435\u043c\u043e-\u0432\u0435\u0440\u0441\u0438\u044f: \u0411\u0423\u041c\u041f-14"})]})})})]})]})})})},re=a(23),ie=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(e){var c;return Object(x.a)(this,a),(c=t.call(this,e)).state={username:"",password:""},c.handleChange=c.handleChange.bind(Object(N.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(N.a)(c)),c}return Object(O.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(re.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();f.login(this.state.username,this.state.password,(function(){t.props.history.push("/company/overview/")}))}},{key:"render",value:function(){return Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(c.jsxs)("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"},children:[Object(c.jsx)("h2",{children:"\u0412\u0445\u043e\u0434"}),Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"username",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),Object(c.jsx)("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"pwd",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(c.jsx)("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(c.jsxs)("div",{className:"pt-3",children:[Object(c.jsx)("span",{className:"pr-2 text-secondary",children:"\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(c.jsx)(l.b,{className:"",to:"/user/registration/",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})})}}]),a}(n.Component),oe=function(e){Object(k.a)(a,e);var t=Object(w.a)(a);function a(e){var c;return Object(x.a)(this,a),(c=t.call(this,e)).state={username:"",password:"",email:"",errors:{username:null,email:null,password:null}},c.handleChange=c.handleChange.bind(Object(N.a)(c)),c.handleSubmit=c.handleSubmit.bind(Object(N.a)(c)),c}return Object(O.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(re.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.post("/user/create/",{username:this.state.username,email:this.state.email,password:this.state.password});case 4:return a=e.sent,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.stack),this.setState({errors:e.t0.response.data});case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(c.jsxs)("div",{className:"container card p-3 mt-5 bg-dark",style:{maxWidth:"500px"},children:[Object(c.jsx)("h2",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"username",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"}),Object(c.jsx)("input",{name:"username",type:"text",className:"form-control bg-secondary border-secondary text-light",id:"username",value:this.state.username,onChange:this.handleChange}),this.state.errors.username?Object(c.jsx)("span",{className:"text-danger",children:this.state.errors.username}):null]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"mail",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),Object(c.jsx)("input",{name:"email",type:"email",className:"form-control bg-secondary border-secondary text-light",id:"mail",value:this.state.email,onChange:this.handleChange}),this.state.errors.email?Object(c.jsx)("span",{className:"text-danger",children:this.state.errors.email}):null]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"pwd",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(c.jsx)("input",{name:"password",type:"password",className:"form-control bg-secondary border-secondary text-light",id:"pwd",value:this.state.password,onChange:this.handleChange}),this.state.errors.password?Object(c.jsx)("span",{className:"text-danger",children:this.state.errors.password}):null]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(c.jsxs)("div",{className:"pt-3",children:[Object(c.jsx)("span",{className:"pr-2 text-secondary",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(c.jsx)(l.b,{className:"",to:"/user/login/",children:"\u0412\u0445\u043e\u0434"})]})]})]})})}}]),a}(n.Component);function le(e){return Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)("div",{className:"bg-color-dark-gray text-secondary content-height",children:Object(c.jsxs)("div",{className:"container card bg-dark shadow-sm my-4 pt-4",children:[Object(c.jsx)("h2",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(c.jsx)("div",{className:"row my-3",children:Object(c.jsx)("div",{className:"col-lg-6",children:Object(c.jsx)("table",{className:"table text-light tadle-dark ",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"border-secondary",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),Object(c.jsx)("td",{className:"border-secondary",children:Object(c.jsx)("b",{children:e.userInfo.username})})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"border-secondary",children:"\u0418\u043c\u044f:"}),Object(c.jsx)("td",{className:"border-secondary",children:Object(c.jsx)("b",{children:e.userInfo.first_name})})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"border-secondary",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"}),Object(c.jsx)("td",{className:"border-secondary",children:Object(c.jsx)("b",{children:e.userInfo.last_name})})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"border-secondary",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430:"}),Object(c.jsx)("td",{className:"border-secondary",children:Object(c.jsx)("b",{children:e.userInfo.email})})]})]})})})})]})})})}function de(){var e=s.a.useState(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],i=s.a.useState(!1),j=Object(o.a)(i,2),b=j[0],h=j[1],u=s.a.useState({}),m=Object(o.a)(u,2),x=m[0],O=m[1];return Object(n.useEffect)((function(){f.checkAuthentication((function(){r(!1)})),f.onLogin=function(){h(!0)},f.onLogout=function(){h(!1)},f.onUserInfoReaded=function(e){O(e)}}),[]),a?null:Object(c.jsx)(s.a.Fragment,{children:Object(c.jsxs)(l.a,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",component:function(){return Object(c.jsx)("video",{autoplay:"autoplay",muted:!0,loop:"loop",id:"myVideo",children:Object(c.jsx)("source",{src:"Earth13426.mp4",type:"video/mp4"})})}}),Object(c.jsx)(F,{authed:b,userInfo:x}),Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",component:se}),Object(c.jsx)(d.b,{exact:!0,path:"/user/login",component:ie}),Object(c.jsx)(d.b,{exact:!0,path:"/user/registration",component:oe}),Object(c.jsx)(y,{exact:!0,path:"/user/profile",component:function(){return Object(c.jsx)(le,{userInfo:x})}}),Object(c.jsx)(y,{path:"/company",component:ne}),Object(c.jsx)(y,{path:"/device/:id",component:K}),Object(c.jsx)(d.b,{component:q})]})]})})}var je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,126)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(de,{})}),document.getElementById("root")),je()},74:function(e,t,a){},75:function(e,t,a){},98:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.c52e1e27.chunk.js.map